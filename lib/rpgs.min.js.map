{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///rpgs.min.js","webpack:///webpack/bootstrap 3c7afa37c5f860fbdac0","webpack:///./src/rpgs/RPGSystem.js","webpack:///./src/rpgs/core/Utils.js","webpack:///./src/rpgs/core/ErrorHandler.js","webpack:///./src/rpgs/core/ErrorCode.js","webpack:///./src/rpgs/actors/ActorNode.js","webpack:///./src/rpgs/core/BaseNode.js","webpack:///./src/rpgs/core/Prop.js","webpack:///./src/rpgs/dialogs/AnswerNode.js","webpack:///./src/rpgs/dialogs/DialogNode.js","webpack:///./src/rpgs/core/CompoundNode.js","webpack:///./src/rpgs/dialogs/TalkNode.js","webpack:///./src/rpgs/quests/QuestNode.js","webpack:///./src/rpgs/quests/QuestStatus.js","webpack:///./src/rpgs/quests/TaskNode.js","webpack:///./src/rpgs/variables/VariableNode.js","webpack:///./src/rpgs/variables/VariableType.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_Utils","_Utils2","_ErrorHandler","_ErrorHandler2","_ErrorCode","_ErrorCode2","_ActorNode","_ActorNode2","_ScriptNode","_ScriptNode2","_AnswerNode","_AnswerNode2","_DialogNode","_DialogNode2","_TalkNode","_TalkNode2","_QuestNode","_QuestNode2","_TaskNode","_TaskNode2","_VariableNode","_VariableNode2","RPGSystem","data","editor","_nodeFactory","rpgs","className","_errorHandler","showMsg","CLASS_NOT_DEFINED","class","_checkAndMergeParams","arguments","length","undefined","MANDATORY_PARAM","param","params","INCORRECT_TYPE","type","uuid","_chainNodeCreator","asChild","_nodeCreator","_self","createChildNode","nodeParams","_lastChild","_parentHistory","addChild","getId","_objectPool","push","name","canAddChild","unshift","shift","INCOMPATIBLE_CHILD","child","parent","node","_getWaitingWiresForNode","map","wire","_setConnection","targetNode","referenceNode","nodeId","wires","i","_tempWires","splice","_getNodesByClass","_editor","_findNode","_removeNode","index","getIndexById","isNodeFound","dispose","nodeId1","nodeId2","CONNECTION_TO_ITSELF","node1","node2","canSetWireType","setWire","IMPROPER_CONNECTION","_addNode","_addActor","_addQuest","_addDialog","_addCondition","_addVariable","_addTalk","_addAnswer","_setWire","referenceNodeId","_getActors","_getConditions","_getDialogs","_getQuests","_getVariables","_setVar","variableId","value","_var","setValue","_getVar","getValue","_serializeData","getData","JSON","stringify","findNode","addNode","removeNode","addActor","addQuest","addDialog","addCondition","addVariable","addTalk","addAnswer","getActors","getConditions","getDialogs","getQuests","getVariables","setVar","getVar","serializeData","d","UUID","self","lut","toString","generate","d0","Math","random","d1","d2","d3","indexOfObject","array","addObjectToArray","expectedType","isPrototypeOf","Error","removeObjectFromArray","spliced","ErrorHandler","errorCode","msg","NODE_NOT_EXISTS","OBJECT_NOT_FOUND","INCORRECT_PARENT_NODE","INCORRECT_LINK_TARGET","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","Object","create","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_BaseNode2","_BaseNode3","_Prop","_Prop2","ActorNode","_name","WeakMap","_dialog","_BaseNode","_this","set","dialog","getName","getDialog","DIALOG","getWires","BaseNode","_rpgs","_uuid","_wires","prop","scriptNode","getRPGS","execute","_checkCondition","VISIBILITY","ACTIVITY","childId","hasOwnProperty","output","_getWires","_removeWire","_removeChildren","ACTION","GOTO","AnswerNode","_text","text","getText","_CompoundNode2","_CompoundNode3","DialogNode","_start","_CompoundNode","startTalk","getStartTalk","talkId","CompoundNode","_children","children","getChildren","TalkNode","_QuestStatus","_QuestStatus2","QuestNode","_title","_description","_status","title","description","status","INCOMPLETE","getTitle","getDescription","getStatus","COMPLETED","FAILED","TaskNode","_VariableType","_VariableType2","VariableNode","_parseBoolean","val","isBool","BOOLEAN","String","toLowerCase","trim","Boolean","_parseString","STRING","_parseNumber","NUMBER","parseFloat","_parseValue","_value","_type","getType"],"mappings":"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","file":"rpgs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _ErrorHandler = __webpack_require__(2);\n\t\n\tvar _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);\n\t\n\tvar _ErrorCode = __webpack_require__(3);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tvar _ActorNode = __webpack_require__(4);\n\t\n\tvar _ActorNode2 = _interopRequireDefault(_ActorNode);\n\t\n\tvar _ScriptNode = __webpack_require__(7);\n\t\n\tvar _ScriptNode2 = _interopRequireDefault(_ScriptNode);\n\t\n\tvar _AnswerNode = __webpack_require__(8);\n\t\n\tvar _AnswerNode2 = _interopRequireDefault(_AnswerNode);\n\t\n\tvar _DialogNode = __webpack_require__(9);\n\t\n\tvar _DialogNode2 = _interopRequireDefault(_DialogNode);\n\t\n\tvar _TalkNode = __webpack_require__(11);\n\t\n\tvar _TalkNode2 = _interopRequireDefault(_TalkNode);\n\t\n\tvar _QuestNode = __webpack_require__(12);\n\t\n\tvar _QuestNode2 = _interopRequireDefault(_QuestNode);\n\t\n\tvar _TaskNode = __webpack_require__(14);\n\t\n\tvar _TaskNode2 = _interopRequireDefault(_TaskNode);\n\t\n\tvar _VariableNode = __webpack_require__(15);\n\t\n\tvar _VariableNode2 = _interopRequireDefault(_VariableNode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar RPGSystem = function RPGSystem(data, editor) {\n\t\n\t  var _objectPool = [],\n\t      _editor = editor || null,\n\t      _errorHandler = new _ErrorHandler2.default(_editor),\n\t      _lastChild = null,\n\t      _parentHistory = [],\n\t      _tempWires = [];\n\t\n\t  function _nodeFactory(data, rpgs) {\n\t    var className = data.class;\n\t\n\t    switch (className) {\n\t      case 'ActorNode':\n\t        return new _ActorNode2.default(data, rpgs);\n\t      case 'ScriptNode':\n\t        return new _ScriptNode2.default(data, rpgs);\n\t      case 'AnswerNode':\n\t        return new _AnswerNode2.default(data, rpgs);\n\t      case 'DialogNode':\n\t        return new _DialogNode2.default(data, rpgs);\n\t      case 'TalkNode':\n\t        return new _TalkNode2.default(data, rpgs);\n\t      case 'QuestNode':\n\t        return new _QuestNode2.default(data, rpgs);\n\t      case 'TaskNode':\n\t        return new _TaskNode2.default(data, rpgs);\n\t      case 'VariableNode':\n\t        return new _VariableNode2.default(data, rpgs);\n\t      default:\n\t        _errorHandler.showMsg(_ErrorCode2.default.CLASS_NOT_DEFINED, { class: className });\n\t        return null;\n\t    }\n\t  }\n\t\n\t  var _findNode = function _findNode(nodeId) {\n\t    var i;\n\t\n\t    for (i = 0; i < _objectPool.length; i++) {\n\t      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\n\t    }\n\t    return null;\n\t  },\n\t      _removeNode = function _removeNode(id) {\n\t    var index = _Utils2.default.getIndexById(_objectPool, id);\n\t    var isNodeFound = index > -1;\n\t\n\t    if (isNodeFound) {\n\t      var node = _objectPool.splice(index, 1)[0];\n\t\n\t      node.dispose();\n\t    }\n\t    return isNodeFound;\n\t  },\n\t      _setConnection = function _setConnection(type, nodeId1, nodeId2) {\n\t    if (nodeId1 === nodeId2) {\n\t      _errorHandler.showMsg(_ErrorCode2.default.CONNECTION_TO_ITSELF, { node: nodeId1 });\n\t    }\n\t\n\t    var node1 = _findNode(nodeId1);\n\t    var node2 = _findNode(nodeId2);\n\t\n\t    if (node2 === null) {\n\t      _tempWires.push({ type: type, targetNode: nodeId1, referenceNode: nodeId2 });\n\t      return;\n\t    }\n\t    if (node1.canSetWireType(type)) {\n\t      node1.setWire(type, node2.getId());\n\t    } else {\n\t      _errorHandler.showMsg(_ErrorCode2.default.IMPROPER_CONNECTION, {\n\t        type: type,\n\t        node1: nodeId1,\n\t        node2: nodeId2\n\t      });\n\t    }\n\t  };\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  // METHOD CHAINING\n\t  ////////////////////////////////////////////////////////////////\n\t\n\t  /**\r\n\t   * Method used to check passed parameters and later merge them into\r\n\t   * single object.\r\n\t   * @param  {string} id      Mandatory id of node.\r\n\t   * @param  {object} params  Optional parameters.\r\n\t   * @return {object} Parameters merged into object.\r\n\t   */\n\t  function _checkAndMergeParams() {\n\t    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _errorHandler.showMsg(_ErrorCode2.default.MANDATORY_PARAM, { param: 'id' });\n\t    var params = arguments[1];\n\t\n\t    if (typeof id !== 'string') {\n\t      _errorHandler.showMsg(_ErrorCode2.default.INCORRECT_TYPE, { type: 'string' });\n\t    }\n\t    if (params !== undefined && (typeof params === 'undefined' ? 'undefined' : _typeof(params)) !== 'object') {\n\t      _errorHandler.showMsg(_ErrorCode2.default.INCORRECT_TYPE, { type: 'object' });\n\t    } else if (params === undefined) {\n\t      params = {};\n\t    }\n\t    params.uuid = id;\n\t    return params;\n\t  }\n\t\n\t  function _chainNodeCreator(id, params, asChild, className) {\n\t    // First, we check that id and params are valid.\n\t    params = _checkAndMergeParams(id, params);\n\t    // Class name for later usage.\n\t    params.class = className;\n\t    _nodeCreator(params, asChild);\n\t    return _self;\n\t  }\n\t\n\t  /**\r\n\t   * This method helps in the creation of nodes. Its focus on proper\r\n\t   * placement of nodes in tree.\r\n\t   * @param  {object} params  Parameters of created node.\r\n\t   * @param  {boolean} asChild Determines if node should be added as child\r\n\t   * of another node or as an independent node.\r\n\t   */\n\t  function _nodeCreator(params, asChild) {\n\t    // Test if node should be added as child or parent.\n\t    if (asChild) {\n\t      // If last added child was not null then we must check additional conditions.\n\t      if (_lastChild !== null) {\n\t        // If constructor name of previous child node, is equal to name of class,\n\t        // whose we try to create, it means node should be added to current parent.\n\t        if (_lastChild.constructor.name === params.class) {\n\t          createChildNode(params);\n\t        }\n\t        // If names of constructors not match, then we must check if new node\n\t        // can be added as child to our previous child.\n\t        else if (_lastChild.canAddChild(params.class)) {\n\t            _parentHistory.unshift(_lastChild);\n\t            createChildNode(params);\n\t          }\n\t          // Finally if previous conditions are false we try go back to previous\n\t          // parent node.\n\t          else {\n\t              _lastChild = _parentHistory.shift() || null;\n\t              _nodeCreator(params, asChild);\n\t            }\n\t      }\n\t      // If last child is null, then we check if node can be added to current\n\t      // parent node.\n\t      else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\n\t          createChildNode(params);\n\t        }\n\t        // If last child and last parent is equal to null, then new child node\n\t        // cant be added, so we throw error.\n\t        else {\n\t            _errorHandler.showMsg(_ErrorCode2.default.INCOMPATIBLE_CHILD, {\n\t              child: params.class,\n\t              parent: _parentHistory.length > 0 ? _parentHistory[0].constructor.name : 'null'\n\t            });\n\t          }\n\t    } else {\n\t      // If node is added as parent, then last child is set to null\n\t      // and parent history is cleared.\n\t      _lastChild = null;\n\t      _parentHistory.length = 0;\n\t      // After that, new node is created.\n\t      var node = _nodeFactory(params, _self);\n\t      _parentHistory = [node];\n\t      _objectPool.push(node);\n\t    }\n\t\n\t    _getWaitingWiresForNode(params.uuid).map(function (wire) {\n\t      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\n\t    });\n\t\n\t    function createChildNode(nodeParams) {\n\t      // We create a new node, and then set as the last child.\n\t      _lastChild = _nodeFactory(nodeParams, _self);\n\t      // Then we add our freshly created node to its parent.\n\t      _parentHistory[0].addChild(_lastChild.getId());\n\t      // Finally new node is added to main storage object.\n\t      _objectPool.push(_lastChild);\n\t    }\n\t  }\n\t\n\t  function _getWaitingWiresForNode(nodeId) {\n\t    var wires = [];\n\t    for (var i = _tempWires.length - 1; i >= 0; i--) {\n\t      if (_tempWires[i].referenceNode === nodeId) {\n\t        wires.push(_tempWires.splice(i, 1)[0]);\n\t      }\n\t    }\n\t    return wires;\n\t  }\n\t\n\t  function _getNodesByClass(className) {\n\t    return _objectPool.map(function (node) {\n\t      return node.constructor.name === className;\n\t    });\n\t  }\n\t\n\t  /**\r\n\t   * Helper method that is used to remove nodes from object pool\r\n\t   * and reset context of 'method chaining' algorithm.\r\n\t   * @param  {string} id  Id of node to be removed.\r\n\t   */\n\t  var _chainNodeRemover = function _chainNodeRemover(id) {\n\t    _lastChild = null;\n\t    _parentHistory.length = 0;\n\t    _removeNode(id);\n\t    return this;\n\t  },\n\t      _addNode = function _addNode(className, params, asChild) {\n\t    params.class = className;\n\t    _nodeCreator(params, asChild);\n\t    return this;\n\t  },\n\t      _addActor = function _addActor(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'ActorNode');\n\t  },\n\t      _addQuest = function _addQuest(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'QuestNode');\n\t  },\n\t      _addDialog = function _addDialog(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'DialogNode');\n\t  },\n\t      _addCondition = function _addCondition(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'ScriptNode');\n\t  },\n\t      _addVariable = function _addVariable(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'VariableNode');\n\t  },\n\t      _addTalk = function _addTalk(id, params) {\n\t    return _chainNodeCreator(id, params, true, 'TalkNode');\n\t  },\n\t      _addAnswer = function _addAnswer(id, params) {\n\t    return _chainNodeCreator(id, params, true, 'AnswerNode');\n\t  },\n\t      _setWire = function _setWire(type, referenceNodeId) {\n\t    var targetNode = _lastChild;\n\t    if (targetNode === null && _parentHistory.length > 0) {\n\t      targetNode = _parentHistory[0];\n\t    } else {\n\t      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n\t        child:className,\r\n\t        parent: _parentHistory.length > 0\r\n\t              ? _parentHistory[0].constructor.name\r\n\t              : 'null'\r\n\t      });*/\n\t    }\n\t    _setConnection(type, targetNode.getId(), referenceNodeId);\n\t    return this;\n\t  },\n\t\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  //GETTERS\n\t  ////////////////////////////////////////////////////////////////\n\t  _getActors = function _getActors() {\n\t    return _getNodesByClass('ActorNode');\n\t  },\n\t      _getConditions = function _getConditions() {\n\t    return _getNodesByClass('ScriptNode');\n\t  },\n\t      _getDialogs = function _getDialogs() {\n\t    return _getNodesByClass('DialogNode');\n\t  },\n\t      _getQuests = function _getQuests() {\n\t    return _getNodesByClass('QuestNode');\n\t  },\n\t      _getVariables = function _getVariables() {\n\t    return _getNodesByClass('VariableNode');\n\t  },\n\t\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  //MISCALINEUS\n\t  ////////////////////////////////////////////////////////////////\n\t\n\t  _setVar = function _setVar(variableId, value) {\n\t    var _var = _findNode(variableId);\n\t    if (_var !== null) _var.setValue(value);\n\t  },\n\t      _getVar = function _getVar(variableId) {\n\t    var _var = _findNode(variableId);\n\t    return _var !== null ? _var.getValue() : undefined;\n\t  },\n\t      _serializeData = function _serializeData() {\n\t    var data = _objectPool.map(function (obj) {\n\t      return obj.getData ? obj.getData() : obj;\n\t    });\n\t    return JSON.stringify(data);\n\t  };\n\t\n\t  var _self = {\n\t    ////////////////////////////////////////////\n\t    // General node methods\n\t    ////////////////////////////////////////////\n\t    findNode: _findNode,\n\t    addNode: _addNode,\n\t    removeNode: _removeNode,\n\t\n\t    ////////////////////////////////////////////\n\t    // Link creation methods\n\t    ////////////////////////////////////////////\n\t    setWire: _setWire,\n\t\n\t    ////////////////////////////////////////////\n\t    // Chainable methods\n\t    ////////////////////////////////////////////\n\t    addActor: _addActor,\n\t    addQuest: _addQuest,\n\t    addDialog: _addDialog,\n\t    addCondition: _addCondition,\n\t    addVariable: _addVariable,\n\t    addTalk: _addTalk,\n\t    addAnswer: _addAnswer,\n\t\n\t    ////////////////////////////////////////////\n\t    // Getter methods\n\t    ////////////////////////////////////////////\n\t    getActors: _getActors,\n\t    getConditions: _getConditions,\n\t    getDialogs: _getDialogs,\n\t    getQuests: _getQuests,\n\t    getVariables: _getVariables,\n\t\n\t    ////////////////////////////////////////////\n\t    // Miscalineus methods\n\t    ////////////////////////////////////////////\n\t    setVar: _setVar,\n\t    getVar: _getVar,\n\t    serializeData: _serializeData\n\t  };\n\t  if (data) _objectPool = data.map(function (d) {\n\t    return _nodeFactory(d, _self);\n\t  });\n\t\n\t  return _self;\n\t};\n\tmodule.exports = RPGSystem;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * Fast UUID generator, RFC4122 version 4 compliant.\r\n\t * @author Jeff Ward (jcward.com).\r\n\t * @license MIT license\r\n\t * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n\t **/\n\t\n\tvar UUID = function () {\n\t  var self = {};\n\t  var lut = [];\n\t  var i;\n\t\n\t  for (i = 0; i < 256; i++) {\n\t    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n\t  }\n\t\n\t  self.generate = function () {\n\t    var d0 = Math.random() * 0xffffffff | 0;\n\t    var d1 = Math.random() * 0xffffffff | 0;\n\t    var d2 = Math.random() * 0xffffffff | 0;\n\t    var d3 = Math.random() * 0xffffffff | 0;\n\t\n\t    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\n\t  };\n\t\n\t  return self;\n\t}();\n\t\n\texports.UUID = UUID;\n\t\n\tvar indexOfObject = function indexOfObject(array, obj) {\n\t  var i;\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i] === obj) return i;\n\t  }\n\t  return -1;\n\t};\n\t\n\texports.indexOfObject = indexOfObject;\n\t\n\tvar getIndexById = function getIndexById(array, id) {\n\t  var i;\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i].getId() === id) return i;\n\t  }\n\t  return -1;\n\t};\n\texports.getIndexById = getIndexById;\n\t\n\texports.addObjectToArray = function (array, obj, expectedType) {\n\t  if (expectedType !== undefined && expectedType !== null) {\n\t    if (expectedType.isPrototypeOf(obj)) {\n\t      throw new Error('Wrong type of object passed. Expected ' + expectedType.constructor.name + ' object.');\n\t    }\n\t  }\n\t  if (indexOfObject(array, obj) === -1) {\n\t    array.push(obj);\n\t  }\n\t  return array;\n\t};\n\t\n\t/* exports.removeObjectById = function(array,id) {\r\n\t  let index = getIndexById(array,id);\r\n\t  if(index !== -1) {\r\n\t    let spliced = array.splice(index,1);\r\n\t    if(spliced.dispose) spliced.dispose();\r\n\t  }\r\n\t  return array;\r\n\t}*/\n\t\n\texports.removeObjectFromArray = function (array, obj) {\n\t  var index = indexOfObject(array, obj);\n\t  if (index !== -1) {\n\t    var spliced = array.splice(index, 1);\n\t    if (spliced.dispose) spliced.dispose();\n\t  }\n\t  return array;\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _ErrorCode = __webpack_require__(3);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ErrorHandler = function ErrorHandler(editor) {\n\t  return {\n\t    showMsg: function showMsg(errorCode, params) {\n\t      var msg = '';\n\t\n\t      switch (errorCode) {\n\t        case _ErrorCode2.default.NODE_NOT_EXISTS:\n\t          msg = 'Node of type ' + params.type + ' is not defined.';\n\t          break;\n\t        case _ErrorCode2.default.CLASS_NOT_DEFINED:\n\t          msg = 'Class ' + params.class + ' is not defined.';\n\t          break;\n\t        case _ErrorCode2.default.CONNECTION_TO_ITSELF:\n\t          msg = 'Cannot connect node \"' + params.node + '\" to itself.';\n\t          break;\n\t        case _ErrorCode2.default.IMPROPER_CONNECTION:\n\t          msg = 'Cannot create connection of type \"' + params.type + '\"' + (' from node id \"' + params.node1 + '\" to node id \"' + params.node2 + '\".');\n\t          break;\n\t        case _ErrorCode2.default.OBJECT_NOT_FOUND:\n\t          msg = 'Cannot find object with id \"' + params.id + '\"';\n\t          break;\n\t        case _ErrorCode2.default.MANDATORY_PARAM:\n\t          msg = 'Parameter \"' + params.param + '\" was expected but instead got undefined.';\n\t          break;\n\t        case _ErrorCode2.default.INCORRECT_TYPE:\n\t          msg = 'Wrong type of argument. Expected \"' + params.type + '\"';\n\t          break;\n\t        case _ErrorCode2.default.INCORRECT_PARENT_NODE:\n\t          msg = 'Node of type \"' + params.child + '\" can be added only to \"' + params.parent + '\" node.';\n\t          break;\n\t        case _ErrorCode2.default.INCORRECT_LINK_TARGET:\n\t          msg = 'Cannot create link connection to null node.';\n\t          break;\n\t        case _ErrorCode2.default.INCOMPATIBLE_CHILD:\n\t          msg = 'Cannot add child of type \"' + params.child + '\" into parent of type \"' + params.parent + '\".';\n\t          break;\n\t        default:\n\t          msg = 'Unknown error code passed: ' + errorCode;\n\t      }\n\t      if (editor) {\n\t        editor.showMsg(msg);\n\t      } else {\n\t        throw new Error(msg);\n\t        // add warning mode?\n\t      }\n\t    }\n\t  };\n\t};\n\tmodule.exports = ErrorHandler;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar NODE_NOT_EXISTS = 0;\n\tvar CLASS_NOT_DEFINED = 1;\n\tvar CONNECTION_TO_ITSELF = 2;\n\tvar IMPROPER_CONNECTION = 3;\n\tvar OBJECT_NOT_FOUND = 4;\n\tvar MANDATORY_PARAM = 5;\n\tvar INCORRECT_TYPE = 6;\n\tvar INCORRECT_PARENT_NODE = 7;\n\tvar INCORRECT_LINK_TARGET = 8;\n\tvar INCOMPATIBLE_CHILD = 9;\n\t\n\texports.NODE_NOT_EXISTS = NODE_NOT_EXISTS;\n\texports.CLASS_NOT_DEFINED = CLASS_NOT_DEFINED;\n\texports.CONNECTION_TO_ITSELF = CONNECTION_TO_ITSELF;\n\texports.IMPROPER_CONNECTION = IMPROPER_CONNECTION;\n\texports.OBJECT_NOT_FOUND = OBJECT_NOT_FOUND;\n\texports.MANDATORY_PARAM = MANDATORY_PARAM;\n\texports.INCORRECT_TYPE = INCORRECT_TYPE;\n\texports.INCORRECT_PARENT_NODE = INCORRECT_PARENT_NODE;\n\texports.INCORRECT_LINK_TARGET = INCORRECT_LINK_TARGET;\n\texports.INCOMPATIBLE_CHILD = INCOMPATIBLE_CHILD;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode2 = __webpack_require__(5);\n\t\n\tvar _BaseNode3 = _interopRequireDefault(_BaseNode2);\n\t\n\tvar _Prop = __webpack_require__(6);\n\t\n\tvar _Prop2 = _interopRequireDefault(_Prop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar ActorNode = function () {\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _name = new WeakMap();\n\t  var _dialog = new WeakMap();\n\t  // let _inventory = new WeakMap();\n\t\n\t  return function (_BaseNode) {\n\t    _inherits(ActorNode, _BaseNode);\n\t\n\t    function ActorNode(data) {\n\t      _classCallCheck(this, ActorNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (ActorNode.__proto__ || Object.getPrototypeOf(ActorNode)).call(this, data));\n\t\n\t      _name.set(_this, data ? data.name : '');\n\t      _dialog.set(_this, data ? data.dialog : '');\n\t      // _inventory.set(this,data.inventory ? );\n\t      return _this;\n\t    }\n\t\n\t    _createClass(ActorNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(ActorNode.prototype.__proto__ || Object.getPrototypeOf(ActorNode.prototype), 'getData', this).call(this);\n\t\n\t        data.name = this.getName();\n\t        data.dialog = this.getDialog();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setName',\n\t      value: function setName(value) {\n\t        _name.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getName',\n\t      value: function getName() {\n\t        return _name.get(this);\n\t      }\n\t    }, {\n\t      key: 'getDialog',\n\t      value: function getDialog() {\n\t        return _dialog.get(this);\n\t      }\n\t\n\t      /* getInventory() {\r\n\t        return _inventory.get(this);\r\n\t      }*/\n\t\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        switch (type) {\n\t          case _Prop2.default.DIALOG:\n\t            return this.getWires(_Prop2.default.DIALOG).length === 0;\n\t          default:\n\t            return false;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _name.delete(this);\n\t        _dialog.delete(this);\n\t        // _inventory.delete(this);\n\t        _get(ActorNode.prototype.__proto__ || Object.getPrototypeOf(ActorNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return ActorNode;\n\t  }(_BaseNode3.default);\n\t}();\n\t\n\tmodule.exports = ActorNode;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _Prop = __webpack_require__(6);\n\t\n\tvar _Prop2 = _interopRequireDefault(_Prop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BaseNode = function () {\n\t\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _rpgs = new WeakMap();\n\t  var _uuid = new WeakMap();\n\t  var _wires = new WeakMap();\n\t\n\t  return function () {\n\t    function BaseNode(data, rpgs) {\n\t      _classCallCheck(this, BaseNode);\n\t\n\t      _rpgs.set(this, rpgs);\n\t      // If uuid not present, then by default we assign Universally Unique ID.\n\t      _uuid.set(this, data.uuid ? data.uuid : _Utils2.default.UUID.generate());\n\t      _wires.set(this, data.wires ? data.wires : {});\n\t    }\n\t\n\t    _createClass(BaseNode, [{\n\t      key: 'getRPGS',\n\t      value: function getRPGS() {\n\t        return _rpgs.get(this);\n\t      }\n\t    }, {\n\t      key: 'setId',\n\t      value: function setId(value) {\n\t        _uuid.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getId',\n\t      value: function getId() {\n\t        return _uuid.get(this);\n\t      }\n\t    }, {\n\t      key: '_checkCondition',\n\t      value: function _checkCondition(prop) {\n\t        var nodeId = this.getWires(prop)[0];\n\t        var scriptNode = this.getRPGS().findNode(nodeId);\n\t\n\t        return scriptNode != null && scriptNode.execute ? scriptNode.execute() : true;\n\t      }\n\t\n\t      /**\r\n\t       * Returns boolean that reflects visiblility state of node.\r\n\t       * @return {Boolean} Visibility state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isVisible',\n\t      value: function isVisible() {\n\t        return this._checkCondition(_Prop2.default.VISIBILITY);\n\t      }\n\t\n\t      /**\r\n\t       * Returns boolean that reflects activity state of node.\r\n\t       * @return {Boolean} Active state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isActive',\n\t      value: function isActive() {\n\t        return this._checkCondition(_Prop2.default.ACTIVITY);\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        return {\n\t          class: this.constructor.name,\n\t          uuid: this.getId(),\n\t          wires: _wires.get(this)\n\t        };\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {}\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {}\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        return null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        return [];\n\t      }\n\t    }, {\n\t      key: '_removeChildren',\n\t      value: function _removeChildren() {}\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        return false;\n\t      }\n\t    }, {\n\t      key: '_setWire',\n\t      value: function _setWire(obj, type, nodeId) {\n\t        if (!obj.hasOwnProperty(type)) {\n\t          obj[type] = [];\n\t        }\n\t        obj[type].push(nodeId);\n\t        return obj;\n\t      }\n\t    }, {\n\t      key: 'setWire',\n\t      value: function setWire(type, nodeId) {\n\t        _wires.set(this, this._setWire(_wires.get(this), type, nodeId));\n\t      }\n\t    }, {\n\t      key: '_getWires',\n\t      value: function _getWires(obj, type) {\n\t        var output = void 0;\n\t\n\t        if (type) output = !obj.hasOwnProperty(type) ? [] : obj[type];else output = obj;\n\t        return output;\n\t      }\n\t    }, {\n\t      key: 'getWires',\n\t      value: function getWires(type) {\n\t        return this._getWires(_wires.get(this), type);\n\t      }\n\t    }, {\n\t      key: '_removeWire',\n\t      value: function _removeWire(obj, type, nodeId) {\n\t        if (obj.hasOwnProperty(type)) {\n\t          obj[type] = _Utils2.default.removeObjectFromArray(obj[type], nodeId);\n\t        }\n\t        return obj;\n\t      }\n\t    }, {\n\t      key: 'removeWire',\n\t      value: function removeWire(type, nodeId) {\n\t        _wires.set(this, this._removeWire(_wires.get(this), type, nodeId));\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _rpgs.delete(this);\n\t        _uuid.delete(this);\n\t        _wires.delete(this);\n\t        this._removeChildren();\n\t      }\n\t    }]);\n\t\n\t    return BaseNode;\n\t  }();\n\t}();\n\tmodule.exports = BaseNode;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar VISIBILITY = 'visibility';\n\tvar ACTIVITY = 'activity';\n\tvar ACTION = 'action';\n\tvar GOTO = 'goto';\n\tvar DIALOG = 'dialog';\n\t\n\texports.VISIBILITY = VISIBILITY;\n\texports.ACTIVITY = ACTIVITY;\n\texports.ACTION = ACTION;\n\texports.GOTO = GOTO;\n\texports.DIALOG = DIALOG;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t/*'use strict';\r\n\timport BaseNode from '../core/BaseNode';\r\n\timport compiler from '@risingstack/nx-compile';\r\n\r\n\tlet ScriptNode = (function () {\r\n\r\n\t  let _label = new WeakMap();\r\n\t  let _script = new WeakMap();\r\n\t  let _compiled = new WeakMap();\r\n\r\n\t  return class ScriptNode extends BaseNode {\r\n\t    constructor(data, rpgs) {\r\n\t      super(data, rpgs);\r\n\t      _label.set(this, data.label ? data.label : '');\r\n\t      _script.set(this, data.script ? data.script : `return true;`);\r\n\t      compiler.expose('console');\r\n\t      _compiled.set(this, compiler.compileCode(_script.get(this)));\r\n\t    }\r\n\r\n\t    setLabel(text) {\r\n\t      _label.set(this, text);\r\n\t    }\r\n\r\n\t    getLabel() {\r\n\t      return _label.get(this);\r\n\t    }\r\n\r\n\t    setScript(script) {\r\n\t      _script.set(this, script);\r\n\t      _compiled.set(this, compiler.compileCode(_script.get(this)));\r\n\t    }\r\n\r\n\t    getScript() {\r\n\t      return _script.get(this);\r\n\t    }\r\n\r\n\t    execute() {\r\n\t      return _compiled.get(this)({rpgs: this.getRPGS()});\r\n\t    }\r\n\r\n\t    getData() {\r\n\t      let data = super.getData();\r\n\t      data.label = this.getLabel();\r\n\t      data.script = this.getScript();\r\n\t      return data;\r\n\t    }\r\n\r\n\t    setWire(type, linkId) {}\r\n\t    getWires(type) {}\r\n\t    removeWire(type, linkId) {}\r\n\r\n\t    dispose() {\r\n\t      _label.delete(this);\r\n\t      _script.delete(this);\r\n\t      _compiled.delete(this);\r\n\t      super.dispose();\r\n\t    }\r\n\r\n\t  };\r\n\t})();\r\n\tmodule.exports = ScriptNode;\r\n\t*/\n\t\"use strict\";\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode2 = __webpack_require__(5);\n\t\n\tvar _BaseNode3 = _interopRequireDefault(_BaseNode2);\n\t\n\tvar _Prop = __webpack_require__(6);\n\t\n\tvar _Prop2 = _interopRequireDefault(_Prop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AnswerNode = function () {\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _text = new WeakMap();\n\t\n\t  return function (_BaseNode) {\n\t    _inherits(AnswerNode, _BaseNode);\n\t\n\t    function AnswerNode(data, rpgs) {\n\t      _classCallCheck(this, AnswerNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (AnswerNode.__proto__ || Object.getPrototypeOf(AnswerNode)).call(this, data, rpgs));\n\t\n\t      _text.set(_this, data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(AnswerNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'getData', this).call(this);\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'getTalk',\n\t      value: function getTalk() {\n\t        return this.getWires(_Prop2.default.GOTO)[0];\n\t      }\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        switch (type) {\n\t          case _Prop2.default.VISIBILITY:\n\t            return this.getWires(_Prop2.default.VISIBILITY).length === 0;\n\t          case _Prop2.default.ACTIVITY:\n\t            return this.getWires(_Prop2.default.ACTIVITY).length === 0;\n\t          case _Prop2.default.GOTO:\n\t            return this.getWires(_Prop2.default.GOTO).length === 0;\n\t          default:\n\t            return false;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return AnswerNode;\n\t  }(_BaseNode3.default);\n\t}();\n\tmodule.exports = AnswerNode;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode2 = __webpack_require__(10);\n\t\n\tvar _CompoundNode3 = _interopRequireDefault(_CompoundNode2);\n\t\n\tvar _Prop = __webpack_require__(6);\n\t\n\tvar _Prop2 = _interopRequireDefault(_Prop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DialogNode = function () {\n\t\n\t  var _start = new WeakMap();\n\t\n\t  return function (_CompoundNode) {\n\t    _inherits(DialogNode, _CompoundNode);\n\t\n\t    function DialogNode(data, rpgs) {\n\t      _classCallCheck(this, DialogNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (DialogNode.__proto__ || Object.getPrototypeOf(DialogNode)).call(this, data, rpgs));\n\t\n\t      _start.set(_this, data.startTalk ? data.startTalk : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(DialogNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'getData', this).call(this);\n\t\n\t        data.startTalk = this.getStartTalk();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'TalkNode';\n\t      }\n\t    }, {\n\t      key: 'setStartTalk',\n\t      value: function setStartTalk(talkId) {\n\t        _start.set(this, talkId);\n\t      }\n\t    }, {\n\t      key: 'getStartTalk',\n\t      value: function getStartTalk() {\n\t        return _start.get(this);\n\t      }\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        switch (type) {\n\t          case _Prop2.default.VISIBILITY:\n\t            return this.getWires(_Prop2.default.VISIBILITY).length === 0;\n\t          case _Prop2.default.ACTIVITY:\n\t            return this.getWires(_Prop2.default.ACTIVITY).length === 0;\n\t          default:\n\t            return false;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _start.delete(this);\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return DialogNode;\n\t  }(_CompoundNode3.default);\n\t}();\n\tmodule.exports = DialogNode;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode2 = __webpack_require__(5);\n\t\n\tvar _BaseNode3 = _interopRequireDefault(_BaseNode2);\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CompoundNode = function () {\n\t\n\t  var _children = new WeakMap();\n\t\n\t  return function (_BaseNode) {\n\t    _inherits(CompoundNode, _BaseNode);\n\t\n\t    function CompoundNode(data, rpgs) {\n\t      _classCallCheck(this, CompoundNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (CompoundNode.__proto__ || Object.getPrototypeOf(CompoundNode)).call(this, data, rpgs));\n\t\n\t      _children.set(_this, data.children ? data.children : []);\n\t      return _this;\n\t    }\n\t\n\t    _createClass(CompoundNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'getData', this).call(this);\n\t\n\t        data.children = this.getChildren();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        var children = _children.get(this);\n\t\n\t        _children.set(this, _Utils2.default.addObjectToArray(children, childId));\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        _children.set(this, children.splice(index, 1));\n\t      }\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        return children.length > index ? children[index] : null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        return _children.get(this);\n\t      }\n\t    }, {\n\t      key: '_removeChildren',\n\t      value: function _removeChildren() /* key*/{\n\t        // Add valid implementation...\n\t        // this.removeChildrenFrom(_children.get(this),key);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _children.delete(this);\n\t        _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return CompoundNode;\n\t  }(_BaseNode3.default);\n\t}();\n\tmodule.exports = CompoundNode;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode2 = __webpack_require__(10);\n\t\n\tvar _CompoundNode3 = _interopRequireDefault(_CompoundNode2);\n\t\n\tvar _Prop = __webpack_require__(6);\n\t\n\tvar _Prop2 = _interopRequireDefault(_Prop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TalkNode = function () {\n\t\n\t  var _text = new WeakMap();\n\t\n\t  return function (_CompoundNode) {\n\t    _inherits(TalkNode, _CompoundNode);\n\t\n\t    function TalkNode(data, rpgs) {\n\t      _classCallCheck(this, TalkNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (TalkNode.__proto__ || Object.getPrototypeOf(TalkNode)).call(this, data, rpgs));\n\t\n\t      _text.set(_this, data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(TalkNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'getData', this).call(this);\n\t\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'AnswerNode';\n\t      }\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        switch (type) {\n\t          case _Prop2.default.GOTO:\n\t            return true;\n\t          default:\n\t            return false;\n\t        }\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return TalkNode;\n\t  }(_CompoundNode3.default);\n\t}();\n\tmodule.exports = TalkNode;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode2 = __webpack_require__(10);\n\t\n\tvar _CompoundNode3 = _interopRequireDefault(_CompoundNode2);\n\t\n\tvar _QuestStatus = __webpack_require__(13);\n\t\n\tvar _QuestStatus2 = _interopRequireDefault(_QuestStatus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar QuestNode = function () {\n\t  var _title = new WeakMap();\n\t  var _description = new WeakMap();\n\t  var _status = new WeakMap();\n\t\n\t  return function (_CompoundNode) {\n\t    _inherits(QuestNode, _CompoundNode);\n\t\n\t    function QuestNode(data, rpgs) {\n\t      _classCallCheck(this, QuestNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (QuestNode.__proto__ || Object.getPrototypeOf(QuestNode)).call(this, data, rpgs));\n\t\n\t      _title.set(_this, data.title ? data.title : '');\n\t      _description.set(_this, data.description ? data.description : '');\n\t      _status.set(_this, data.status ? data.status : _QuestStatus2.default.INCOMPLETE);\n\t      return _this;\n\t    }\n\t\n\t    _createClass(QuestNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(QuestNode.prototype.__proto__ || Object.getPrototypeOf(QuestNode.prototype), 'getData', this).call(this);\n\t        data.title = this.getTitle();\n\t        data.description = this.getDescription();\n\t        data.status = this.getStatus();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'TaskNode';\n\t      }\n\t    }, {\n\t      key: 'setTitle',\n\t      value: function setTitle(value) {\n\t        _title.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getTitle',\n\t      value: function getTitle() {\n\t        return _title.get(this);\n\t      }\n\t    }, {\n\t      key: 'setDescription',\n\t      value: function setDescription(value) {\n\t        _description.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getDescription',\n\t      value: function getDescription() {\n\t        return _description.get(this);\n\t      }\n\t    }, {\n\t      key: 'setStatus',\n\t      value: function setStatus(value) {\n\t        switch (value) {\n\t          case _QuestStatus2.default.COMPLETED:\n\t          case _QuestStatus2.default.FAILED:\n\t            _status.set(this, value);\n\t            break;\n\t          case _QuestStatus2.default.INCOMPLETE:\n\t          default:\n\t            _status.set(this, _QuestStatus2.default.INCOMPLETE);\n\t            break;\n\t        };\n\t      }\n\t    }, {\n\t      key: 'getStatus',\n\t      value: function getStatus() {\n\t        return _status.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _title.delete(this);\n\t        _description.delete(this);\n\t        _status.delete(this);\n\t        _get(QuestNode.prototype.__proto__ || Object.getPrototypeOf(QuestNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return QuestNode;\n\t  }(_CompoundNode3.default);\n\t}();\n\tmodule.exports = QuestNode;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar INCOMPLETE = 'questIncomplete';\n\tvar COMPLETED = 'questCompleted';\n\tvar FAILED = 'questFailed';\n\t\n\texports.INCOMPLETE = INCOMPLETE;\n\texports.COMPLETED = COMPLETED;\n\texports.FAILED = FAILED;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _BaseNode2 = __webpack_require__(5);\n\t\n\tvar _BaseNode3 = _interopRequireDefault(_BaseNode2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TaskNode = function () {\n\t  return function (_BaseNode) {\n\t    _inherits(TaskNode, _BaseNode);\n\t\n\t    function TaskNode(data) {\n\t      _classCallCheck(this, TaskNode);\n\t\n\t      return _possibleConstructorReturn(this, (TaskNode.__proto__ || Object.getPrototypeOf(TaskNode)).call(this, data));\n\t    }\n\t    // to do\n\t\n\t\n\t    return TaskNode;\n\t  }(_BaseNode3.default);\n\t}();\n\t\n\tmodule.exports = TaskNode;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _BaseNode2 = __webpack_require__(5);\n\t\n\tvar _BaseNode3 = _interopRequireDefault(_BaseNode2);\n\t\n\tvar _VariableType = __webpack_require__(16);\n\t\n\tvar _VariableType2 = _interopRequireDefault(_VariableType);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar VariableNode = function () {\n\t  var _value = new WeakMap();\n\t  var _type = new WeakMap();\n\t\n\t  function _parseBoolean(val) {\n\t    var isBool = (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === _VariableType2.default.BOOLEAN;\n\t    var output = void 0;\n\t\n\t    if (isBool) {\n\t      output = val;\n\t    } else {\n\t      switch (String(val).toLowerCase().trim()) {\n\t        case 'true':case 'yes':case '1':\n\t          output = true;\n\t          break;\n\t        case 'false':case 'no':case '0':case null:\n\t          output = false;\n\t          break;\n\t        default:\n\t          output = Boolean(val);\n\t          break;\n\t      }\n\t    }\n\t    return output;\n\t  }\n\t\n\t  function _parseString(val) {\n\t    return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === _VariableType2.default.STRING ? val : String(val);\n\t  }\n\t\n\t  function _parseNumber(val) {\n\t    return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === _VariableType2.default.NUMBER ? val : parseFloat(val);\n\t  }\n\t\n\t  function _parseValue(val, type) {\n\t    switch (type) {\n\t      case _VariableType2.default.BOOLEAN:\n\t        return _parseBoolean(val);\n\t      case _VariableType2.default.NUMBER:\n\t        return _parseNumber(val);\n\t      case _VariableType2.default.STRING:\n\t      default:\n\t        return _parseString(val);\n\t    }\n\t  }\n\t\n\t  return function (_BaseNode) {\n\t    _inherits(VariableNode, _BaseNode);\n\t\n\t    function VariableNode(data, rpgs) {\n\t      _classCallCheck(this, VariableNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (VariableNode.__proto__ || Object.getPrototypeOf(VariableNode)).call(this, data, rpgs));\n\t\n\t      _type.set(_this, data.hasOwnProperty('type') ? data.type : _VariableType2.default.STRING);\n\t      _value.set(_this, data.hasOwnProperty('value') ? _parseValue(data.value, _type.get(_this)) : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(VariableNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(VariableNode.prototype.__proto__ || Object.getPrototypeOf(VariableNode.prototype), 'getData', this).call(this);\n\t\n\t        data.type = this.getType();\n\t        data.value = this.getValue();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setValue',\n\t      value: function setValue(val) {\n\t        _value.set(this, _parseValue(val, _type.get(this)));\n\t      }\n\t    }, {\n\t      key: 'getValue',\n\t      value: function getValue() {\n\t        return _value.get(this);\n\t      }\n\t    }, {\n\t      key: 'getType',\n\t      value: function getType() {\n\t        return _type.get(this);\n\t      }\n\t    }, {\n\t      key: 'canSetWireType',\n\t      value: function canSetWireType(type) {\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _value.delete(this);\n\t        _type.delete(this);\n\t        _get(VariableNode.prototype.__proto__ || Object.getPrototypeOf(VariableNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return VariableNode;\n\t  }(_BaseNode3.default);\n\t}();\n\t\n\tmodule.exports = VariableNode;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar BOOLEAN = 'boolean';\n\tvar STRING = 'string';\n\tvar NUMBER = 'number';\n\t\n\texports.BOOLEAN = BOOLEAN;\n\texports.STRING = STRING;\n\texports.NUMBER = NUMBER;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** rpgs.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3c7afa37c5f860fbdac0\n **/","'use strict';\r\nimport Utils from './core/Utils';\r\nimport ErrorHandler from './core/ErrorHandler';\r\nimport ErrorCode from './core/ErrorCode';\r\nimport ActorNode from './actors/ActorNode';\r\nimport ScriptNode from './logic/ScriptNode';\r\nimport AnswerNode from './dialogs/AnswerNode';\r\nimport DialogNode from './dialogs/DialogNode';\r\nimport TalkNode from './dialogs/TalkNode';\r\nimport QuestNode from './quests/QuestNode';\r\nimport TaskNode from './quests/TaskNode';\r\nimport VariableNode from './variables/VariableNode';\r\n\r\nlet RPGSystem = function (data, editor) {\r\n\r\n  let _objectPool = [],\r\n    _editor = editor || null,\r\n    _errorHandler = new ErrorHandler(_editor),\r\n    _lastChild = null,\r\n    _parentHistory = [],\r\n    _tempWires = [];\r\n\r\n  function _nodeFactory(data, rpgs) {\r\n    let className = data.class;\r\n\r\n    switch (className) {\r\n      case 'ActorNode': return new ActorNode(data, rpgs);\r\n      case 'ScriptNode': return new ScriptNode(data, rpgs);\r\n      case 'AnswerNode': return new AnswerNode(data, rpgs);\r\n      case 'DialogNode': return new DialogNode(data, rpgs);\r\n      case 'TalkNode': return new TalkNode(data, rpgs);\r\n      case 'QuestNode': return new QuestNode(data, rpgs);\r\n      case 'TaskNode': return new TaskNode(data, rpgs);\r\n      case 'VariableNode': return new VariableNode(data, rpgs);\r\n      default:\r\n        _errorHandler.showMsg(ErrorCode.CLASS_NOT_DEFINED, {class: className});\r\n        return null;\r\n    }\r\n  }\r\n\r\n  let _findNode = function (nodeId) {\r\n    var i;\r\n\r\n    for (i = 0; i < _objectPool.length; i++) {\r\n      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\r\n    }\r\n    return null;\r\n  },\r\n\r\n  _removeNode = function (id) {\r\n    let index = Utils.getIndexById(_objectPool, id);\r\n    let isNodeFound = index > -1;\r\n\r\n    if (isNodeFound) {\r\n      let node = _objectPool.splice(index, 1)[0];\r\n\r\n      node.dispose();\r\n    }\r\n    return isNodeFound;\r\n  },\r\n\r\n  _setConnection = function (type, nodeId1, nodeId2) {\r\n    if (nodeId1 === nodeId2) {\r\n      _errorHandler.showMsg(ErrorCode.CONNECTION_TO_ITSELF, {node: nodeId1});\r\n    }\r\n\r\n    let node1 = _findNode(nodeId1);\r\n    let node2 = _findNode(nodeId2);\r\n\r\n    if (node2 === null) {\r\n      _tempWires.push({type: type, targetNode: nodeId1, referenceNode: nodeId2});\r\n      return;\r\n    }\r\n    if (node1.canSetWireType(type)) {\r\n      node1.setWire(type, node2.getId());\r\n    } else {\r\n      _errorHandler.showMsg(ErrorCode.IMPROPER_CONNECTION, {\r\n        type: type,\r\n        node1: nodeId1,\r\n        node2: nodeId2\r\n      });\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  // METHOD CHAINING\r\n  ////////////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * Method used to check passed parameters and later merge them into\r\n   * single object.\r\n   * @param  {string} id      Mandatory id of node.\r\n   * @param  {object} params  Optional parameters.\r\n   * @return {object} Parameters merged into object.\r\n   */\r\n  function _checkAndMergeParams(\r\n                id = _errorHandler.showMsg(ErrorCode.MANDATORY_PARAM, {param: 'id'}),\r\n                params) {\r\n      if (typeof id !== 'string') {\r\n        _errorHandler.showMsg(ErrorCode.INCORRECT_TYPE, {type: 'string'});\r\n      }\r\n      if (params !== undefined && typeof params !== 'object') {\r\n        _errorHandler.showMsg(ErrorCode.INCORRECT_TYPE, {type: 'object'});\r\n      } else if (params === undefined){\r\n        params = {};\r\n      }\r\n      params.uuid = id;\r\n      return params;\r\n  }\r\n\r\n  function _chainNodeCreator(id, params, asChild, className) {\r\n    // First, we check that id and params are valid.\r\n    params = _checkAndMergeParams(id, params);\r\n    // Class name for later usage.\r\n    params.class = className;\r\n    _nodeCreator(params, asChild);\r\n    return _self;\r\n  }\r\n\r\n  /**\r\n   * This method helps in the creation of nodes. Its focus on proper\r\n   * placement of nodes in tree.\r\n   * @param  {object} params  Parameters of created node.\r\n   * @param  {boolean} asChild Determines if node should be added as child\r\n   * of another node or as an independent node.\r\n   */\r\n  function _nodeCreator(params, asChild) {\r\n    // Test if node should be added as child or parent.\r\n    if (asChild) {\r\n      // If last added child was not null then we must check additional conditions.\r\n      if (_lastChild !== null) {\r\n        // If constructor name of previous child node, is equal to name of class,\r\n        // whose we try to create, it means node should be added to current parent.\r\n        if (_lastChild.constructor.name === params.class) {\r\n          createChildNode(params);\r\n        }\r\n        // If names of constructors not match, then we must check if new node\r\n        // can be added as child to our previous child.\r\n        else if (_lastChild.canAddChild(params.class)) {\r\n          _parentHistory.unshift(_lastChild);\r\n          createChildNode(params);\r\n        }\r\n        // Finally if previous conditions are false we try go back to previous\r\n        // parent node.\r\n        else {\r\n          _lastChild = _parentHistory.shift() || null;\r\n          _nodeCreator(params, asChild);\r\n        }\r\n      }\r\n      // If last child is null, then we check if node can be added to current\r\n      // parent node.\r\n      else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\r\n        createChildNode(params);\r\n      }\r\n      // If last child and last parent is equal to null, then new child node\r\n      // cant be added, so we throw error.\r\n      else {\r\n        _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n          child: params.class,\r\n          parent: _parentHistory.length > 0\r\n                ? _parentHistory[0].constructor.name\r\n                : 'null'\r\n        });\r\n      }\r\n    } else {\r\n      // If node is added as parent, then last child is set to null\r\n      // and parent history is cleared.\r\n      _lastChild = null;\r\n      _parentHistory.length = 0;\r\n      // After that, new node is created.\r\n      let node = _nodeFactory(params, _self);\r\n      _parentHistory = [node];\r\n      _objectPool.push(node);\r\n    }\r\n\r\n    _getWaitingWiresForNode(params.uuid).map((wire) => {\r\n      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\r\n    });\r\n\r\n    function createChildNode(nodeParams) {\r\n      // We create a new node, and then set as the last child.\r\n      _lastChild = _nodeFactory(nodeParams, _self);\r\n      // Then we add our freshly created node to its parent.\r\n      _parentHistory[0].addChild(_lastChild.getId());\r\n      // Finally new node is added to main storage object.\r\n      _objectPool.push(_lastChild);\r\n    }\r\n  }\r\n\r\n  function _getWaitingWiresForNode(nodeId) {\r\n    let wires = [];\r\n    for (var i = _tempWires.length - 1; i >= 0 ; i--) {\r\n      if (_tempWires[i].referenceNode === nodeId) {\r\n        wires.push(_tempWires.splice(i, 1)[0]);\r\n      }\r\n    }\r\n    return wires;\r\n  }\r\n\r\n\r\n  function _getNodesByClass(className) {\r\n    return _objectPool.map((node) => {\r\n      return node.constructor.name === className;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Helper method that is used to remove nodes from object pool\r\n   * and reset context of 'method chaining' algorithm.\r\n   * @param  {string} id  Id of node to be removed.\r\n   */\r\n  let _chainNodeRemover = function(id) {\r\n    _lastChild = null;\r\n    _parentHistory.length = 0;\r\n    _removeNode(id);\r\n    return this;\r\n  },\r\n\r\n  _addNode = function (className, params, asChild) {\r\n    params.class = className;\r\n    _nodeCreator(params, asChild);\r\n    return this;\r\n  },\r\n\r\n  _addActor = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'ActorNode');\r\n  },\r\n\r\n  _addQuest = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'QuestNode');\r\n  },\r\n\r\n  _addDialog = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'DialogNode');\r\n  },\r\n\r\n  _addCondition = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'ScriptNode');\r\n  },\r\n\r\n  _addVariable = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'VariableNode');\r\n  },\r\n\r\n  _addTalk = function (id, params) {\r\n    return _chainNodeCreator(id, params, true, 'TalkNode');\r\n  },\r\n\r\n  _addAnswer = function (id, params) {\r\n    return _chainNodeCreator(id, params, true, 'AnswerNode');\r\n  },\r\n\r\n  _setWire = function (type, referenceNodeId) {\r\n    let targetNode = _lastChild;\r\n    if (targetNode === null && _parentHistory.length > 0) {\r\n      targetNode = _parentHistory[0];\r\n    }\r\n    else {\r\n      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n        child:className,\r\n        parent: _parentHistory.length > 0\r\n              ? _parentHistory[0].constructor.name\r\n              : 'null'\r\n      });*/\r\n    }\r\n    _setConnection(type, targetNode.getId(), referenceNodeId);\r\n    return this;\r\n  },\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  //GETTERS\r\n  ////////////////////////////////////////////////////////////////\r\n  _getActors = function () {\r\n    return _getNodesByClass('ActorNode');\r\n  },\r\n\r\n  _getConditions = function () {\r\n    return _getNodesByClass('ScriptNode');\r\n  },\r\n\r\n  _getDialogs = function () {\r\n    return _getNodesByClass('DialogNode');\r\n  },\r\n\r\n  _getQuests = function () {\r\n    return _getNodesByClass('QuestNode');\r\n  },\r\n\r\n  _getVariables = function () {\r\n    return _getNodesByClass('VariableNode');\r\n  },\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  //MISCALINEUS\r\n  ////////////////////////////////////////////////////////////////\r\n\r\n  _setVar = function (variableId, value) {\r\n    let _var = _findNode(variableId);\r\n    if (_var !== null) _var.setValue(value);\r\n  },\r\n\r\n  _getVar = function (variableId) {\r\n    let _var = _findNode(variableId);\r\n    return _var !== null ? _var.getValue() : undefined;\r\n  },\r\n\r\n  _serializeData = function () {\r\n    let data = _objectPool.map((obj) => {\r\n      return obj.getData ? obj.getData() : obj;\r\n    });\r\n    return JSON.stringify(data);\r\n  };\r\n\r\n  let _self = {\r\n    ////////////////////////////////////////////\r\n    // General node methods\r\n    ////////////////////////////////////////////\r\n    findNode: _findNode,\r\n    addNode: _addNode,\r\n    removeNode: _removeNode,\r\n\r\n    ////////////////////////////////////////////\r\n    // Link creation methods\r\n    ////////////////////////////////////////////\r\n    setWire: _setWire,\r\n\r\n    ////////////////////////////////////////////\r\n    // Chainable methods\r\n    ////////////////////////////////////////////\r\n    addActor: _addActor,\r\n    addQuest: _addQuest,\r\n    addDialog: _addDialog,\r\n    addCondition: _addCondition,\r\n    addVariable: _addVariable,\r\n    addTalk: _addTalk,\r\n    addAnswer: _addAnswer,\r\n\r\n    ////////////////////////////////////////////\r\n    // Getter methods\r\n    ////////////////////////////////////////////\r\n    getActors: _getActors,\r\n    getConditions: _getConditions,\r\n    getDialogs: _getDialogs,\r\n    getQuests: _getQuests,\r\n    getVariables: _getVariables,\r\n\r\n    ////////////////////////////////////////////\r\n    // Miscalineus methods\r\n    ////////////////////////////////////////////\r\n    setVar: _setVar,\r\n    getVar: _getVar,\r\n    serializeData: _serializeData\r\n  };\r\n  if (data) _objectPool = data.map((d) => _nodeFactory(d, _self));\r\n\r\n  return _self;\r\n};\r\nmodule.exports = RPGSystem;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/RPGSystem.js\n **/","'use strict';\r\n\r\n/**\r\n * Fast UUID generator, RFC4122 version 4 compliant.\r\n * @author Jeff Ward (jcward.com).\r\n * @license MIT license\r\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n **/\r\nvar UUID = (function () {\r\n  var self = {};\r\n  var lut = [];\r\n  var i;\r\n\r\n  for (i = 0; i < 256; i++) {\r\n    lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n  }\r\n\r\n  self.generate = function () {\r\n    var d0 = Math.random() * 0xffffffff | 0;\r\n    var d1 = Math.random() * 0xffffffff | 0;\r\n    var d2 = Math.random() * 0xffffffff | 0;\r\n    var d3 = Math.random() * 0xffffffff | 0;\r\n\r\n    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] +\r\n      lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' +\r\n      lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n      lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] +\r\n      lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] +\r\n      lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n  };\r\n\r\n  return self;\r\n})();\r\n\r\nexports.UUID = UUID;\r\n\r\nlet indexOfObject = function (array, obj) {\r\n  var i;\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i] === obj) return i;\r\n  }\r\n  return -1;\r\n};\r\n\r\nexports.indexOfObject = indexOfObject;\r\n\r\nlet getIndexById = function (array, id) {\r\n  var i;\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i].getId() === id) return i;\r\n  }\r\n  return -1;\r\n};\r\nexports.getIndexById = getIndexById;\r\n\r\nexports.addObjectToArray = function (array, obj, expectedType) {\r\n  if (expectedType !== undefined && expectedType !== null) {\r\n    if (expectedType.isPrototypeOf(obj)) {\r\n      throw new Error('Wrong type of object passed. Expected ' +\r\n      expectedType.constructor.name + ' object.');\r\n    }\r\n  }\r\n  if (indexOfObject(array, obj) === -1) {\r\n    array.push(obj);\r\n  }\r\n  return array;\r\n};\r\n\r\n/* exports.removeObjectById = function(array,id) {\r\n  let index = getIndexById(array,id);\r\n  if(index !== -1) {\r\n    let spliced = array.splice(index,1);\r\n    if(spliced.dispose) spliced.dispose();\r\n  }\r\n  return array;\r\n}*/\r\n\r\nexports.removeObjectFromArray = function (array, obj) {\r\n  let index = indexOfObject(array, obj);\r\n  if (index !== -1) {\r\n    let spliced = array.splice(index, 1);\r\n    if (spliced.dispose) spliced.dispose();\r\n  }\r\n  return array;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/Utils.js\n **/","'use strict';\r\n\r\nimport ErrorCode from './ErrorCode';\r\n\r\n\r\nlet ErrorHandler = function (editor) {\r\n  return {\r\n    showMsg: function(errorCode, params) {\r\n      let msg = '';\r\n\r\n      switch (errorCode) {\r\n        case ErrorCode.NODE_NOT_EXISTS:\r\n          msg = `Node of type ${params.type} is not defined.`;\r\n          break;\r\n        case ErrorCode.CLASS_NOT_DEFINED:\r\n          msg = `Class ${params.class} is not defined.`;\r\n          break;\r\n        case ErrorCode.CONNECTION_TO_ITSELF:\r\n          msg = `Cannot connect node \"${params.node}\" to itself.`;\r\n          break;\r\n        case ErrorCode.IMPROPER_CONNECTION:\r\n          msg = `Cannot create connection of type \"${params.type}\"` +\r\n          ` from node id \"${params.node1}\" to node id \"${params.node2}\".`;\r\n          break;\r\n        case ErrorCode.OBJECT_NOT_FOUND:\r\n          msg = `Cannot find object with id \"${params.id}\"`;\r\n          break;\r\n        case ErrorCode.MANDATORY_PARAM:\r\n          msg = `Parameter \"${params.param}\" was expected but instead got undefined.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_TYPE:\r\n          msg = `Wrong type of argument. Expected \"${params.type}\"`;\r\n          break;\r\n        case ErrorCode.INCORRECT_PARENT_NODE:\r\n          msg = `Node of type \"${params.child}\" can be added only to \"${params.parent}\" node.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_LINK_TARGET:\r\n          msg = `Cannot create link connection to null node.`;\r\n          break;\r\n        case ErrorCode.INCOMPATIBLE_CHILD:\r\n          msg = `Cannot add child of type \"${params.child}\" into parent of type \"${params.parent}\".`;\r\n          break;\r\n        default:\r\n          msg = `Unknown error code passed: ${errorCode}`;\r\n      }\r\n      if (editor) {\r\n        editor.showMsg(msg);\r\n      } else {\r\n        throw new Error(msg);\r\n        // add warning mode?\r\n      }\r\n    }\r\n  };\r\n};\r\nmodule.exports = ErrorHandler;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/ErrorHandler.js\n **/","'use strict';\r\n\r\nconst NODE_NOT_EXISTS = 0;\r\nconst CLASS_NOT_DEFINED = 1;\r\nconst CONNECTION_TO_ITSELF = 2;\r\nconst IMPROPER_CONNECTION = 3;\r\nconst OBJECT_NOT_FOUND = 4;\r\nconst MANDATORY_PARAM = 5;\r\nconst INCORRECT_TYPE = 6;\r\nconst INCORRECT_PARENT_NODE = 7;\r\nconst INCORRECT_LINK_TARGET = 8;\r\nconst INCOMPATIBLE_CHILD = 9;\r\n\r\nexports.NODE_NOT_EXISTS = NODE_NOT_EXISTS;\r\nexports.CLASS_NOT_DEFINED = CLASS_NOT_DEFINED;\r\nexports.CONNECTION_TO_ITSELF = CONNECTION_TO_ITSELF;\r\nexports.IMPROPER_CONNECTION = IMPROPER_CONNECTION;\r\nexports.OBJECT_NOT_FOUND = OBJECT_NOT_FOUND;\r\nexports.MANDATORY_PARAM = MANDATORY_PARAM;\r\nexports.INCORRECT_TYPE = INCORRECT_TYPE;\r\nexports.INCORRECT_PARENT_NODE = INCORRECT_PARENT_NODE;\r\nexports.INCORRECT_LINK_TARGET = INCORRECT_LINK_TARGET;\r\nexports.INCOMPATIBLE_CHILD = INCOMPATIBLE_CHILD;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/ErrorCode.js\n **/","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Prop from '../core/Prop';\r\n\r\nlet ActorNode = (function () {\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _name = new WeakMap();\r\n  let _dialog = new WeakMap();\r\n  // let _inventory = new WeakMap();\r\n\r\n  return class ActorNode extends BaseNode {\r\n    constructor(data) {\r\n      super(data);\r\n      _name.set(this, data ? data.name : '');\r\n      _dialog.set(this, data ? data.dialog : '');\r\n      // _inventory.set(this,data.inventory ? );\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.name = this.getName();\r\n      data.dialog = this.getDialog();\r\n      return data;\r\n    }\r\n\r\n    setName(value) {\r\n      _name.set(this, value);\r\n    }\r\n\r\n    getName() {\r\n      return _name.get(this);\r\n    }\r\n\r\n    getDialog() {\r\n      return _dialog.get(this);\r\n    }\r\n\r\n    /* getInventory() {\r\n      return _inventory.get(this);\r\n    }*/\r\n\r\n    canSetWireType(type) {\r\n      switch (type) {\r\n        case Prop.DIALOG:\r\n          return this.getWires(Prop.DIALOG).length === 0;\r\n        default: return false;\r\n      }\r\n    }\r\n\r\n    dispose() {\r\n      _name.delete(this);\r\n      _dialog.delete(this);\r\n      // _inventory.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\n\r\nmodule.exports = ActorNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/actors/ActorNode.js\n **/","'use strict';\r\nimport Utils from './Utils';\r\nimport Prop from './Prop';\r\n\r\nlet BaseNode = (function () {\r\n\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _rpgs = new WeakMap();\r\n  let _uuid = new WeakMap();\r\n  let _wires = new WeakMap();\r\n\r\n  return class BaseNode {\r\n    constructor(data, rpgs) {\r\n      _rpgs.set(this, rpgs);\r\n      // If uuid not present, then by default we assign Universally Unique ID.\r\n      _uuid.set(this, data.uuid ? data.uuid : Utils.UUID.generate());\r\n      _wires.set(this, data.wires ? data.wires : {});\r\n    }\r\n\r\n    getRPGS() {\r\n      return _rpgs.get(this);\r\n    }\r\n\r\n    setId(value) {\r\n      _uuid.set(this, value);\r\n    }\r\n\r\n    getId() {\r\n      return _uuid.get(this);\r\n    }\r\n\r\n    _checkCondition(prop) {\r\n      let nodeId = this.getWires(prop)[0];\r\n      let scriptNode = this.getRPGS().findNode(nodeId);\r\n\r\n      return scriptNode != null && scriptNode.execute ? scriptNode.execute() : true;\r\n    }\r\n\r\n    /**\r\n     * Returns boolean that reflects visiblility state of node.\r\n     * @return {Boolean} Visibility state\r\n     */\r\n    isVisible() {\r\n      return this._checkCondition(Prop.VISIBILITY);\r\n    }\r\n\r\n    /**\r\n     * Returns boolean that reflects activity state of node.\r\n     * @return {Boolean} Active state\r\n     */\r\n    isActive() {\r\n      return this._checkCondition(Prop.ACTIVITY);\r\n    }\r\n\r\n    getData() {\r\n      return {\r\n        class: this.constructor.name,\r\n        uuid: this.getId(),\r\n        wires: _wires.get(this)\r\n      };\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return false;\r\n    }\r\n\r\n    addChild(childId) {\r\n\r\n    }\r\n\r\n    removeChild(index) {\r\n\r\n    }\r\n\r\n    getChild(index) {\r\n      return null;\r\n    }\r\n\r\n    getChildren() {\r\n      return [];\r\n    }\r\n\r\n    _removeChildren() {\r\n\r\n    }\r\n\r\n    canSetWireType(type) {\r\n      return false;\r\n    }\r\n\r\n    _setWire(obj, type, nodeId) {\r\n      if (!obj.hasOwnProperty(type)) {\r\n        obj[type] = [];\r\n      }\r\n      obj[type].push(nodeId);\r\n      return obj;\r\n    }\r\n\r\n    setWire(type, nodeId) {\r\n      _wires.set(this, this._setWire(_wires.get(this), type, nodeId));\r\n    }\r\n\r\n    _getWires(obj, type) {\r\n      let output;\r\n\r\n      if (type) output = !obj.hasOwnProperty(type) ? [] : obj[type];\r\n      else output = obj;\r\n      return output;\r\n    }\r\n\r\n    getWires(type) {\r\n      return this._getWires(_wires.get(this), type);\r\n    }\r\n\r\n    _removeWire(obj, type, nodeId) {\r\n      if (obj.hasOwnProperty(type)) {\r\n        obj[type] = Utils.removeObjectFromArray(obj[type], nodeId);\r\n      }\r\n      return obj;\r\n    }\r\n\r\n    removeWire(type, nodeId) {\r\n      _wires.set(this, this._removeWire(_wires.get(this), type, nodeId));\r\n    }\r\n\r\n    dispose() {\r\n      _rpgs.delete(this);\r\n      _uuid.delete(this);\r\n      _wires.delete(this);\r\n      this._removeChildren();\r\n    }\r\n  };\r\n})();\r\nmodule.exports = BaseNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/BaseNode.js\n **/","'use strict';\r\n\r\nconst VISIBILITY = 'visibility';\r\nconst ACTIVITY = 'activity';\r\nconst ACTION = 'action';\r\nconst GOTO = 'goto';\r\nconst DIALOG = 'dialog';\r\n\r\nexports.VISIBILITY = VISIBILITY;\r\nexports.ACTIVITY = ACTIVITY;\r\nexports.ACTION = ACTION;\r\nexports.GOTO = GOTO;\r\nexports.DIALOG = DIALOG;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/Prop.js\n **/","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Prop from '../core/Prop';\r\n\r\nlet AnswerNode = (function () {\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _text = new WeakMap();\r\n\r\n  return class AnswerNode extends BaseNode {\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _text.set(this, data.text ? data.text : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    getTalk() {\r\n      return this.getWires(Prop.GOTO)[0];\r\n    }\r\n\r\n    canSetWireType(type) {\r\n      switch (type) {\r\n        case Prop.VISIBILITY:\r\n          return this.getWires(Prop.VISIBILITY).length === 0;\r\n        case Prop.ACTIVITY:\r\n          return this.getWires(Prop.ACTIVITY).length === 0;\r\n        case Prop.GOTO:\r\n          return this.getWires(Prop.GOTO).length === 0;\r\n        default: return false;\r\n      }\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\nmodule.exports = AnswerNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/dialogs/AnswerNode.js\n **/","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\nimport Prop from '../core/Prop';\r\n\r\nlet DialogNode = (function () {\r\n\r\n  let _start = new WeakMap();\r\n\r\n  return class DialogNode extends CompoundNode {\r\n\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _start.set(this, data.startTalk ? data.startTalk : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.startTalk = this.getStartTalk();\r\n      return data;\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'TalkNode';\r\n    }\r\n\r\n    setStartTalk(talkId) {\r\n      _start.set(this, talkId);\r\n    }\r\n\r\n    getStartTalk() {\r\n      return _start.get(this);\r\n    }\r\n\r\n    canSetWireType(type) {\r\n      switch (type) {\r\n        case Prop.VISIBILITY:\r\n          return this.getWires(Prop.VISIBILITY).length === 0;\r\n        case Prop.ACTIVITY:\r\n          return this.getWires(Prop.ACTIVITY).length === 0;\r\n        default: return false;\r\n      }\r\n    }\r\n\r\n    dispose() {\r\n      _start.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\nmodule.exports = DialogNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/dialogs/DialogNode.js\n **/","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Utils from '../core/Utils';\r\n\r\nlet CompoundNode = (function () {\r\n\r\n  let _children = new WeakMap();\r\n\r\n  return class CompoundNode extends BaseNode {\r\n\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _children.set(this, data.children ? data.children : []);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.children = this.getChildren();\r\n      return data;\r\n    }\r\n\r\n    addChild(childId) {\r\n      let children = _children.get(this);\r\n\r\n      _children.set(this, Utils.addObjectToArray(children, childId));\r\n    }\r\n\r\n    removeChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      _children.set(this, children.splice(index, 1));\r\n    }\r\n\r\n    getChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      return children.length > index ? children[index] : null;\r\n    }\r\n\r\n    getChildren() {\r\n      return _children.get(this);\r\n    }\r\n\r\n    _removeChildren(/* key*/) {\r\n      // Add valid implementation...\r\n      // this.removeChildrenFrom(_children.get(this),key);\r\n    }\r\n\r\n    dispose() {\r\n      _children.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\nmodule.exports = CompoundNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/core/CompoundNode.js\n **/","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\nimport Prop from '../core/Prop';\r\n\r\nlet TalkNode = (function () {\r\n\r\n  let _text = new WeakMap();\r\n\r\n  return class TalkNode extends CompoundNode {\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _text.set(this, data.text ? data.text : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'AnswerNode';\r\n    }\r\n\r\n    canSetWireType(type) {\r\n      switch (type) {\r\n        case Prop.GOTO:\r\n          return true;\r\n        default: return false;\r\n      }\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\nmodule.exports = TalkNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/dialogs/TalkNode.js\n **/","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\nimport QuestStatus from './QuestStatus';\r\n\r\nlet QuestNode = (function () {\r\n  let _title = new WeakMap();\r\n  let _description = new WeakMap();\r\n  let _status = new WeakMap();\r\n\r\n  return class QuestNode extends CompoundNode {\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _title.set(this, data.title ? data.title : '');\r\n      _description.set(this, data.description ? data.description : '');\r\n      _status.set(this, data.status ? data.status : QuestStatus.INCOMPLETE);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n      data.title = this.getTitle();\r\n      data.description = this.getDescription();\r\n      data.status = this.getStatus();\r\n      return data;\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'TaskNode';\r\n    }\r\n\r\n    setTitle(value) {\r\n      _title.set(this, value);\r\n    }\r\n\r\n    getTitle() {\r\n      return _title.get(this);\r\n    }\r\n\r\n    setDescription(value) {\r\n      _description.set(this, value);\r\n    }\r\n\r\n    getDescription() {\r\n      return _description.get(this);\r\n    }\r\n\r\n    setStatus(value) {\r\n      switch (value) {\r\n        case QuestStatus.COMPLETED:\r\n        case QuestStatus.FAILED:\r\n          _status.set(this, value);\r\n          break;\r\n        case QuestStatus.INCOMPLETE:\r\n        default:\r\n          _status.set(this, QuestStatus.INCOMPLETE);\r\n          break;\r\n      };\r\n    }\r\n\r\n    getStatus() {\r\n      return _status.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      _title.delete(this);\r\n      _description.delete(this);\r\n      _status.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n\r\n})();\r\nmodule.exports = QuestNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/quests/QuestNode.js\n **/","'use strict';\r\nconst INCOMPLETE = 'questIncomplete';\r\nconst COMPLETED = 'questCompleted';\r\nconst FAILED = 'questFailed';\r\n\r\nexports.INCOMPLETE = INCOMPLETE;\r\nexports.COMPLETED = COMPLETED;\r\nexports.FAILED = FAILED;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/quests/QuestStatus.js\n **/","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\n\r\nlet TaskNode = (function () {\r\n  return class TaskNode extends BaseNode {\r\n    constructor(data) {\r\n      super(data);\r\n    }\r\n    // to do\r\n  };\r\n})();\r\n\r\nmodule.exports = TaskNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/quests/TaskNode.js\n **/","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport VariableType from './VariableType';\r\n\r\nlet VariableNode = (function () {\r\n  let _value = new WeakMap();\r\n  let _type = new WeakMap();\r\n\r\n  function _parseBoolean(val) {\r\n    let isBool = typeof val === VariableType.BOOLEAN;\r\n    let output;\r\n\r\n    if (isBool) {\r\n      output = val;\r\n    } else {\r\n      switch (String(val).toLowerCase().trim()) {\r\n        case 'true': case 'yes': case '1':\r\n          output = true;\r\n          break;\r\n        case 'false': case 'no': case '0': case null:\r\n          output = false;\r\n          break;\r\n        default:\r\n          output = Boolean(val);\r\n          break;\r\n      }\r\n    }\r\n    return output;\r\n  }\r\n\r\n  function _parseString(val) {\r\n    return typeof val === VariableType.STRING ? val : String(val);\r\n  }\r\n\r\n  function _parseNumber(val) {\r\n    return typeof val === VariableType.NUMBER ? val : parseFloat(val);\r\n  }\r\n\r\n  function _parseValue(val, type) {\r\n    switch (type) {\r\n      case VariableType.BOOLEAN:\r\n        return _parseBoolean(val);\r\n      case VariableType.NUMBER:\r\n        return _parseNumber(val);\r\n      case VariableType.STRING:\r\n      default:\r\n        return _parseString(val);\r\n    }\r\n  }\r\n\r\n  return class VariableNode extends BaseNode {\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _type.set(this, data.hasOwnProperty('type') ? data.type : VariableType.STRING);\r\n      _value.set(this, data.hasOwnProperty('value') ? _parseValue(data.value, _type.get(this)) : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n      \r\n      data.type = this.getType();\r\n      data.value = this.getValue();\r\n      return data;\r\n    }\r\n\r\n    setValue(val) {\r\n      _value.set(this, _parseValue(val, _type.get(this)));\r\n    }\r\n\r\n    getValue() {\r\n      return _value.get(this);\r\n    }\r\n\r\n    getType() {\r\n      return _type.get(this);\r\n    }\r\n\r\n    canSetWireType(type) {\r\n      return false;\r\n    }\r\n\r\n    dispose() {\r\n      _value.delete(this);\r\n      _type.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = VariableNode;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/variables/VariableNode.js\n **/","const BOOLEAN = 'boolean';\r\nconst STRING = 'string';\r\nconst NUMBER = 'number';\r\n\r\nexports.BOOLEAN = BOOLEAN;\r\nexports.STRING = STRING;\r\nexports.NUMBER = NUMBER;\r\n\n\n\n/** WEBPACK FOOTER **\n ** G:/_javascript/RPGS/rpgs/~/eslint-loader!./src/rpgs/variables/VariableType.js\n **/"],"sourceRoot":""}