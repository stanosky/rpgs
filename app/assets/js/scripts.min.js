/*!
 * rpgs
 * RPG System
 * https://github.com/stanosky/rpgs
 * @author Krzysztof Stano
 * @version 1.0.0
 * Copyright 2016. MIT licensed.
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports={
  "actors":[
    {
      "uuid":"a001",
      "name":"Adam",
      "inventory":[],
      "dialog": {
        "uuid":"d001",
        "startTalk":"t001",
        "talks":[
          {
            "uuid":"t001",
            "text":"Talk 1",
            "answers":[
              {
                "uuid":"a001",
                "text":"Answer 1"
              },
              {
                "uuid":"a002",
                "text":"Answer 2"
              }
            ]
          },
          {
            "uuid":"t002",
            "text":"Talk 2",
            "answers":[
              {
                "uuid":"a003",
                "text":"Answer 1"
              },
              {
                "uuid":"a004",
                "text":"Answer 2"
              }
            ]
          },
          {
            "uuid":"t003",
            "text":"Talk 3",
            "answers":[
              {
                "uuid":"a005",
                "text":"Answer 1"
              },
              {
                "uuid":"a006",
                "text":"Answer 2"
              }
            ]
          }
        ]
      }
    },
    {
      "uuid":"a002",
      "name":"Eva",
      "inventory":[],
      "dialog":null
    },
    {
      "uuid":"a003",
      "name":"Player",
      "inventory":[],
      "dialog":null
    },
  ],
  "quests":{},
  "variables":{}
}

},{}],2:[function(require,module,exports){
"use strict";

var _Utils = require('./core/Utils');

var _Utils2 = _interopRequireDefault(_Utils);

var _Actor = require('./actors/Actor');

var _Actor2 = _interopRequireDefault(_Actor);

var _Quest = require('./quests/Quest');

var _Quest2 = _interopRequireDefault(_Quest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var RPGSystem = function RPGSystem() {
  var _quests = [],
      _actors = [],
      _addQuest = function _addQuest(quest) {
    _quests = _Utils2.default.addObjectToArray(_quests, quest, _Quest2.default);
  },
      _getQuest = function _getQuest(id) {
    return _Utils2.default.getObjectById(_quests, id);
  },
      _getQuests = function _getQuests() {
    return _quests;
  },
      _addActor = function _addActor(actor) {
    _actors = _Utils2.default.addObjectToArray(_actors, actor, _Actor2.default);
  },
      _getActor = function _getActor(id) {
    return _Utils2.default.getObjectById(_actors, id);
  },
      _getActors = function _getActors() {
    return _actors;
  },
      _parseData = function _parseData(data) {
    _actors = data.actors.length ? data.actors.map(function (a) {
      return new _Actor2.default(a);
    }) : [];
    _quests = data.quests.length ? data.quests.map(function (q) {
      return new _Quest2.default(q);
    }) : [];
  },
      _serializeData = function _serializeData() {
    var data = {
      actors: _actors.map(function (a) {
        return a.getData();
      }),
      quests: _quests.map(function (q) {
        return q.getData();
      })
    };
    return JSON.stringify(data);
  };

  return {
    addQuest: _addQuest,
    getQuest: _getQuest,
    getQuests: _getQuests,
    addActor: _addActor,
    getActor: _getActor,
    getActors: _getActors,
    parseData: _parseData,
    serializeData: _serializeData
  };
};

module.exports = RPGSystem;

},{"./actors/Actor":3,"./core/Utils":6,"./quests/Quest":10}],3:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _UniqueObject2 = require('../core/UniqueObject');

var _UniqueObject3 = _interopRequireDefault(_UniqueObject2);

var _Dialog = require('../dialogs/Dialog');

var _Dialog2 = _interopRequireDefault(_Dialog);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Actor = function () {
  //Weak maps are new feature to JavaScript. We can store private
  //object properties in key/value pairs using our instance as the key,
  //and our class can capture those key/value maps in a closure.
  var _name = new WeakMap();
  var _dialog = new WeakMap();
  //let _inventory = new WeakMap();

  var _parseDialog = function _parseDialog(data) {
    return data ? new _Dialog2.default(data) : null;
  };

  return function (_UniqueObject) {
    _inherits(Actor, _UniqueObject);

    function Actor(data) {
      _classCallCheck(this, Actor);

      var _this = _possibleConstructorReturn(this, (Actor.__proto__ || Object.getPrototypeOf(Actor)).call(this, data));

      _name.set(_this, data.name || '');
      _dialog.set(_this, _parseDialog(data.dialog));
      //_inventory.set(this,data.inventory ? );
      return _this;
    }

    _createClass(Actor, [{
      key: 'getData',
      value: function getData() {
        var data = _get(Actor.prototype.__proto__ || Object.getPrototypeOf(Actor.prototype), 'getData', this).call(this);
        data.name = this.getName();
        data.dialog = this.getDialog() ? this.getDialog().getData() : null;
        return data;
      }
    }, {
      key: 'setName',
      value: function setName(value) {
        _name.set(this, value);
      }
    }, {
      key: 'getName',
      value: function getName() {
        return _name.get(this);
      }
    }, {
      key: 'setDialog',
      value: function setDialog(dialog) {
        _dialog.set(this, dialog);
      }
    }, {
      key: 'getDialog',
      value: function getDialog() {
        return _dialog.get(this);
      }

      /*setInventory(inventory) {
        _inventory.set(this,inventory);
      }
        getInventory() {
        return _inventory.get(this);
      }*/

    }]);

    return Actor;
  }(_UniqueObject3.default);
}();

module.exports = Actor;

},{"../core/UniqueObject":5,"../dialogs/Dialog":8}],4:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _UniqueObject2 = require('./UniqueObject');

var _UniqueObject3 = _interopRequireDefault(_UniqueObject2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BaseObject = function (id) {
  //Weak maps are new feature to JavaScript. We can store private
  //object properties in key/value pairs using our instance as the key,
  //and our class can capture those key/value maps in a closure.
  var _visible = new WeakMap();
  var _active = new WeakMap();

  return function (_UniqueObject) {
    _inherits(BaseObject, _UniqueObject);

    function BaseObject(data) {
      _classCallCheck(this, BaseObject);

      var _this = _possibleConstructorReturn(this, (BaseObject.__proto__ || Object.getPrototypeOf(BaseObject)).call(this, data));

      _visible.set(_this, data.visible || null);
      _active.set(_this, data.active || null);
      return _this;
    }

    _createClass(BaseObject, [{
      key: 'getData',
      value: function getData() {
        var data = _get(BaseObject.prototype.__proto__ || Object.getPrototypeOf(BaseObject.prototype), 'getData', this).call(this);
        data.visible = this.getVisibleCondition() ? this.getVisibleCondition().getData() : null;
        data.active = this.getActiveCondition() ? this.getActiveCondition().getData() : null;
        return data;
      }

      /**
       * Method sets condition that must be met in order to node was visible.
       * @param {Condition} condition Instance of Condition object
       */

    }, {
      key: 'setVisibleCondition',
      value: function setVisibleCondition(condition) {
        _visible.set(this, BaseObject.isConditionInstance(condition));
      }
    }, {
      key: 'getVisibleCondition',
      value: function getVisibleCondition() {
        return _visible.get(this);
      }

      /**
       * Returns boolean that reflects visiblility state of node.
       * @return {Boolean} Visibility state
       */

    }, {
      key: 'isVisible',
      value: function isVisible() {
        return BaseObject.checkCondition(_visible.get(this));
      }

      /**
       * Method sets condition that must be met in order to node was active.
       * @param {Condition} condition Instance of Condition object
       */

    }, {
      key: 'setActiveCondition',
      value: function setActiveCondition(condition) {
        _active.set(this, BaseObject.isConditionInstance(condition));
      }
    }, {
      key: 'getActiveCondition',
      value: function getActiveCondition() {
        return _active.get(this);
      }

      /**
       * Returns boolean that reflects activity state of node.
       * @return {Boolean} Active state
       */

    }, {
      key: 'isActive',
      value: function isActive() {
        return BaseObject.checkCondition(_active.get(this));
      }
    }], [{
      key: 'checkCondition',
      value: function checkCondition(condition) {
        if (condition === null) return true;
        return condition.check();
      }
    }, {
      key: 'isConditionInstance',
      value: function isConditionInstance(obj) {
        if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== Condition) {
          throw new Error('Wrong type of object passed. Expected "Condition" object.');
          return null;
        }
        return obj;
      }
    }]);

    return BaseObject;
  }(_UniqueObject3.default);
}();
module.exports = BaseObject;

},{"./UniqueObject":5}],5:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Utils = require("./Utils");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UniqueObject = function () {
  //Weak maps are new feature to JavaScript. We can store private
  //object properties in key/value pairs using our instance as the key,
  //and our class can capture those key/value maps in a closure.
  var _uuid = new WeakMap();

  return function () {
    function UniqueObject(data) {
      _classCallCheck(this, UniqueObject);

      //By default we assign Universally Unique ID
      _uuid.set(this, data.uuid || _Utils.UUID.generate());
    }

    _createClass(UniqueObject, [{
      key: "setId",
      value: function setId(value) {
        _uuid.set(this, value);
      }
    }, {
      key: "getId",
      value: function getId() {
        return _uuid.get(this);
      }
    }, {
      key: "getData",
      value: function getData() {
        return {
          uuid: this.getId()
        };
      }
    }]);

    return UniqueObject;
  }();
}();
module.exports = UniqueObject;

},{"./Utils":6}],6:[function(require,module,exports){
"use strict";

/**
 * Fast UUID generator, RFC4122 version 4 compliant.
 * @author Jeff Ward (jcward.com).
 * @license MIT license
 * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
 **/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var UUID = function () {
  var self = {};
  var lut = [];for (var i = 0; i < 256; i++) {
    lut[i] = (i < 16 ? '0' : '') + i.toString(16);
  }
  self.generate = function () {
    var d0 = Math.random() * 0xffffffff | 0;
    var d1 = Math.random() * 0xffffffff | 0;
    var d2 = Math.random() * 0xffffffff | 0;
    var d3 = Math.random() * 0xffffffff | 0;
    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];
  };
  return self;
}();

exports.UUID = UUID;

var indexOfObject = function indexOfObject(array, obj) {
  for (var i = 0; i < array.length; i++) {
    if (array[i] === obj) return i;
  }
  return -1;
};

exports.indexOfObject = indexOfObject;

exports.getObjectById = function (array, id) {
  for (var i = 0; i < array.length; i++) {
    if (array[i].getId() === id) return array[i];
  }
  return null;
};

var getIndexById = function getIndexById(array, id) {
  for (var i = 0; i < array.length; i++) {
    if (array[i].getId() === id) return i;
  }
  return -1;
};
exports.getIndexById = getIndexById;

exports.addObjectToArray = function (array, obj, expectedType) {
  if (expectedType !== undefined && expectedType !== null) {
    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== expectedType) {
      throw new Error('Wrong type of object passed. Expected ' + expectedType.toString() + ' object.');
    }
  }
  if (indexOfObject(array, obj) === -1) {
    array.push(obj);
  }
  return array;
};

exports.removeObjectById = function (array, id) {
  var index = getIndexById(array, id);
  if (index !== -1) {
    array.splice(index, 1);
  }
};

exports.removeObjectFromArray = function (array, obj) {
  var index = indexOfObject(array, obj);
  if (index !== -1) {
    array.splice(index, 1);
  }
};

},{}],7:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _BaseObject2 = require('../core/BaseObject');

var _BaseObject3 = _interopRequireDefault(_BaseObject2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Answer = function () {
  //Weak maps are new feature to JavaScript. We can store private
  //object properties in key/value pairs using our instance as the key,
  //and our class can capture those key/value maps in a closure.
  var _text = new WeakMap();
  var _link = new WeakMap();

  return function (_BaseObject) {
    _inherits(Answer, _BaseObject);

    function Answer(data) {
      _classCallCheck(this, Answer);

      var _this = _possibleConstructorReturn(this, (Answer.__proto__ || Object.getPrototypeOf(Answer)).call(this, data));

      _text.set(_this, data.text || '');
      _link.set(_this, data.link || '');
      return _this;
    }

    _createClass(Answer, [{
      key: 'getData',
      value: function getData() {
        var data = _get(Answer.prototype.__proto__ || Object.getPrototypeOf(Answer.prototype), 'getData', this).call(this);
        data.text = this.getText();
        data.link = this.getLink();
        return data;
      }
    }, {
      key: 'setText',
      value: function setText(value) {
        _text.set(this, value);
      }
    }, {
      key: 'getText',
      value: function getText() {
        return _text.get(this);
      }
    }, {
      key: 'setLink',
      value: function setLink(link) {
        _link.set(this, link);
      }
    }, {
      key: 'getLink',
      value: function getLink() {
        return _link.get(this);
      }
    }]);

    return Answer;
  }(_BaseObject3.default);
}();
module.exports = Answer;

},{"../core/BaseObject":4}],8:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _UniqueObject2 = require('../core/UniqueObject');

var _UniqueObject3 = _interopRequireDefault(_UniqueObject2);

var _Utils = require('../core/Utils');

var _Utils2 = _interopRequireDefault(_Utils);

var _Talk = require('./Talk');

var _Talk2 = _interopRequireDefault(_Talk);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Dialog = function () {
  var _start = new WeakMap();
  var _talks = new WeakMap();

  var _parseTalks = function _parseTalks(data) {
    return data.length ? data.map(function (talkData) {
      return new _Talk2.default(talkData);
    }) : [];
  };

  return function (_UniqueObject) {
    _inherits(Dialog, _UniqueObject);

    function Dialog(data) {
      _classCallCheck(this, Dialog);

      var _this = _possibleConstructorReturn(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).call(this, data));

      _start.set(_this, data.startTalk || '');
      _talks.set(_this, _parseTalks(data.talks));
      return _this;
    }

    _createClass(Dialog, [{
      key: 'getData',
      value: function getData() {
        var data = _get(Dialog.prototype.__proto__ || Object.getPrototypeOf(Dialog.prototype), 'getData', this).call(this);
        data.startTalk = this.getStartTalk();
        data.talks = this.getTalks().map(function (t) {
          return t.getData();
        });
        return data;
      }
    }, {
      key: 'addTalk',
      value: function addTalk(talk) {
        _talks.set(this, _Utils2.default.addObjectToArray(_talks.get(this), talk, _Talk2.default));
      }
    }, {
      key: 'removeTalk',
      value: function removeTalk(talkId) {
        _Utils2.default.removeObjectById(_talks.get(this), talkId);
      }
    }, {
      key: 'getTalk',
      value: function getTalk(talkId) {
        return _Utils2.default.getObjectById(_talks, talkId);
      }
    }, {
      key: 'getTalks',
      value: function getTalks() {
        return _talks.get(this);
      }
    }, {
      key: 'setStartTalk',
      value: function setStartTalk(talkId) {
        _start.set(this, talkId);
      }
    }, {
      key: 'getStartTalk',
      value: function getStartTalk() {
        return _start.get(this);
      }
    }]);

    return Dialog;
  }(_UniqueObject3.default);
}();
module.exports = Dialog;

},{"../core/UniqueObject":5,"../core/Utils":6,"./Talk":9}],9:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _BaseObject2 = require('../core/BaseObject');

var _BaseObject3 = _interopRequireDefault(_BaseObject2);

var _Answer = require('./Answer');

var _Answer2 = _interopRequireDefault(_Answer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Talk = function () {

  var _text = new WeakMap();
  var _answers = new WeakMap();

  var _parseAnswers = function _parseAnswers(data) {
    return data.length ? data.map(function (answerData) {
      return new _Answer2.default(answerData);
    }) : [];
  };

  return function (_BaseObject) {
    _inherits(Talk, _BaseObject);

    function Talk(data) {
      _classCallCheck(this, Talk);

      var _this = _possibleConstructorReturn(this, (Talk.__proto__ || Object.getPrototypeOf(Talk)).call(this, data));

      _text.set(_this, data.text || '');
      _answers.set(_this, _parseAnswers(data.answers));
      return _this;
    }

    _createClass(Talk, [{
      key: 'getData',
      value: function getData() {
        var data = _get(Talk.prototype.__proto__ || Object.getPrototypeOf(Talk.prototype), 'getData', this).call(this);
        data.text = this.getText();
        data.answers = this.getAnswers().map(function (a) {
          return a.getData();
        });
        return data;
      }
    }, {
      key: 'setText',
      value: function setText(value) {
        _text.set(this, value);
      }
    }, {
      key: 'getText',
      value: function getText() {
        return _text.get(this);
      }
    }, {
      key: 'addAnswer',
      value: function addAnswer(answer) {
        _answers.set(this, Utils.addObjectToArray(_answers.get(this), answer, _Answer2.default));
      }
    }, {
      key: 'removeAnswer',
      value: function removeAnswer(answerId) {
        Utils.removeObjectById(_answers.get(this), answerId);
      }
    }, {
      key: 'getAnswer',
      value: function getAnswer(answerId) {
        return Utils.getObjectById(_answers.get(this), answerId);
      }
    }, {
      key: 'getAnswers',
      value: function getAnswers() {
        return _answers.get(this);
      }
    }]);

    return Talk;
  }(_BaseObject3.default);
}();
module.exports = Talk;

},{"../core/BaseObject":4,"./Answer":7}],10:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _BaseObject2 = require('../core/BaseObject');

var _BaseObject3 = _interopRequireDefault(_BaseObject2);

var _QuestStatus = require('./QuestStatus');

var _QuestStatus2 = _interopRequireDefault(_QuestStatus);

var _Task = require('./Task');

var _Task2 = _interopRequireDefault(_Task);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Quest = function () {
  var _title = new WeakMap();
  var _description = new WeakMap();
  var _status = new WeakMap();
  var _tasks = new WeakMap();

  var _parseTasks = function _parseTasks(data) {
    return data.length ? data.map(function (taskData) {
      return new _Task2.default(taskData);
    }) : [];
  };

  return function (_BaseObject) {
    _inherits(Quest, _BaseObject);

    function Quest(data) {
      _classCallCheck(this, Quest);

      var _this = _possibleConstructorReturn(this, (Quest.__proto__ || Object.getPrototypeOf(Quest)).call(this, data));

      _title.set(_this, data.title || '');
      _description.set(_this, data.description || '');
      _status.set(_this, data.status || _QuestStatus2.default.INCOMPLETE);
      _tasks.set(_this, _parseTasks(data.tasks));
      return _this;
    }

    _createClass(Quest, [{
      key: 'getData',
      value: function getData() {
        var data = _get(Quest.prototype.__proto__ || Object.getPrototypeOf(Quest.prototype), 'getData', this).call(this);
        data.title = this.getTitle();
        data.description = this.getDescription();
        data.status = this.getStatus();
        data.tasks = this.getTasks().map(function (t) {
          return t.getData();
        });
        return data;
      }
    }, {
      key: 'setTitle',
      value: function setTitle(value) {
        _title.set(this, value);
      }
    }, {
      key: 'getTitle',
      value: function getTitle() {
        return _title.get(this);
      }
    }, {
      key: 'setDescription',
      value: function setDescription(value) {
        _description.set(this, value);
      }
    }, {
      key: 'getDescription',
      value: function getDescription() {
        return _description.get(this);
      }
    }, {
      key: 'addTask',
      value: function addTask(task) {
        _tasks.set(this, Utils.addObjectToArray(_tasks.get(this), task, _Task2.default));
      }
    }, {
      key: 'getTask',
      value: function getTask(taskId) {
        return Utils.getObjectById(_tasks.get(this), taskId);
      }
    }, {
      key: 'getTasks',
      value: function getTasks() {
        return _tasks.get(this);
      }
    }, {
      key: 'setStatus',
      value: function setStatus(value) {
        switch (value) {
          case _QuestStatus2.default.COMPLETED:
          case _QuestStatus2.default.FAILED:
            _status.set(this, value);
          case _QuestStatus2.default.INCOMPLETE:
          default:
            _status.set(this, _QuestStatus2.default.INCOMPLETE);
            break;
        };
      }
    }, {
      key: 'getStatus',
      value: function getStatus() {
        return _status.get(this);
      }
    }]);

    return Quest;
  }(_BaseObject3.default);
}();
module.exports = Quest;

},{"../core/BaseObject":4,"./QuestStatus":11,"./Task":12}],11:[function(require,module,exports){
"use strict";

var INCOMPLETE = 'questIncomplete';
var COMPLETED = 'questCompleted';
var FAILED = 'questFailed';

exports.INCOMPLETE = INCOMPLETE;
exports.COMPLETED = COMPLETED;
exports.FAILED = FAILED;

},{}],12:[function(require,module,exports){
"use strict";

var _BaseObject2 = require("../core/BaseObject");

var _BaseObject3 = _interopRequireDefault(_BaseObject2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Task = function () {
  return function (_BaseObject) {
    _inherits(Task, _BaseObject);

    function Task(data) {
      _classCallCheck(this, Task);

      return _possibleConstructorReturn(this, (Task.__proto__ || Object.getPrototypeOf(Task)).call(this, data));
    }

    //to do


    return Task;
  }(_BaseObject3.default);
}();

module.exports = Task;

},{"../core/BaseObject":4}],13:[function(require,module,exports){
"use strict";

var _RPGSystem = require('./rpgs/RPGSystem');

var _RPGSystem2 = _interopRequireDefault(_RPGSystem);

var _data = require('../data/data.json');

var _data2 = _interopRequireDefault(_data);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function ($, window, document, undefined) {
  $(function () {
    var rpg = new _RPGSystem2.default();
    //console.log(data);
    rpg.parseData(_data2.default);
    console.log('data', rpg.serializeData());
  });
})(jQuery, window, document);

},{"../data/data.json":1,"./rpgs/RPGSystem":2}]},{},[13])


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvZGF0YS9kYXRhLmpzb24iLCJzcmMvanMvcnBncy9SUEdTeXN0ZW0uanMiLCJzcmMvanMvcnBncy9hY3RvcnMvQWN0b3IuanMiLCJzcmMvanMvcnBncy9jb3JlL0Jhc2VPYmplY3QuanMiLCJzcmMvanMvcnBncy9jb3JlL1VuaXF1ZU9iamVjdC5qcyIsInNyYy9qcy9ycGdzL2NvcmUvVXRpbHMuanMiLCJzcmMvanMvcnBncy9kaWFsb2dzL0Fuc3dlci5qcyIsInNyYy9qcy9ycGdzL2RpYWxvZ3MvRGlhbG9nLmpzIiwic3JjL2pzL3JwZ3MvZGlhbG9ncy9UYWxrLmpzIiwic3JjL2pzL3JwZ3MvcXVlc3RzL1F1ZXN0LmpzIiwic3JjL2pzL3JwZ3MvcXVlc3RzL1F1ZXN0U3RhdHVzLmpzIiwic3JjL2pzL3JwZ3MvcXVlc3RzL1Rhc2suanMiLCJzcmMvanMvc2NyaXB0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZFQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQUksWUFBWSxTQUFaLFNB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QUFvQixTQUFwQjtBQUNBLFFBQVEsTUFBUixHQUFpQixNQUFqQjs7O0FDUEE7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBLElBQUksT0FBUSxZQUFVO0FBQ3BCO0FBQUE7O0FBQ0Usa0JBQVksSUFBWixFQUFrQjtBQUFBOztBQUFBLHlHQUNWLElBRFU7QUFFakI7O0FBRUQ7OztBQUxGO0FBQUE7QUFPRCxDQVJVLEVBQVg7O0FBVUEsT0FBTyxPQUFQLEdBQWlCLElBQWpCOzs7QUNiQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFDQSxDQUFDLFVBQVUsQ0FBVixFQUFhLE1BQWIsRUFBcUIsUUFBckIsRUFBK0IsU0FBL0IsRUFBMEM7QUFDekMsSUFBRSxZQUFZO0FBQ1osUUFBSSxNQUFNLHlCQUFWO0FBQ0E7QUFDQSxRQUFJLFNBQUo7QUFDQSxZQUFRLEdBQVIsQ0FBWSxNQUFaLEVBQW1CLElBQUksYUFBSixFQUFuQjtBQUNELEdBTEQ7QUFPRCxDQVJELEVBUUcsTUFSSCxFQVFXLE1BUlgsRUFRbUIsUUFSbkIiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzPXtcclxuICBcImFjdG9yc1wiOltcclxuICAgIHtcclxuICAgICAgXCJ1dWlkXCI6XCJhMDAxXCIsXHJcbiAgICAgIFwibmFtZVwiOlwiQWRhbVwiLFxyXG4gICAgICBcImludmVudG9yeVwiOltdLFxyXG4gICAgICBcImRpYWxvZ1wiOiB7XHJcbiAgICAgICAgXCJ1dWlkXCI6XCJkMDAxXCIsXHJcbiAgICAgICAgXCJzdGFydFRhbGtcIjpcInQwMDFcIixcclxuICAgICAgICBcInRhbGtzXCI6W1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBcInV1aWRcIjpcInQwMDFcIixcclxuICAgICAgICAgICAgXCJ0ZXh0XCI6XCJUYWxrIDFcIixcclxuICAgICAgICAgICAgXCJhbnN3ZXJzXCI6W1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwidXVpZFwiOlwiYTAwMVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCI6XCJBbnN3ZXIgMVwiXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcInV1aWRcIjpcImEwMDJcIixcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiOlwiQW5zd2VyIDJcIlxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgXCJ1dWlkXCI6XCJ0MDAyXCIsXHJcbiAgICAgICAgICAgIFwidGV4dFwiOlwiVGFsayAyXCIsXHJcbiAgICAgICAgICAgIFwiYW5zd2Vyc1wiOltcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcInV1aWRcIjpcImEwMDNcIixcclxuICAgICAgICAgICAgICAgIFwidGV4dFwiOlwiQW5zd2VyIDFcIlxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJ1dWlkXCI6XCJhMDA0XCIsXHJcbiAgICAgICAgICAgICAgICBcInRleHRcIjpcIkFuc3dlciAyXCJcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIFwidXVpZFwiOlwidDAwM1wiLFxyXG4gICAgICAgICAgICBcInRleHRcIjpcIlRhbGsgM1wiLFxyXG4gICAgICAgICAgICBcImFuc3dlcnNcIjpbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgXCJ1dWlkXCI6XCJhMDA1XCIsXHJcbiAgICAgICAgICAgICAgICBcInRleHRcIjpcIkFuc3dlciAxXCJcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwidXVpZFwiOlwiYTAwNlwiLFxyXG4gICAgICAgICAgICAgICAgXCJ0ZXh0XCI6XCJBbnN3ZXIgMlwiXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcInV1aWRcIjpcImEwMDJcIixcclxuICAgICAgXCJuYW1lXCI6XCJFdmFcIixcclxuICAgICAgXCJpbnZlbnRvcnlcIjpbXSxcclxuICAgICAgXCJkaWFsb2dcIjpudWxsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcInV1aWRcIjpcImEwMDNcIixcclxuICAgICAgXCJuYW1lXCI6XCJQbGF5ZXJcIixcclxuICAgICAgXCJpbnZlbnRvcnlcIjpbXSxcclxuICAgICAgXCJkaWFsb2dcIjpudWxsXHJcbiAgICB9LFxyXG4gIF0sXHJcbiAgXCJxdWVzdHNcIjp7fSxcclxuICBcInZhcmlhYmxlc1wiOnt9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuL2NvcmUvVXRpbHMnO1xyXG5pbXBvcnQgQWN0b3IgZnJvbSAnLi9hY3RvcnMvQWN0b3InO1xyXG5pbXBvcnQgUXVlc3QgZnJvbSAnLi9xdWVzdHMvUXVlc3QnO1xyXG5cclxubGV0IFJQR1N5c3RlbSA9IGZ1bmN0aW9uICgpIHtcclxuICBsZXQgX3F1ZXN0cyA9IFtdLFxyXG4gICAgICBfYWN0b3JzID0gW10sXHJcblxyXG4gIF9hZGRRdWVzdCA9IGZ1bmN0aW9uKHF1ZXN0KSB7XHJcbiAgICBfcXVlc3RzID0gVXRpbHMuYWRkT2JqZWN0VG9BcnJheShfcXVlc3RzLHF1ZXN0LFF1ZXN0KTtcclxuICB9LFxyXG5cclxuICBfZ2V0UXVlc3QgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgcmV0dXJuIFV0aWxzLmdldE9iamVjdEJ5SWQoX3F1ZXN0cyxpZCk7XHJcbiAgfSxcclxuXHJcbiAgX2dldFF1ZXN0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIF9xdWVzdHM7XHJcbiAgfSxcclxuXHJcbiAgX2FkZEFjdG9yID0gZnVuY3Rpb24oYWN0b3IpIHtcclxuICAgIF9hY3RvcnMgPSBVdGlscy5hZGRPYmplY3RUb0FycmF5KF9hY3RvcnMsYWN0b3IsQWN0b3IpO1xyXG4gIH0sXHJcblxyXG4gIF9nZXRBY3RvciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICByZXR1cm4gVXRpbHMuZ2V0T2JqZWN0QnlJZChfYWN0b3JzLGlkKTtcclxuICB9LFxyXG5cclxuICBfZ2V0QWN0b3JzID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gX2FjdG9ycztcclxuICB9LFxyXG5cclxuICBfcGFyc2VEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgX2FjdG9ycyA9IGRhdGEuYWN0b3JzLmxlbmd0aCA/IGRhdGEuYWN0b3JzLm1hcCgoYSkgPT4gbmV3IEFjdG9yKGEpKSA6IFtdO1xyXG4gICAgX3F1ZXN0cyA9IGRhdGEucXVlc3RzLmxlbmd0aCA/IGRhdGEucXVlc3RzLm1hcCgocSkgPT4gbmV3IFF1ZXN0KHEpKSA6IFtdO1xyXG4gIH0sXHJcblxyXG4gIF9zZXJpYWxpemVEYXRhID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgYWN0b3JzOiBfYWN0b3JzLm1hcCgoYSkgPT4gYS5nZXREYXRhKCkpLFxyXG4gICAgICBxdWVzdHM6IF9xdWVzdHMubWFwKChxKSA9PiBxLmdldERhdGEoKSlcclxuICAgIH07XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGFkZFF1ZXN0OiBfYWRkUXVlc3QsXHJcbiAgICBnZXRRdWVzdDogX2dldFF1ZXN0LFxyXG4gICAgZ2V0UXVlc3RzOiBfZ2V0UXVlc3RzLFxyXG4gICAgYWRkQWN0b3I6IF9hZGRBY3RvcixcclxuICAgIGdldEFjdG9yOiBfZ2V0QWN0b3IsXHJcbiAgICBnZXRBY3RvcnM6IF9nZXRBY3RvcnMsXHJcbiAgICBwYXJzZURhdGE6IF9wYXJzZURhdGEsXHJcbiAgICBzZXJpYWxpemVEYXRhOiBfc2VyaWFsaXplRGF0YVxyXG4gIH07XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJQR1N5c3RlbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCBVbmlxdWVPYmplY3QgZnJvbSAnLi4vY29yZS9VbmlxdWVPYmplY3QnO1xyXG5pbXBvcnQgRGlhbG9nIGZyb20gJy4uL2RpYWxvZ3MvRGlhbG9nJztcclxuXHJcbmxldCBBY3RvciA9IChmdW5jdGlvbigpIHtcclxuICAvL1dlYWsgbWFwcyBhcmUgbmV3IGZlYXR1cmUgdG8gSmF2YVNjcmlwdC4gV2UgY2FuIHN0b3JlIHByaXZhdGVcclxuICAvL29iamVjdCBwcm9wZXJ0aWVzIGluIGtleS92YWx1ZSBwYWlycyB1c2luZyBvdXIgaW5zdGFuY2UgYXMgdGhlIGtleSxcclxuICAvL2FuZCBvdXIgY2xhc3MgY2FuIGNhcHR1cmUgdGhvc2Uga2V5L3ZhbHVlIG1hcHMgaW4gYSBjbG9zdXJlLlxyXG4gIGxldCBfbmFtZSA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF9kaWFsb2cgPSBuZXcgV2Vha01hcCgpO1xyXG4gIC8vbGV0IF9pbnZlbnRvcnkgPSBuZXcgV2Vha01hcCgpO1xyXG5cclxuICBsZXQgX3BhcnNlRGlhbG9nID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgcmV0dXJuIGRhdGEgPyBuZXcgRGlhbG9nKGRhdGEpIDogbnVsbDtcclxuICB9O1xyXG5cclxuICByZXR1cm4gY2xhc3MgQWN0b3IgZXh0ZW5kcyBVbmlxdWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgX25hbWUuc2V0KHRoaXMsZGF0YS5uYW1lfHwnJyk7XHJcbiAgICAgIF9kaWFsb2cuc2V0KHRoaXMsX3BhcnNlRGlhbG9nKGRhdGEuZGlhbG9nKSk7XHJcbiAgICAgIC8vX2ludmVudG9yeS5zZXQodGhpcyxkYXRhLmludmVudG9yeSA/ICk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgbGV0IGRhdGEgPSBzdXBlci5nZXREYXRhKCk7XHJcbiAgICAgIGRhdGEubmFtZSA9IHRoaXMuZ2V0TmFtZSgpO1xyXG4gICAgICBkYXRhLmRpYWxvZyA9IHRoaXMuZ2V0RGlhbG9nKCkgPyB0aGlzLmdldERpYWxvZygpLmdldERhdGEoKSA6IG51bGw7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE5hbWUodmFsdWUpIHtcclxuICAgICAgX25hbWUuc2V0KHRoaXMsdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgIHJldHVybiBfbmFtZS5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGlhbG9nKGRpYWxvZykge1xyXG4gICAgICBfZGlhbG9nLnNldCh0aGlzLGRpYWxvZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlhbG9nKCkge1xyXG4gICAgICByZXR1cm4gX2RpYWxvZy5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLypzZXRJbnZlbnRvcnkoaW52ZW50b3J5KSB7XHJcbiAgICAgIF9pbnZlbnRvcnkuc2V0KHRoaXMsaW52ZW50b3J5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnZlbnRvcnkoKSB7XHJcbiAgICAgIHJldHVybiBfaW52ZW50b3J5LmdldCh0aGlzKTtcclxuICAgIH0qL1xyXG5cclxuICB9XHJcbn0pKCk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEFjdG9yO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBVbmlxdWVPYmplY3QgZnJvbSAnLi9VbmlxdWVPYmplY3QnO1xyXG5cclxubGV0IEJhc2VPYmplY3QgPSAoZnVuY3Rpb24oaWQpIHtcclxuICAvL1dlYWsgbWFwcyBhcmUgbmV3IGZlYXR1cmUgdG8gSmF2YVNjcmlwdC4gV2UgY2FuIHN0b3JlIHByaXZhdGVcclxuICAvL29iamVjdCBwcm9wZXJ0aWVzIGluIGtleS92YWx1ZSBwYWlycyB1c2luZyBvdXIgaW5zdGFuY2UgYXMgdGhlIGtleSxcclxuICAvL2FuZCBvdXIgY2xhc3MgY2FuIGNhcHR1cmUgdGhvc2Uga2V5L3ZhbHVlIG1hcHMgaW4gYSBjbG9zdXJlLlxyXG4gIGxldCBfdmlzaWJsZSA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF9hY3RpdmUgPSBuZXcgV2Vha01hcCgpO1xyXG5cclxuICByZXR1cm4gY2xhc3MgQmFzZU9iamVjdCBleHRlbmRzIFVuaXF1ZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgIHN1cGVyKGRhdGEpO1xyXG4gICAgICBfdmlzaWJsZS5zZXQodGhpcyxkYXRhLnZpc2libGV8fG51bGwpO1xyXG4gICAgICBfYWN0aXZlLnNldCh0aGlzLGRhdGEuYWN0aXZlfHxudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICBsZXQgZGF0YSA9IHN1cGVyLmdldERhdGEoKTtcclxuICAgICAgZGF0YS52aXNpYmxlID0gdGhpcy5nZXRWaXNpYmxlQ29uZGl0aW9uKCkgP1xyXG4gICAgICAgIHRoaXMuZ2V0VmlzaWJsZUNvbmRpdGlvbigpLmdldERhdGEoKSA6IG51bGw7XHJcbiAgICAgIGRhdGEuYWN0aXZlID0gdGhpcy5nZXRBY3RpdmVDb25kaXRpb24oKSA/XHJcbiAgICAgICAgdGhpcy5nZXRBY3RpdmVDb25kaXRpb24oKS5nZXREYXRhKCkgOiBudWxsO1xyXG4gICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ldGhvZCBzZXRzIGNvbmRpdGlvbiB0aGF0IG11c3QgYmUgbWV0IGluIG9yZGVyIHRvIG5vZGUgd2FzIHZpc2libGUuXHJcbiAgICAgKiBAcGFyYW0ge0NvbmRpdGlvbn0gY29uZGl0aW9uIEluc3RhbmNlIG9mIENvbmRpdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc2V0VmlzaWJsZUNvbmRpdGlvbihjb25kaXRpb24pIHtcclxuICAgICAgX3Zpc2libGUuc2V0KHRoaXMsQmFzZU9iamVjdC5pc0NvbmRpdGlvbkluc3RhbmNlKGNvbmRpdGlvbikpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpc2libGVDb25kaXRpb24oKSB7XHJcbiAgICAgIHJldHVybiBfdmlzaWJsZS5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJvb2xlYW4gdGhhdCByZWZsZWN0cyB2aXNpYmxpbGl0eSBzdGF0ZSBvZiBub2RlLlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVmlzaWJpbGl0eSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBpc1Zpc2libGUoKSB7XHJcbiAgICAgIHJldHVybiBCYXNlT2JqZWN0LmNoZWNrQ29uZGl0aW9uKF92aXNpYmxlLmdldCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXRob2Qgc2V0cyBjb25kaXRpb24gdGhhdCBtdXN0IGJlIG1ldCBpbiBvcmRlciB0byBub2RlIHdhcyBhY3RpdmUuXHJcbiAgICAgKiBAcGFyYW0ge0NvbmRpdGlvbn0gY29uZGl0aW9uIEluc3RhbmNlIG9mIENvbmRpdGlvbiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc2V0QWN0aXZlQ29uZGl0aW9uKGNvbmRpdGlvbikge1xyXG4gICAgICBfYWN0aXZlLnNldCh0aGlzLEJhc2VPYmplY3QuaXNDb25kaXRpb25JbnN0YW5jZShjb25kaXRpb24pKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBY3RpdmVDb25kaXRpb24oKSB7XHJcbiAgICAgIHJldHVybiBfYWN0aXZlLmdldCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYm9vbGVhbiB0aGF0IHJlZmxlY3RzIGFjdGl2aXR5IHN0YXRlIG9mIG5vZGUuXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBBY3RpdmUgc3RhdGVcclxuICAgICAqL1xyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgIHJldHVybiBCYXNlT2JqZWN0LmNoZWNrQ29uZGl0aW9uKF9hY3RpdmUuZ2V0KHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2hlY2tDb25kaXRpb24oY29uZGl0aW9uKSB7XHJcbiAgICAgIGlmKGNvbmRpdGlvbiA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XHJcbiAgICAgIHJldHVybiBjb25kaXRpb24uY2hlY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNDb25kaXRpb25JbnN0YW5jZShvYmopIHtcclxuICAgICAgaWYodHlwZW9mIG9iaiAhPT0gQ29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXcm9uZyB0eXBlIG9mIG9iamVjdCBwYXNzZWQuIEV4cGVjdGVkIFwiQ29uZGl0aW9uXCIgb2JqZWN0LicpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgfTtcclxufSkoKTtcclxubW9kdWxlLmV4cG9ydHMgPSBCYXNlT2JqZWN0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IHtVVUlEfSBmcm9tICcuL1V0aWxzJztcclxuXHJcbmxldCBVbmlxdWVPYmplY3QgPSAoZnVuY3Rpb24oKXtcclxuICAvL1dlYWsgbWFwcyBhcmUgbmV3IGZlYXR1cmUgdG8gSmF2YVNjcmlwdC4gV2UgY2FuIHN0b3JlIHByaXZhdGVcclxuICAvL29iamVjdCBwcm9wZXJ0aWVzIGluIGtleS92YWx1ZSBwYWlycyB1c2luZyBvdXIgaW5zdGFuY2UgYXMgdGhlIGtleSxcclxuICAvL2FuZCBvdXIgY2xhc3MgY2FuIGNhcHR1cmUgdGhvc2Uga2V5L3ZhbHVlIG1hcHMgaW4gYSBjbG9zdXJlLlxyXG4gIGxldCBfdXVpZCA9IG5ldyBXZWFrTWFwKCk7XHJcblxyXG4gIHJldHVybiBjbGFzcyBVbmlxdWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAvL0J5IGRlZmF1bHQgd2UgYXNzaWduIFVuaXZlcnNhbGx5IFVuaXF1ZSBJRFxyXG4gICAgICBfdXVpZC5zZXQodGhpcyxkYXRhLnV1aWR8fFVVSUQuZ2VuZXJhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SWQodmFsdWUpIHtcclxuICAgICAgX3V1aWQuc2V0KHRoaXMsdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElkKCkge1xyXG4gICAgICByZXR1cm4gX3V1aWQuZ2V0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdXVpZDp0aGlzLmdldElkKClcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59KSgpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IFVuaXF1ZU9iamVjdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogRmFzdCBVVUlEIGdlbmVyYXRvciwgUkZDNDEyMiB2ZXJzaW9uIDQgY29tcGxpYW50LlxyXG4gKiBAYXV0aG9yIEplZmYgV2FyZCAoamN3YXJkLmNvbSkuXHJcbiAqIEBsaWNlbnNlIE1JVCBsaWNlbnNlXHJcbiAqIEBsaW5rIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTk2MzEzNiMyMTk2MzEzNlxyXG4gKiovXHJcbnZhciBVVUlEID0gKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBzZWxmID0ge307XHJcbiAgdmFyIGx1dCA9IFtdOyBmb3IgKHZhciBpPTA7IGk8MjU2OyBpKyspIHsgbHV0W2ldID0gKGk8MTY/JzAnOicnKSsoaSkudG9TdHJpbmcoMTYpOyB9XHJcbiAgc2VsZi5nZW5lcmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGQwID0gTWF0aC5yYW5kb20oKSoweGZmZmZmZmZmfDA7XHJcbiAgICB2YXIgZDEgPSBNYXRoLnJhbmRvbSgpKjB4ZmZmZmZmZmZ8MDtcclxuICAgIHZhciBkMiA9IE1hdGgucmFuZG9tKCkqMHhmZmZmZmZmZnwwO1xyXG4gICAgdmFyIGQzID0gTWF0aC5yYW5kb20oKSoweGZmZmZmZmZmfDA7XHJcbiAgICByZXR1cm4gbHV0W2QwJjB4ZmZdK2x1dFtkMD4+OCYweGZmXStsdXRbZDA+PjE2JjB4ZmZdK2x1dFtkMD4+MjQmMHhmZl0rJy0nK1xyXG4gICAgICBsdXRbZDEmMHhmZl0rbHV0W2QxPj44JjB4ZmZdKyctJytsdXRbZDE+PjE2JjB4MGZ8MHg0MF0rbHV0W2QxPj4yNCYweGZmXSsnLScrXHJcbiAgICAgIGx1dFtkMiYweDNmfDB4ODBdK2x1dFtkMj4+OCYweGZmXSsnLScrbHV0W2QyPj4xNiYweGZmXStsdXRbZDI+PjI0JjB4ZmZdK1xyXG4gICAgICBsdXRbZDMmMHhmZl0rbHV0W2QzPj44JjB4ZmZdK2x1dFtkMz4+MTYmMHhmZl0rbHV0W2QzPj4yNCYweGZmXTtcclxuICB9XHJcbiAgcmV0dXJuIHNlbGY7XHJcbn0pKCk7XHJcblxyXG5leHBvcnRzLlVVSUQgPSBVVUlEO1xyXG5cclxubGV0IGluZGV4T2ZPYmplY3QgPSBmdW5jdGlvbihhcnJheSxvYmopIHtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZihhcnJheVtpXSA9PT0gb2JqKSByZXR1cm4gaTtcclxuICB9XHJcbiAgcmV0dXJuIC0xO1xyXG59O1xyXG5cclxuZXhwb3J0cy5pbmRleE9mT2JqZWN0ID0gaW5kZXhPZk9iamVjdDtcclxuXHJcblxyXG5leHBvcnRzLmdldE9iamVjdEJ5SWQgPSBmdW5jdGlvbihhcnJheSxpZCkge1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmKGFycmF5W2ldLmdldElkKCkgPT09IGlkKSByZXR1cm4gYXJyYXlbaV07XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59O1xyXG5cclxubGV0IGdldEluZGV4QnlJZCA9IGZ1bmN0aW9uKGFycmF5LGlkKSB7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYoYXJyYXlbaV0uZ2V0SWQoKSA9PT0gaWQpIHJldHVybiBpO1xyXG4gIH1cclxuICByZXR1cm4gLTE7XHJcbn07XHJcbmV4cG9ydHMuZ2V0SW5kZXhCeUlkID0gZ2V0SW5kZXhCeUlkO1xyXG5cclxuZXhwb3J0cy5hZGRPYmplY3RUb0FycmF5ID0gZnVuY3Rpb24oYXJyYXksb2JqLGV4cGVjdGVkVHlwZSkge1xyXG4gIGlmKGV4cGVjdGVkVHlwZSAhPT0gdW5kZWZpbmVkICYmIGV4cGVjdGVkVHlwZSAhPT0gbnVsbCkge1xyXG4gICAgaWYodHlwZW9mIG9iaiAhPT0gZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgdHlwZSBvZiBvYmplY3QgcGFzc2VkLiBFeHBlY3RlZCAnXHJcbiAgICAgICtleHBlY3RlZFR5cGUudG9TdHJpbmcoKSsnIG9iamVjdC4nKTtcclxuICAgIH1cclxuICB9XHJcbiAgaWYoaW5kZXhPZk9iamVjdChhcnJheSxvYmopID09PSAtMSkge1xyXG4gICAgYXJyYXkucHVzaChvYmopO1xyXG4gIH1cclxuICByZXR1cm4gYXJyYXk7XHJcbn07XHJcblxyXG5leHBvcnRzLnJlbW92ZU9iamVjdEJ5SWQgPSBmdW5jdGlvbihhcnJheSxpZCkge1xyXG4gIGxldCBpbmRleCA9IGdldEluZGV4QnlJZChhcnJheSxpZCk7XHJcbiAgaWYoaW5kZXggIT09IC0xKSB7XHJcbiAgICBhcnJheS5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnRzLnJlbW92ZU9iamVjdEZyb21BcnJheSA9IGZ1bmN0aW9uKGFycmF5LG9iaikge1xyXG4gIGxldCBpbmRleCA9IGluZGV4T2ZPYmplY3QoYXJyYXksb2JqKTtcclxuICBpZihpbmRleCAhPT0gLTEpIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwxKTtcclxuICB9XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9jb3JlL0Jhc2VPYmplY3QnO1xyXG5cclxubGV0IEFuc3dlciA9IChmdW5jdGlvbigpIHtcclxuICAvL1dlYWsgbWFwcyBhcmUgbmV3IGZlYXR1cmUgdG8gSmF2YVNjcmlwdC4gV2UgY2FuIHN0b3JlIHByaXZhdGVcclxuICAvL29iamVjdCBwcm9wZXJ0aWVzIGluIGtleS92YWx1ZSBwYWlycyB1c2luZyBvdXIgaW5zdGFuY2UgYXMgdGhlIGtleSxcclxuICAvL2FuZCBvdXIgY2xhc3MgY2FuIGNhcHR1cmUgdGhvc2Uga2V5L3ZhbHVlIG1hcHMgaW4gYSBjbG9zdXJlLlxyXG4gIGxldCBfdGV4dCA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF9saW5rID0gbmV3IFdlYWtNYXAoKTtcclxuXHJcbiAgcmV0dXJuIGNsYXNzIEFuc3dlciBleHRlbmRzIEJhc2VPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgX3RleHQuc2V0KHRoaXMsZGF0YS50ZXh0fHwnJyk7XHJcbiAgICAgIF9saW5rLnNldCh0aGlzLGRhdGEubGlua3x8JycpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgIGxldCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xyXG4gICAgICBkYXRhLnRleHQgPSB0aGlzLmdldFRleHQoKTtcclxuICAgICAgZGF0YS5saW5rID0gdGhpcy5nZXRMaW5rKCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQodmFsdWUpIHtcclxuICAgICAgX3RleHQuc2V0KHRoaXMsdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgIHJldHVybiBfdGV4dC5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGluayhsaW5rKSB7XHJcbiAgICAgIF9saW5rLnNldCh0aGlzLGxpbmspO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExpbmsoKSB7XHJcbiAgICAgIHJldHVybiBfbGluay5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcbn0pKCk7XHJcbm1vZHVsZS5leHBvcnRzID0gQW5zd2VyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IFVuaXF1ZU9iamVjdCBmcm9tICcuLi9jb3JlL1VuaXF1ZU9iamVjdCc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcclxuaW1wb3J0IFRhbGsgZnJvbSAnLi9UYWxrJztcclxuXHJcbmxldCBEaWFsb2cgPSAoZnVuY3Rpb24oKSB7XHJcbiAgbGV0IF9zdGFydCA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF90YWxrcyA9IG5ldyBXZWFrTWFwKCk7XHJcblxyXG4gIGxldCBfcGFyc2VUYWxrcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHJldHVybiBkYXRhLmxlbmd0aCA/IGRhdGEubWFwKCh0YWxrRGF0YSkgPT4gbmV3IFRhbGsodGFsa0RhdGEpKSA6IFtdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNsYXNzIERpYWxvZyBleHRlbmRzIFVuaXF1ZU9iamVjdCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICBzdXBlcihkYXRhKTtcclxuICAgICAgX3N0YXJ0LnNldCh0aGlzLGRhdGEuc3RhcnRUYWxrfHwnJyk7XHJcbiAgICAgIF90YWxrcy5zZXQodGhpcyxfcGFyc2VUYWxrcyhkYXRhLnRhbGtzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpIHtcclxuICAgICAgbGV0IGRhdGEgPSBzdXBlci5nZXREYXRhKCk7XHJcbiAgICAgIGRhdGEuc3RhcnRUYWxrID0gdGhpcy5nZXRTdGFydFRhbGsoKTtcclxuICAgICAgZGF0YS50YWxrcyA9IHRoaXMuZ2V0VGFsa3MoKS5tYXAoKHQpID0+IHQuZ2V0RGF0YSgpKTtcclxuICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVGFsayh0YWxrKSB7XHJcbiAgICAgIF90YWxrcy5zZXQodGhpcyxVdGlscy5hZGRPYmplY3RUb0FycmF5KF90YWxrcy5nZXQodGhpcyksdGFsaywgVGFsaykpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVRhbGsodGFsa0lkKSB7XHJcbiAgICAgIFV0aWxzLnJlbW92ZU9iamVjdEJ5SWQoX3RhbGtzLmdldCh0aGlzKSx0YWxrSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhbGsodGFsa0lkKSB7XHJcbiAgICAgIHJldHVybiBVdGlscy5nZXRPYmplY3RCeUlkKF90YWxrcyx0YWxrSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhbGtzKCkge1xyXG4gICAgICByZXR1cm4gX3RhbGtzLmdldCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdGFydFRhbGsodGFsa0lkKSB7XHJcbiAgICAgIF9zdGFydC5zZXQodGhpcyx0YWxrSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXJ0VGFsaygpIHtcclxuICAgICAgcmV0dXJuIF9zdGFydC5nZXQodGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSkoKTtcclxubW9kdWxlLmV4cG9ydHMgPSBEaWFsb2c7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9jb3JlL0Jhc2VPYmplY3QnO1xyXG5pbXBvcnQgQW5zd2VyIGZyb20gJy4vQW5zd2VyJztcclxuXHJcbmxldCBUYWxrID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuICBsZXQgX3RleHQgPSBuZXcgV2Vha01hcCgpO1xyXG4gIGxldCBfYW5zd2VycyA9IG5ldyBXZWFrTWFwKCk7XHJcblxyXG4gIGxldCBfcGFyc2VBbnN3ZXJzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID8gZGF0YS5tYXAoKGFuc3dlckRhdGEpID0+IG5ldyBBbnN3ZXIoYW5zd2VyRGF0YSkpIDogW107XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGNsYXNzIFRhbGsgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgc3VwZXIoZGF0YSk7XHJcbiAgICAgIF90ZXh0LnNldCh0aGlzLGRhdGEudGV4dHx8JycpO1xyXG4gICAgICBfYW5zd2Vycy5zZXQodGhpcyxfcGFyc2VBbnN3ZXJzKGRhdGEuYW5zd2VycykpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgIGxldCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xyXG4gICAgICBkYXRhLnRleHQgPSB0aGlzLmdldFRleHQoKTtcclxuICAgICAgZGF0YS5hbnN3ZXJzID0gdGhpcy5nZXRBbnN3ZXJzKCkubWFwKChhKSA9PiBhLmdldERhdGEoKSk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQodmFsdWUpIHtcclxuICAgICAgX3RleHQuc2V0KHRoaXMsdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgIHJldHVybiBfdGV4dC5nZXQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQW5zd2VyKGFuc3dlcikge1xyXG4gICAgICBfYW5zd2Vycy5zZXQodGhpcyxVdGlscy5hZGRPYmplY3RUb0FycmF5KF9hbnN3ZXJzLmdldCh0aGlzKSxhbnN3ZXIsIEFuc3dlcikpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUFuc3dlcihhbnN3ZXJJZCkge1xyXG4gICAgICBVdGlscy5yZW1vdmVPYmplY3RCeUlkKF9hbnN3ZXJzLmdldCh0aGlzKSxhbnN3ZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5zd2VyKGFuc3dlcklkKSB7XHJcbiAgICAgIHJldHVybiBVdGlscy5nZXRPYmplY3RCeUlkKF9hbnN3ZXJzLmdldCh0aGlzKSxhbnN3ZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5zd2VycygpIHtcclxuICAgICAgcmV0dXJuIF9hbnN3ZXJzLmdldCh0aGlzKTtcclxuICAgIH1cclxuICB9O1xyXG59KSgpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IFRhbGs7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5pbXBvcnQgQmFzZU9iamVjdCBmcm9tICcuLi9jb3JlL0Jhc2VPYmplY3QnO1xyXG5pbXBvcnQgUXVlc3RTdGF0dXMgZnJvbSAnLi9RdWVzdFN0YXR1cyc7XHJcbmltcG9ydCBUYXNrIGZyb20gJy4vVGFzayc7XHJcblxyXG5sZXQgUXVlc3QgPSAoZnVuY3Rpb24oKSB7XHJcbiAgbGV0IF90aXRsZSA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF9kZXNjcmlwdGlvbiA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgbGV0IF9zdGF0dXMgPSBuZXcgV2Vha01hcCgpO1xyXG4gIGxldCBfdGFza3MgPSBuZXcgV2Vha01hcCgpO1xyXG5cclxuICBsZXQgX3BhcnNlVGFza3MgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICByZXR1cm4gZGF0YS5sZW5ndGggPyBkYXRhLm1hcCgodGFza0RhdGEpID0+IG5ldyBUYXNrKHRhc2tEYXRhKSkgOiBbXTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gY2xhc3MgUXVlc3QgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgc3VwZXIoZGF0YSk7XHJcbiAgICAgIF90aXRsZS5zZXQodGhpcyxkYXRhLnRpdGxlfHwnJyk7XHJcbiAgICAgIF9kZXNjcmlwdGlvbi5zZXQodGhpcyxkYXRhLmRlc2NyaXB0aW9ufHwnJyk7XHJcbiAgICAgIF9zdGF0dXMuc2V0KHRoaXMsZGF0YS5zdGF0dXN8fFF1ZXN0U3RhdHVzLklOQ09NUExFVEUpO1xyXG4gICAgICBfdGFza3Muc2V0KHRoaXMsX3BhcnNlVGFza3MoZGF0YS50YXNrcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgIGxldCBkYXRhID0gc3VwZXIuZ2V0RGF0YSgpO1xyXG4gICAgICBkYXRhLnRpdGxlID0gdGhpcy5nZXRUaXRsZSgpO1xyXG4gICAgICBkYXRhLmRlc2NyaXB0aW9uID0gdGhpcy5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgICBkYXRhLnN0YXR1cyA9IHRoaXMuZ2V0U3RhdHVzKCk7XHJcbiAgICAgIGRhdGEudGFza3MgPSB0aGlzLmdldFRhc2tzKCkubWFwKCh0KSA9PiB0LmdldERhdGEoKSk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpdGxlKHZhbHVlKSB7XHJcbiAgICAgIF90aXRsZS5zZXQodGhpcyx2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGl0bGUoKSB7XHJcbiAgICAgIHJldHVybiBfdGl0bGUuZ2V0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlc2NyaXB0aW9uKHZhbHVlKSB7XHJcbiAgICAgIF9kZXNjcmlwdGlvbi5zZXQodGhpcyx2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVzY3JpcHRpb24oKSB7XHJcbiAgICAgIHJldHVybiBfZGVzY3JpcHRpb24uZ2V0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRhc2sodGFzaykge1xyXG4gICAgICBfdGFza3Muc2V0KHRoaXMsVXRpbHMuYWRkT2JqZWN0VG9BcnJheShfdGFza3MuZ2V0KHRoaXMpLHRhc2ssIFRhc2spKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYXNrKHRhc2tJZCkge1xyXG4gICAgICByZXR1cm4gVXRpbHMuZ2V0T2JqZWN0QnlJZChfdGFza3MuZ2V0KHRoaXMpLHRhc2tJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFza3MoKSB7XHJcbiAgICAgIHJldHVybiBfdGFza3MuZ2V0KHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN0YXR1cyh2YWx1ZSkge1xyXG4gICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgY2FzZSBRdWVzdFN0YXR1cy5DT01QTEVURUQ6XHJcbiAgICAgICAgY2FzZSBRdWVzdFN0YXR1cy5GQUlMRUQ6XHJcbiAgICAgICAgICBfc3RhdHVzLnNldCh0aGlzLHZhbHVlKTtcclxuICAgICAgICBjYXNlIFF1ZXN0U3RhdHVzLklOQ09NUExFVEU6XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIF9zdGF0dXMuc2V0KHRoaXMsUXVlc3RTdGF0dXMuSU5DT01QTEVURSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGF0dXMoKSB7XHJcbiAgICAgIHJldHVybiBfc3RhdHVzLmdldCh0aGlzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxufSkoKTtcclxubW9kdWxlLmV4cG9ydHMgPSBRdWVzdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmNvbnN0IElOQ09NUExFVEUgPSAncXVlc3RJbmNvbXBsZXRlJztcclxuY29uc3QgQ09NUExFVEVEID0gJ3F1ZXN0Q29tcGxldGVkJztcclxuY29uc3QgRkFJTEVEID0gJ3F1ZXN0RmFpbGVkJztcclxuXHJcbmV4cG9ydHMuSU5DT01QTEVURSA9IElOQ09NUExFVEU7XHJcbmV4cG9ydHMuQ09NUExFVEVEID0gQ09NUExFVEVEO1xyXG5leHBvcnRzLkZBSUxFRCA9IEZBSUxFRDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCBCYXNlT2JqZWN0IGZyb20gJy4uL2NvcmUvQmFzZU9iamVjdCc7XHJcblxyXG5sZXQgVGFzayA9IChmdW5jdGlvbigpe1xyXG4gIHJldHVybiBjbGFzcyBUYXNrIGV4dGVuZHMgQmFzZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgIHN1cGVyKGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vdG8gZG9cclxuICB9O1xyXG59KSgpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUYXNrO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IFJQR1N5c3RlbSBmcm9tICcuL3JwZ3MvUlBHU3lzdGVtJztcclxuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YS9kYXRhLmpzb24nO1xyXG4oZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICQoZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHJwZyA9IG5ldyBSUEdTeXN0ZW0oKTtcclxuICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICBycGcucGFyc2VEYXRhKGRhdGEpO1xyXG4gICAgY29uc29sZS5sb2coJ2RhdGEnLHJwZy5zZXJpYWxpemVEYXRhKCkpO1xyXG4gIH0pO1xyXG5cclxufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuIl19
