{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///rpgs.min.js","webpack:///webpack/bootstrap a8a5efc57abcdf2cf91d","webpack:///./src/index.js","webpack:///./src/rpgs/core/BaseNode.js","webpack:///./src/rpgs/core/Utils.js","webpack:///./src/rpgs/core/Plug.js","webpack:///./src/rpgs/core/ConnectorManager.js","webpack:///./src/rpgs/core/Connector.js","webpack:///./src/rpgs/core/ParamsManager.js","webpack:///./src/rpgs/core/CompoundNode.js","webpack:///./src/rpgs/core/ErrorCode.js","webpack:///./src/rpgs/core/ErrorHandler.js","webpack:///./src/rpgs/dialogs/AnswerNode.js","webpack:///./src/rpgs/dialogs/DialogNode.js","webpack:///./src/rpgs/dialogs/DialogWalker.js","webpack:///./src/rpgs/dialogs/TalkNode.js","webpack:///./src/rpgs/RPGSystem.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","BaseNode","CompoundNode","Connector","ConnectorManager","ErrorCode","ErrorHandler","ParamsManager","Plug","Utils","AnswerNode","DialogNode","DialogWalker","TalkNode","RPGSystem","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_get__","variableName","undefined","_RewiredData__","_get_original__","value","INTENTIONAL_UNDEFINED","_Utils2","_ParamsManager2","_ConnectorManager2","_Plug2","_set__","_typeof","_reset__","Object","keys","forEach","name","_with__","object","reset","rewiredVariableNames","previousValues","callback","result","then","catch","addNonEnumerableProperty","defineProperty","enumerable","configurable","Symbol","iterator","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","writable","key","protoProps","staticProps","_Utils","_Plug","_ConnectorManager","_ParamsManager","_uuid","WeakMap","data","rpgs","set","uuid","getUUID","pm","params","cm","_init","setData","addConnector","VISIBLE","ENABLED","type","addParam","getParamValue","setParamValue","removeParam","get","class","getId","wires","getData","getParams","childId","index","canAddWireType","nodeId","addWireType","getWiresType","removeWireType","dispose","delete","create","_RewireAPI__","addPropertyToAPIObject","_typeOfOriginalExport","isExtensible","UUID","indexOfObject","getIndexById","self","lut","toString","generate","d0","Math","random","d1","d2","d3","array","addObjectToArray","push","removeObjectFromArray","spliced","splice","GOTO","_Connector2","_Connector","_connectors","parsed","connector","nodes","hasOwnProperty","getConnector","map","n","addWire","limit","connectors","alreadyExist","filter","getType","canAddWire","getWires","removeWire","_type","_limit","_wires","isNaN","parseInt","getLimit","wiresLen","wire","_paramExist","paramName","containerObj","k","_addParam","paramType","paramValue","isMandatory","mand","_params","param","getParam","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_BaseNode2","_get","property","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_BaseNode","_children","_get__2","_this","children","getChildren","_this2","nodeObj","findNode","NODE_NOT_EXISTS","CLASS_NOT_DEFINED","CONNECTION_TO_ITSELF","IMPROPER_CONNECTION","OBJECT_NOT_FOUND","MANDATORY_PARAM","INCORRECT_TYPE","INCORRECT_PARENT_NODE","INCORRECT_LINK_TARGET","INCOMPATIBLE_CHILD","_ErrorCode2","_ErrorCode","editor","showMsg","errorCode","msg","node","node1","node2","child","Error","_text","text","getText","_CompoundNode2","_CompoundNode","_start","startTalk","getStartTalk","setStartTalk","getChild","talkId","canAdd","_currTalk","_rpgs","_dialog","dialogId","dialog","talk","conversation","currTalk","options","answerId","answer","active","isActive","enabled","isVisible","currId","answerNode","getTalk","setTalk","_ErrorHandler2","_AnswerNode2","_DialogNode2","_TalkNode2","_ErrorHandler","_AnswerNode","_DialogNode","_TalkNode","_findNode","_objectPool","_setConnection","nodeId1","nodeId2","_errorHandler","_tempWires","targetNode","referenceNode","setWire","_nodeFactory","className","_getWaitingWiresForNode","_nodeCreator","asChild","createChildNode","nodeParams","_lastChild","_self","_parentHistory","addChild","canAddChild","unshift","shift","_removeNode","isNodeFound","_addNode","_addDialog","arguments","_addTalk","_addAnswer","_setWire","referenceNodeId","_getNodesByClass","_getDialogs","_serializeData","JSON","stringify","_editor","parse","d","addNode","removeNode","addDialog","addTalk","addAnswer","getDialogs","serializeData"],"mappings":"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","file":"rpgs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  BaseNode: __webpack_require__(1),\n\t  CompoundNode: __webpack_require__(7),\n\t  Connector: __webpack_require__(5),\n\t  ConnectorManager: __webpack_require__(4),\n\t  ErrorCode: __webpack_require__(8),\n\t  ErrorHandler: __webpack_require__(9),\n\t  ParamsManager: __webpack_require__(6),\n\t  Plug: __webpack_require__(3),\n\t  Utils: __webpack_require__(2),\n\t  AnswerNode: __webpack_require__(10),\n\t  DialogNode: __webpack_require__(11),\n\t  DialogWalker: __webpack_require__(12),\n\t  TalkNode: __webpack_require__(13),\n\t  RPGSystem: __webpack_require__(14)\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(2);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tvar _ConnectorManager = __webpack_require__(4);\n\t\n\tvar _ConnectorManager2 = _interopRequireDefault(_ConnectorManager);\n\t\n\tvar _ParamsManager = __webpack_require__(6);\n\t\n\tvar _ParamsManager2 = _interopRequireDefault(_ParamsManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BaseNode = function () {\n\t\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _uuid = new WeakMap();\n\t\n\t  /* function executeScript(rpgs, scriptId) {\r\n\t    let _script = rpgs.findNode(scriptId);\r\n\t      return _script !== null && _script.execute ? _script.execute({rpgs: rpgs}) : true;\r\n\t  }*/\n\t\n\t  return function () {\n\t    function BaseNode(data, rpgs) {\n\t      _classCallCheck(this, BaseNode);\n\t\n\t      data = data || {};\n\t      // If uuid not present, then by default we assign Universally Unique ID.\n\t      _uuid.set(this, data.uuid ? data.uuid : _get__('Utils').getUUID());\n\t      this.rpgs = rpgs;\n\t      this.pm = new (_get__('ParamsManager'))(data.params || {});\n\t      this.cm = new (_get__('ConnectorManager'))();\n\t      this._init();\n\t      this.cm.setData(data);\n\t    }\n\t\n\t    _createClass(BaseNode, [{\n\t      key: '_init',\n\t      value: function _init() {\n\t        this.cm.addConnector(_get__('Plug').VISIBLE, 1);\n\t        this.cm.addConnector(_get__('Plug').ENABLED, 1);\n\t      }\n\t    }, {\n\t      key: 'addParam',\n\t      value: function addParam(name, type, value) {\n\t        this.pm.addParam(name, type, value);\n\t      }\n\t    }, {\n\t      key: 'getParam',\n\t      value: function getParam(name) {\n\t        return this.pm.getParamValue(name);\n\t      }\n\t    }, {\n\t      key: 'setParam',\n\t      value: function setParam(name, value) {\n\t        this.pm.setParamValue(name, value);\n\t      }\n\t    }, {\n\t      key: 'removeParam',\n\t      value: function removeParam(name) {\n\t        this.pm.removeParam(name);\n\t      }\n\t    }, {\n\t      key: 'setId',\n\t      value: function setId(value) {\n\t        _uuid.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getId',\n\t      value: function getId() {\n\t        return _uuid.get(this);\n\t      }\n\t\n\t      /**\r\n\t       * Returns visibility state.\r\n\t       * @return {boolean} Visibility state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isVisible',\n\t      value: function isVisible() {\n\t        return true; // executeScript(this.rpgs, this.cm.getWiresType(Plug.VISIBLE)[0]);\n\t      }\n\t\n\t      /**\r\n\t       * Returns activity state.\r\n\t       * @return {boolean} Active state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isActive',\n\t      value: function isActive() {\n\t        return true; // executeScript(this.rpgs, this.cm.getWiresType(Plug.ENABLED)[0]);\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        return {\n\t          class: this.constructor.name,\n\t          uuid: this.getId(),\n\t          wires: this.cm.getData(),\n\t          params: this.pm.getParams()\n\t        };\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        // false because cannot have children\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        // empty because cannot have children\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        // empty because cannot have children\n\t      }\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        // null because cannot have children\n\t        return null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        // empty array because cannot have children\n\t        return [];\n\t      }\n\t    }, {\n\t      key: 'canAddWireType',\n\t      value: function canAddWireType(type) {\n\t        return this.cm.canAddWireType(type);\n\t      }\n\t    }, {\n\t      key: 'setWire',\n\t      value: function setWire(type, nodeId) {\n\t        this.cm.addWireType(type, nodeId);\n\t      }\n\t    }, {\n\t      key: 'getWires',\n\t      value: function getWires(type) {\n\t        return this.cm.getWiresType(type);\n\t      }\n\t    }, {\n\t      key: 'removeWire',\n\t      value: function removeWire(type, nodeId) {\n\t        this.cm.removeWireType(type, nodeId);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        this.cm.dispose();\n\t        this.pm.dispose();\n\t        this.cm = null;\n\t        this.pm = null;\n\t        this.rpgs = null;\n\t        _uuid.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return BaseNode;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('BaseNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'ParamsManager':\n\t      return _ParamsManager2.default;\n\n\t    case 'ConnectorManager':\n\t      return _ConnectorManager2.default;\n\n\t    case 'Plug':\n\t      return _Plug2.default;\n\n\t    case 'BaseNode':\n\t      return BaseNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * Fast UUID generator, RFC4122 version 4 compliant.\r\n\t * @author Jeff Ward (jcward.com).\r\n\t * @license MIT license\r\n\t * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n\t **/\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar UUID = function () {\n\t  var self = {};\n\t  var lut = [];\n\t  var i;\n\t\n\t  for (i = 0; i < 256; i++) {\n\t    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n\t  }\n\t\n\t  self.generate = function () {\n\t    var d0 = Math.random() * 0xffffffff | 0;\n\t    var d1 = Math.random() * 0xffffffff | 0;\n\t    var d2 = Math.random() * 0xffffffff | 0;\n\t    var d3 = Math.random() * 0xffffffff | 0;\n\t\n\t    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\n\t  };\n\t\n\t  return self;\n\t}();\n\t\n\texports.getUUID = _get__('UUID').generate;\n\t\n\tvar indexOfObject = function indexOfObject(array, obj) {\n\t  var i;\n\t\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i] === obj) return i;\n\t  }\n\t  return -1;\n\t};\n\t\n\texports.indexOfObject = _get__('indexOfObject');\n\t\n\tvar getIndexById = function getIndexById(array, id) {\n\t  var i;\n\t\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i].getId() === id) return i;\n\t  }\n\t  return -1;\n\t};\n\t\n\texports.getIndexById = _get__('getIndexById');\n\t\n\texports.addObjectToArray = function (array, obj) {\n\t  if (_get__('indexOfObject')(array, obj) === -1) {\n\t    array.push(obj);\n\t  }\n\t  return array;\n\t};\n\t\n\texports.removeObjectFromArray = function (array, obj) {\n\t  var index = _get__('indexOfObject')(array, obj);\n\t\n\t  if (index !== -1) {\n\t    var spliced = array.splice(index, 1);\n\t\n\t    if (spliced.dispose) spliced.dispose();\n\t  }\n\t  return array;\n\t};\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'UUID':\n\t      return UUID;\n\n\t    case 'indexOfObject':\n\t      return indexOfObject;\n\n\t    case 'getIndexById':\n\t      return getIndexById;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar VISIBLE = 'visible';\n\tvar ENABLED = 'enabled';\n\tvar GOTO = 'goto';\n\t\n\texports.VISIBLE = _get__('VISIBLE');\n\texports.ENABLED = _get__('ENABLED');\n\texports.GOTO = _get__('GOTO');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'VISIBLE':\n\t      return VISIBLE;\n\n\t    case 'ENABLED':\n\t      return ENABLED;\n\n\t    case 'GOTO':\n\t      return GOTO;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Connector = __webpack_require__(5);\n\t\n\tvar _Connector2 = _interopRequireDefault(_Connector);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ConnectorManager = function () {\n\t\n\t  var _connectors = new WeakMap();\n\t\n\t  return function () {\n\t    function ConnectorManager() {\n\t      _classCallCheck(this, ConnectorManager);\n\t\n\t      _connectors.set(this, []);\n\t    }\n\t\n\t    _createClass(ConnectorManager, [{\n\t      key: 'setData',\n\t      value: function setData(data) {\n\t        var wires = data.wires || {};\n\t        var parsed = [];\n\t        var connector = void 0,\n\t            nodes = void 0;\n\t\n\t        for (var type in wires) {\n\t          if (wires.hasOwnProperty(type)) {\n\t            connector = this.getConnector(type);\n\t            if (connector !== null) {\n\t              nodes = wires[type];\n\t              nodes.map(function (n) {\n\t                return connector.addWire(n);\n\t              });\n\t              parsed.push(connector);\n\t            }\n\t          }\n\t        }\n\t        return parsed;\n\t      }\n\t    }, {\n\t      key: 'addConnector',\n\t      value: function addConnector(type, limit) {\n\t        var connectors = _connectors.get(this);\n\t        var alreadyExist = connectors.filter(function (c) {\n\t          return c.getType() === type;\n\t        }).length > 0;\n\t\n\t        if (!alreadyExist) {\n\t          connectors.push(new (_get__('Connector'))(type, limit));\n\t          _connectors.set(this, connectors);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getConnector',\n\t      value: function getConnector(type) {\n\t        var connectors = _connectors.get(this) || null;\n\t        var connector = null;\n\t\n\t        if (connectors !== null) {\n\t          connector = connectors.filter(function (c) {\n\t            return c.getType() === type;\n\t          });\n\t        }\n\t        return connector !== null && connector.length > 0 ? connector[0] : null;\n\t      }\n\t    }, {\n\t      key: 'canAddWireType',\n\t      value: function canAddWireType(type) {\n\t        var connectors = _connectors.get(this);\n\t\n\t        return connectors.filter(function (c) {\n\t          return c.getType() === type && c.canAddWire();\n\t        }).length > 0;\n\t      }\n\t    }, {\n\t      key: 'addWireType',\n\t      value: function addWireType(type, nodeId) {\n\t        var connector = this.getConnector(type);\n\t\n\t        if (connector !== null) {\n\t          connector.addWire(nodeId);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getWiresType',\n\t      value: function getWiresType(type) {\n\t        var connector = this.getConnector(type);\n\t\n\t        return connector !== null ? connector.getWires() : [];\n\t      }\n\t    }, {\n\t      key: 'removeWireType',\n\t      value: function removeWireType(type, nodeId) {\n\t        var connector = this.getConnector(type);\n\t\n\t        if (connector !== null) {\n\t          connector.removeWire(nodeId);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = {};\n\t        var connectors = _connectors.get(this) || [];\n\t        var type = void 0,\n\t            nodes = void 0,\n\t            i = void 0;\n\t\n\t        for (i = 0; i < connectors.length; i++) {\n\t          type = connectors[i].getType();\n\t          nodes = connectors[i].getWires();\n\t          data[type] = nodes;\n\t        }\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _connectors.get(this).map(function (c) {\n\t          c.dispose();\n\t        });\n\t        _connectors.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return ConnectorManager;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('ConnectorManager');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Connector':\n\t      return _Connector2.default;\n\n\t    case 'ConnectorManager':\n\t      return ConnectorManager;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Connector = function () {\n\t  var _type = new WeakMap();\n\t  var _limit = new WeakMap();\n\t  var _wires = new WeakMap();\n\t\n\t  return function () {\n\t    function Connector(type, limit) {\n\t      _classCallCheck(this, Connector);\n\t\n\t      _type.set(this, type);\n\t      _limit.set(this, isNaN(parseInt(limit, 10)) ? -1 : parseInt(limit, 10));\n\t      _wires.set(this, []);\n\t    }\n\t\n\t    _createClass(Connector, [{\n\t      key: 'getType',\n\t      value: function getType() {\n\t        return _type.get(this);\n\t      }\n\t    }, {\n\t      key: 'getLimit',\n\t      value: function getLimit() {\n\t        return _limit.get(this);\n\t      }\n\t    }, {\n\t      key: 'getWires',\n\t      value: function getWires() {\n\t        return _wires.get(this);\n\t      }\n\t    }, {\n\t      key: 'canAddWire',\n\t      value: function canAddWire() {\n\t        var limit = this.getLimit();\n\t        var wiresLen = this.getWires().length;\n\t\n\t        return limit === -1 || limit > 0 && wiresLen < limit;\n\t      }\n\t    }, {\n\t      key: 'addWire',\n\t      value: function addWire(nodeId) {\n\t        var wires = this.getWires();\n\t\n\t        if (this.canAddWire()) {\n\t          wires.push(nodeId);\n\t          _wires.set(this, wires);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'removeWire',\n\t      value: function removeWire(nodeId) {\n\t        _wires.set(this, _wires.get(this).filter(function (wire) {\n\t          return wire !== nodeId;\n\t        }));\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _type.delete(this);\n\t        _limit.delete(this);\n\t        _wires.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return Connector;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('Connector');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Connector':\n\t      return Connector;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ParamsManager = function () {\n\t  var _params = new WeakMap();\n\t\n\t  function _paramExist(paramName, containerObj) {\n\t    var keys = Object.keys(containerObj);\n\t\n\t    return keys.filter(function (k) {\n\t      return k === paramName;\n\t    }).length > 0;\n\t  }\n\t\n\t  function _addParam(paramName, paramType, paramValue, containerObj, isMandatory) {\n\t    if (!_paramExist(paramName, containerObj)) {\n\t      containerObj[paramName] = {\n\t        type: paramType,\n\t        value: paramValue,\n\t        mand: isMandatory\n\t      };\n\t    } else {\n\t      // console.warn();\n\t    }\n\t    return containerObj;\n\t  }\n\t\n\t  return function () {\n\t    function ParamsManager(data) {\n\t      _classCallCheck(this, ParamsManager);\n\t\n\t      _params.set(this, data || {});\n\t    }\n\t\n\t    _createClass(ParamsManager, [{\n\t      key: 'addMandatoryParam',\n\t      value: function addMandatoryParam(name, type, value) {\n\t        _params.set(this, _addParam(name, type, value, _params.get(this), true));\n\t      }\n\t    }, {\n\t      key: 'addParam',\n\t      value: function addParam(name, type, value) {\n\t        _params.set(this, _addParam(name, type, value, _params.get(this), false));\n\t      }\n\t    }, {\n\t      key: 'getParam',\n\t      value: function getParam(name) {\n\t        var params = _params.get(this);\n\t\n\t        return params[name] !== undefined ? params[name] : null;\n\t      }\n\t    }, {\n\t      key: 'getParamValue',\n\t      value: function getParamValue(name) {\n\t        var param = this.getParam(name);\n\t\n\t        return param !== null ? param.value : null;\n\t      }\n\t    }, {\n\t      key: 'setParamValue',\n\t      value: function setParamValue(name, value) {\n\t        var params = _params.get(this);\n\t\n\t        if (params[name] !== undefined) params[name].value = value;\n\t      }\n\t    }, {\n\t      key: 'removeParam',\n\t      value: function removeParam(name) {\n\t        var param = this.getParam(name);\n\t        var params = _params.get(this);\n\t\n\t        if (param !== null && !param.mand) {\n\t          delete params[name];\n\t          _params.set(this, params);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getParams',\n\t      value: function getParams() {\n\t        return _params.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _params.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return ParamsManager;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('ParamsManager');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ParamsManager':\n\t      return ParamsManager;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode = __webpack_require__(1);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _Utils = __webpack_require__(2);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CompoundNode = function () {\n\t\n\t  var _children = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(CompoundNode, _get__2);\n\t\n\t    function CompoundNode(data, rpgs) {\n\t      _classCallCheck(this, CompoundNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (CompoundNode.__proto__ || Object.getPrototypeOf(CompoundNode)).call(this, data, rpgs));\n\t\n\t      _children.set(_this, data && data.children ? data.children : []);\n\t      return _this;\n\t    }\n\t\n\t    _createClass(CompoundNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'getData', this).call(this);\n\t\n\t        data.children = this.getChildren();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        var children = _children.get(this);\n\t\n\t        _children.set(this, _get__('Utils').addObjectToArray(children, childId));\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        if (index >= 0 && index < children.length) {\n\t          children.splice(index, 1);\n\t          _children.set(this, children);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        return children.length > index ? children[index] : null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        return _children.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        var _this2 = this;\n\t\n\t        if (this.rpgs) {\n\t          _children.get(this).map(function (childId) {\n\t            var nodeObj = _this2.rpgs.findNode(childId);\n\t\n\t            if (nodeObj !== null) nodeObj.dispose();\n\t          });\n\t        }\n\t        _children.delete(this);\n\t        _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return CompoundNode;\n\t  }(_get__('BaseNode'));\n\t}();\n\t\n\tmodule.exports = _get__('CompoundNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'CompoundNode':\n\t      return CompoundNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar NODE_NOT_EXISTS = 0;\n\tvar CLASS_NOT_DEFINED = 1;\n\tvar CONNECTION_TO_ITSELF = 2;\n\tvar IMPROPER_CONNECTION = 3;\n\tvar OBJECT_NOT_FOUND = 4;\n\tvar MANDATORY_PARAM = 5;\n\tvar INCORRECT_TYPE = 6;\n\tvar INCORRECT_PARENT_NODE = 7;\n\tvar INCORRECT_LINK_TARGET = 8;\n\tvar INCOMPATIBLE_CHILD = 9;\n\t\n\texports.NODE_NOT_EXISTS = _get__('NODE_NOT_EXISTS');\n\texports.CLASS_NOT_DEFINED = _get__('CLASS_NOT_DEFINED');\n\texports.CONNECTION_TO_ITSELF = _get__('CONNECTION_TO_ITSELF');\n\texports.IMPROPER_CONNECTION = _get__('IMPROPER_CONNECTION');\n\texports.OBJECT_NOT_FOUND = _get__('OBJECT_NOT_FOUND');\n\texports.MANDATORY_PARAM = _get__('MANDATORY_PARAM');\n\texports.INCORRECT_TYPE = _get__('INCORRECT_TYPE');\n\texports.INCORRECT_PARENT_NODE = _get__('INCORRECT_PARENT_NODE');\n\texports.INCORRECT_LINK_TARGET = _get__('INCORRECT_LINK_TARGET');\n\texports.INCOMPATIBLE_CHILD = _get__('INCOMPATIBLE_CHILD');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'NODE_NOT_EXISTS':\n\t      return NODE_NOT_EXISTS;\n\n\t    case 'CLASS_NOT_DEFINED':\n\t      return CLASS_NOT_DEFINED;\n\n\t    case 'CONNECTION_TO_ITSELF':\n\t      return CONNECTION_TO_ITSELF;\n\n\t    case 'IMPROPER_CONNECTION':\n\t      return IMPROPER_CONNECTION;\n\n\t    case 'OBJECT_NOT_FOUND':\n\t      return OBJECT_NOT_FOUND;\n\n\t    case 'MANDATORY_PARAM':\n\t      return MANDATORY_PARAM;\n\n\t    case 'INCORRECT_TYPE':\n\t      return INCORRECT_TYPE;\n\n\t    case 'INCORRECT_PARENT_NODE':\n\t      return INCORRECT_PARENT_NODE;\n\n\t    case 'INCORRECT_LINK_TARGET':\n\t      return INCORRECT_LINK_TARGET;\n\n\t    case 'INCOMPATIBLE_CHILD':\n\t      return INCOMPATIBLE_CHILD;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _ErrorCode = __webpack_require__(8);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ErrorHandler = function ErrorHandler(editor) {\n\t  return {\n\t    showMsg: function showMsg(errorCode, params) {\n\t      var msg = '';\n\t\n\t      switch (errorCode) {\n\t        case _get__('ErrorCode').NODE_NOT_EXISTS:\n\t          msg = 'Node of type ' + params.type + ' is not defined.';\n\t          break;\n\t        case _get__('ErrorCode').CLASS_NOT_DEFINED:\n\t          msg = 'Class ' + params.class + ' is not defined.';\n\t          break;\n\t        case _get__('ErrorCode').CONNECTION_TO_ITSELF:\n\t          msg = 'Cannot connect node \"' + params.node + '\" to itself.';\n\t          break;\n\t        case _get__('ErrorCode').IMPROPER_CONNECTION:\n\t          msg = 'Cannot create connection of type \"' + params.type + '\"' + (' from node id \"' + params.node1 + '\" to node id \"' + params.node2 + '\".');\n\t          break;\n\t        case _get__('ErrorCode').OBJECT_NOT_FOUND:\n\t          msg = 'Cannot find object with id \"' + params.id + '\"';\n\t          break;\n\t        case _get__('ErrorCode').MANDATORY_PARAM:\n\t          msg = 'Parameter \"' + params.param + '\" was expected but instead got undefined.';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_TYPE:\n\t          msg = 'Wrong type of argument. Expected \"' + params.type + '\"';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_PARENT_NODE:\n\t          msg = 'Node of type \"' + params.child + '\" can be added only to \"' + params.parent + '\" node.';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_LINK_TARGET:\n\t          msg = 'Cannot create link connection to null node.';\n\t          break;\n\t        case _get__('ErrorCode').INCOMPATIBLE_CHILD:\n\t          msg = 'Cannot add child of type \"' + params.child + '\" into parent of type \"' + params.parent + '\".';\n\t          break;\n\t        default:\n\t          msg = 'Unknown error code passed: ' + errorCode;\n\t      }\n\t      if (editor) {\n\t        editor.showMsg(msg);\n\t      } else {\n\t        throw new Error(msg);\n\t        // add warning mode?\n\t      }\n\t    }\n\t  };\n\t};\n\t\n\tmodule.exports = _get__('ErrorHandler');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ErrorCode':\n\t      return _ErrorCode2.default;\n\n\t    case 'ErrorHandler':\n\t      return ErrorHandler;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode = __webpack_require__(1);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AnswerNode = function () {\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _text = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(AnswerNode, _get__2);\n\t\n\t    function AnswerNode(data) {\n\t      _classCallCheck(this, AnswerNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (AnswerNode.__proto__ || Object.getPrototypeOf(AnswerNode)).call(this, data));\n\t\n\t      _text.set(_this, data && data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(AnswerNode, [{\n\t      key: '_init',\n\t      value: function _init() {\n\t        _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), '_init', this).call(this);\n\t        this.cm.addConnector(_get__('Plug').GOTO, 1);\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'getData', this).call(this);\n\t\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'getTalk',\n\t      value: function getTalk() {\n\t        return this.getWires(_get__('Plug').GOTO)[0];\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return AnswerNode;\n\t  }(_get__('BaseNode'));\n\t}();\n\t\n\tmodule.exports = _get__('AnswerNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Plug':\n\t      return _Plug2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'AnswerNode':\n\t      return AnswerNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode = __webpack_require__(7);\n\t\n\tvar _CompoundNode2 = _interopRequireDefault(_CompoundNode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar DialogNode = function () {\n\t\n\t  var _start = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(DialogNode, _get__2);\n\t\n\t    function DialogNode(data) {\n\t      _classCallCheck(this, DialogNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (DialogNode.__proto__ || Object.getPrototypeOf(DialogNode)).call(this, data));\n\t\n\t      _start.set(_this, data && data.startTalk ? data.startTalk : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(DialogNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'getData', this).call(this);\n\t\n\t        data.startTalk = this.getStartTalk();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'TalkNode';\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'addChild', this).call(this, childId);\n\t        var children = this.getChildren();\n\t\n\t        if (children.length === 1) this.setStartTalk(childId);\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        var child = this.getChild(index);\n\t\n\t        if (child === this.getStartTalk()) this.setStartTalk('');\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'removeChild', this).call(this, index);\n\t      }\n\t    }, {\n\t      key: 'setStartTalk',\n\t      value: function setStartTalk(talkId) {\n\t        // should only add talk nodes from internal children list\n\t        var children = this.getChildren();\n\t        var canAdd = children.filter(function (child) {\n\t          return child === talkId;\n\t        })[0] !== undefined;\n\t\n\t        if (canAdd || talkId === '') _start.set(this, talkId);\n\t      }\n\t    }, {\n\t      key: 'getStartTalk',\n\t      value: function getStartTalk() {\n\t        return _start.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _start.delete(this);\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return DialogNode;\n\t  }(_get__('CompoundNode'));\n\t}();\n\t\n\tmodule.exports = _get__('DialogNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'CompoundNode':\n\t      return _CompoundNode2.default;\n\n\t    case 'DialogNode':\n\t      return DialogNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DialogWalker = function () {\n\t  var _currTalk = new WeakMap();\n\t  var _rpgs = new WeakMap();\n\t  var _dialog = new WeakMap();\n\t\n\t  return function () {\n\t    function DialogWalker(rpgs) {\n\t      _classCallCheck(this, DialogWalker);\n\t\n\t      if (!(rpgs && rpgs.findNode)) {\n\t        throw new Error('RPGSystem instance not passed to constructor.');\n\t      }\n\t      _rpgs.set(this, rpgs);\n\t      _dialog.set(this, null);\n\t      _currTalk.set(this, null);\n\t    }\n\t\n\t    _createClass(DialogWalker, [{\n\t      key: 'setDialog',\n\t      value: function setDialog(dialogId) {\n\t        var dialog = _rpgs.get(this).findNode(dialogId);\n\t\n\t        if (dialog === null || !dialog.getStartTalk) {\n\t          throw new Error('DialogNode with the id \"' + dialogId + '\" does not exists.');\n\t        }\n\t        _dialog.set(this, dialog);\n\t        this.reset();\n\t      }\n\t    }, {\n\t      key: 'setTalk',\n\t      value: function setTalk(talkId) {\n\t        var talk = _rpgs.get(this).findNode(talkId);\n\t\n\t        if (talk === null) {\n\t          throw new Error('TalkNode with the id \"' + talkId + '\" does not exists.');\n\t        }\n\t        _currTalk.set(this, talk);\n\t      }\n\t    }, {\n\t      key: 'getConversation',\n\t      value: function getConversation() {\n\t        var _this = this;\n\t\n\t        var conversation = {};\n\t        var currTalk = _currTalk.get(this);\n\t        var children = currTalk ? currTalk.getChildren() : [];\n\t\n\t        conversation.text = currTalk ? currTalk.getText() : '';\n\t        conversation.options = children.map(function (answerId) {\n\t          var answer = _rpgs.get(_this).findNode(answerId);\n\t\n\t          return {\n\t            id: answer.getId(),\n\t            text: answer.getText(),\n\t            active: answer.isActive(),\n\t            enabled: answer.isVisible()\n\t          };\n\t        });\n\t        return conversation;\n\t      }\n\t\n\t      // should return boolean that indicates if there is next talk\n\t\n\t    }, {\n\t      key: 'selectOption',\n\t      value: function selectOption(id) {\n\t        var children = _currTalk.get(this).getChildren();\n\t        var answerId = children.filter(function (currId, index, array) {\n\t          return currId === id;\n\t        });\n\t\n\t        if (answerId[0] !== undefined) {\n\t          var answerNode = _rpgs.get(this).findNode(answerId[0]);\n\t          var talkId = void 0;\n\t\n\t          if (answerNode !== null) {\n\t            talkId = answerNode.getTalk();\n\t            if (talkId !== undefined) {\n\t              this.setTalk(talkId);\n\t              return true;\n\t            }\n\t          }\n\t        }\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'reset',\n\t      value: function reset() {\n\t        var dialog = _dialog.get(this);\n\t\n\t        if (dialog !== null) {\n\t          this.setTalk(dialog.getStartTalk());\n\t        }\n\t      }\n\t    }]);\n\t\n\t    return DialogWalker;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('DialogWalker');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'DialogWalker':\n\t      return DialogWalker;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode = __webpack_require__(7);\n\t\n\tvar _CompoundNode2 = _interopRequireDefault(_CompoundNode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TalkNode = function () {\n\t\n\t  var _text = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(TalkNode, _get__2);\n\t\n\t    function TalkNode(data) {\n\t      _classCallCheck(this, TalkNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (TalkNode.__proto__ || Object.getPrototypeOf(TalkNode)).call(this, data));\n\t\n\t      _text.set(_this, data && data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(TalkNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'getData', this).call(this);\n\t\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'AnswerNode';\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return TalkNode;\n\t  }(_get__('CompoundNode'));\n\t}();\n\t\n\tmodule.exports = _get__('TalkNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'CompoundNode':\n\t      return _CompoundNode2.default;\n\n\t    case 'TalkNode':\n\t      return TalkNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Role-Playing Game System\r\n\t * @author Krzysztof Stano (stanosky)\r\n\t * @license MIT license\r\n\t * @link https://github.com/stanosky/rpgs\r\n\t * @version 1.0.0rc\r\n\t **/\n\t\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _Utils = __webpack_require__(2);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _BaseNode = __webpack_require__(1);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _ErrorHandler = __webpack_require__(9);\n\t\n\tvar _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);\n\t\n\tvar _ErrorCode = __webpack_require__(8);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tvar _AnswerNode = __webpack_require__(10);\n\t\n\tvar _AnswerNode2 = _interopRequireDefault(_AnswerNode);\n\t\n\tvar _DialogNode = __webpack_require__(11);\n\t\n\tvar _DialogNode2 = _interopRequireDefault(_DialogNode);\n\t\n\tvar _TalkNode = __webpack_require__(13);\n\t\n\tvar _TalkNode2 = _interopRequireDefault(_TalkNode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar RPGSystem = function RPGSystem(data, editor) {\n\t\n\t  var _objectPool = [],\n\t      _editor = editor || null,\n\t      _errorHandler = new (_get__('ErrorHandler'))(_editor),\n\t      _lastChild = null,\n\t      _parentHistory = [],\n\t      _tempWires = [],\n\t      _self = {};\n\t\n\t  function _findNode(nodeId) {\n\t    var i;\n\t\n\t    for (i = 0; i < _objectPool.length; i++) {\n\t      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\n\t    }\n\t    return null;\n\t  }\n\t\n\t  function _setConnection(type, nodeId1, nodeId2) {\n\t    if (nodeId1 === nodeId2) {\n\t      _errorHandler.showMsg(_get__('ErrorCode').CONNECTION_TO_ITSELF, { node: nodeId1 });\n\t    }\n\t\n\t    var node1 = _findNode(nodeId1);\n\t    var node2 = _findNode(nodeId2);\n\t\n\t    if (node2 === null) {\n\t      _tempWires.push({ type: type, targetNode: nodeId1, referenceNode: nodeId2 });\n\t      return;\n\t    }\n\t    if (node1.canAddWireType(type)) {\n\t      node1.setWire(type, node2.getId());\n\t    } else {\n\t      _errorHandler.showMsg(_get__('ErrorCode').IMPROPER_CONNECTION, {\n\t        type: type,\n\t        node1: nodeId1,\n\t        node2: nodeId2\n\t      });\n\t    }\n\t  }\n\t\n\t  function _nodeFactory(data, rpgs) {\n\t    var className = data.class;\n\t\n\t    switch (className) {\n\t      case 'BaseNode':\n\t        return new (_get__('BaseNode'))(data, rpgs);\n\t      case 'AnswerNode':\n\t        return new (_get__('AnswerNode'))(data, rpgs);\n\t      case 'DialogNode':\n\t        return new (_get__('DialogNode'))(data, rpgs);\n\t      case 'TalkNode':\n\t        return new (_get__('TalkNode'))(data, rpgs);\n\t      default:\n\t        _errorHandler.showMsg(_get__('ErrorCode').CLASS_NOT_DEFINED, { class: className });\n\t        return null;\n\t    }\n\t  }\n\t\n\t  function _getWaitingWiresForNode(nodeId) {\n\t    var wires = [],\n\t        i = void 0;\n\t\n\t    for (i = _tempWires.length - 1; i >= 0; i--) {\n\t      if (_tempWires[i].referenceNode === nodeId) {\n\t        wires.push(_tempWires.splice(i, 1)[0]);\n\t      }\n\t    }\n\t    return wires;\n\t  }\n\t\n\t  /**\r\n\t   * This method helps in the creation of nodes. Its focus on proper\r\n\t   * placement of nodes in tree.\r\n\t   * @param  {object} params  Parameters of created node.\r\n\t   * @param  {boolean} asChild Determines if node should be added as child\r\n\t   * of another node or as an independent node.\r\n\t   */\n\t  function _nodeCreator(params, asChild) {\n\t    function createChildNode(nodeParams) {\n\t      // We create a new node, and then set as the last child.\n\t      _lastChild = _nodeFactory(nodeParams, _self);\n\t      // Then we add our freshly created node to its parent.\n\t      _parentHistory[0].addChild(_lastChild.getId());\n\t      // Finally new node is added to main storage object.\n\t      _objectPool.push(_lastChild);\n\t    }\n\t    // Test if node should be added as child or parent.\n\t    if (asChild) {\n\t      // If last added child was not null then we must check additional conditions.\n\t      if (_lastChild !== null) {\n\t        // If constructor name of previous child node, is equal to name of class,\n\t        // whose we try to create, it means node should be added to current parent.\n\t        if (_lastChild.constructor.name === params.class) {\n\t          createChildNode(params);\n\t          // If names of constructors not match, then we must check if new node\n\t          // can be added as child to our previous child.\n\t        } else if (_lastChild.canAddChild(params.class)) {\n\t          _parentHistory.unshift(_lastChild);\n\t          createChildNode(params);\n\t          // Finally if previous conditions are false we try go back to previous\n\t          // parent node.\n\t        } else {\n\t          _lastChild = _parentHistory.shift() || null;\n\t          _nodeCreator(params, asChild);\n\t        }\n\t        // If last child is null, then we check if node can be added to current\n\t        // parent node.\n\t      } else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\n\t        createChildNode(params);\n\t        // If last child and last parent is equal to null, then new child node\n\t        // cant be added, so we throw error.\n\t      } else {\n\t        _errorHandler.showMsg(_get__('ErrorCode').INCOMPATIBLE_CHILD, {\n\t          child: params.class,\n\t          parent: _parentHistory.length > 0 ? _parentHistory[0].constructor.name : 'null'\n\t        });\n\t      }\n\t    } else {\n\t      // If node is added as parent, then last child is set to null\n\t      // and parent history is cleared.\n\t      _lastChild = null;\n\t      _parentHistory.length = 0;\n\t      // After that, new node is created.\n\t      var node = _nodeFactory(params, _self);\n\t\n\t      _parentHistory = [node];\n\t      _objectPool.push(node);\n\t    }\n\t\n\t    _getWaitingWiresForNode(params.uuid).map(function (wire) {\n\t      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\n\t    });\n\t  }\n\t\n\t  function _removeNode(id) {\n\t    var index = _get__('Utils').getIndexById(_objectPool, id);\n\t    var isNodeFound = index > -1;\n\t\n\t    if (isNodeFound) {\n\t      var node = _objectPool.splice(index, 1)[0];\n\t\n\t      node.dispose();\n\t    }\n\t    return isNodeFound;\n\t  }\n\t\n\t  function _addNode(className, params, asChild) {\n\t    params.class = className;\n\t    _nodeCreator(params, asChild);\n\t    return _self;\n\t  }\n\t\n\t  function _addDialog() {\n\t    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _errorHandler.showMsg(_get__('ErrorCode').MANDATORY_PARAM, { param: 'id' });\n\t\n\t    var params = {\n\t      uuid: id,\n\t      class: 'DialogNode'\n\t    };\n\t\n\t    _nodeCreator(params, false);\n\t    return _self;\n\t  }\n\t\n\t  function _addTalk() {\n\t    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _errorHandler.showMsg(_get__('ErrorCode').MANDATORY_PARAM, { param: 'id' });\n\t    var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t    var params = {\n\t      uuid: id,\n\t      text: text,\n\t      class: 'TalkNode'\n\t    };\n\t\n\t    _nodeCreator(params, true);\n\t    return _self;\n\t  }\n\t\n\t  function _addAnswer() {\n\t    var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t\n\t    var params = {\n\t      text: text,\n\t      class: 'AnswerNode'\n\t    };\n\t\n\t    _nodeCreator(params, true);\n\t    return _self;\n\t  }\n\t\n\t  function _setWire(type, referenceNodeId) {\n\t    var targetNode = _lastChild;\n\t\n\t    if (targetNode === null && _parentHistory.length > 0) {\n\t      targetNode = _parentHistory[0];\n\t    } else {\n\t      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n\t        child:className,\r\n\t        parent: _parentHistory.length > 0\r\n\t              ? _parentHistory[0].constructor.name\r\n\t              : 'null'\r\n\t      });*/\n\t    }\n\t    _setConnection(type, targetNode.getId(), referenceNodeId);\n\t    return _self;\n\t  }\n\t\n\t  function _getNodesByClass(className) {\n\t    return _objectPool.filter(function (node) {\n\t      return node.constructor.name === className;\n\t    });\n\t  }\n\t\n\t  function _getDialogs() {\n\t    return _getNodesByClass('DialogNode');\n\t  }\n\t\n\t  function _serializeData() {\n\t    var data = _objectPool.map(function (obj) {\n\t      return obj.getData ? obj.getData() : obj;\n\t    });\n\t\n\t    return JSON.stringify(data);\n\t  }\n\t\n\t  if (data) _objectPool = JSON.parse(data).map(function (d) {\n\t    return _nodeFactory(d, _self);\n\t  });\n\t\n\t  _self = {\n\t\n\t    findNode: _findNode,\n\t    addNode: _addNode,\n\t    removeNode: _removeNode,\n\t\n\t    setWire: _setWire,\n\t\n\t    addDialog: _addDialog,\n\t    addTalk: _addTalk,\n\t    addAnswer: _addAnswer,\n\t\n\t    getDialogs: _getDialogs,\n\t\n\t    serializeData: _serializeData\n\t  };\n\t\n\t  return _self;\n\t};\n\t\n\tmodule.exports = _get__('RPGSystem');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ErrorHandler':\n\t      return _ErrorHandler2.default;\n\n\t    case 'ErrorCode':\n\t      return _ErrorCode2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'AnswerNode':\n\t      return _AnswerNode2.default;\n\n\t    case 'DialogNode':\n\t      return _DialogNode2.default;\n\n\t    case 'TalkNode':\n\t      return _TalkNode2.default;\n\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'RPGSystem':\n\t      return RPGSystem;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rpgs.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a8a5efc57abcdf2cf91d","module.exports = {\r\n  BaseNode: require('./rpgs/core/BaseNode'),\r\n  CompoundNode: require('./rpgs/core/CompoundNode'),\r\n  Connector: require('./rpgs/core/Connector'),\r\n  ConnectorManager: require('./rpgs/core/ConnectorManager'),\r\n  ErrorCode: require('./rpgs/core/ErrorCode'),\r\n  ErrorHandler: require('./rpgs/core/ErrorHandler'),\r\n  ParamsManager: require('./rpgs/core/ParamsManager'),\r\n  Plug: require('./rpgs/core/Plug'),\r\n  Utils: require('./rpgs/core/Utils'),\r\n  AnswerNode: require('./rpgs/dialogs/AnswerNode'),\r\n  DialogNode: require('./rpgs/dialogs/DialogNode'),\r\n  DialogWalker: require('./rpgs/dialogs/DialogWalker'),\r\n  TalkNode: require('./rpgs/dialogs/TalkNode'),\r\n  RPGSystem: require('./rpgs/RPGSystem')\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/index.js","'use strict';\r\nimport Utils from './Utils';\r\nimport Plug from './Plug';\r\nimport ConnectorManager from './ConnectorManager';\r\nimport ParamsManager from './ParamsManager';\r\n\r\nlet BaseNode = (function () {\r\n\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _uuid = new WeakMap();\r\n\r\n  /* function executeScript(rpgs, scriptId) {\r\n    let _script = rpgs.findNode(scriptId);\r\n\r\n    return _script !== null && _script.execute ? _script.execute({rpgs: rpgs}) : true;\r\n  }*/\r\n\r\n  return class BaseNode {\r\n    constructor(data, rpgs) {\r\n      data = data || {};\r\n      // If uuid not present, then by default we assign Universally Unique ID.\r\n      _uuid.set(this, data.uuid ? data.uuid : Utils.getUUID());\r\n      this.rpgs = rpgs;\r\n      this.pm = new ParamsManager(data.params || {});\r\n      this.cm = new ConnectorManager();\r\n      this._init();\r\n      this.cm.setData(data);\r\n    }\r\n\r\n    _init() {\r\n      this.cm.addConnector(Plug.VISIBLE, 1);\r\n      this.cm.addConnector(Plug.ENABLED, 1);\r\n    }\r\n\r\n    addParam(name, type, value) {\r\n      this.pm.addParam(name, type, value);\r\n    }\r\n\r\n    getParam(name) {\r\n      return this.pm.getParamValue(name);\r\n    }\r\n\r\n    setParam(name, value) {\r\n      this.pm.setParamValue(name, value);\r\n    }\r\n\r\n    removeParam(name) {\r\n      this.pm.removeParam(name);\r\n    }\r\n\r\n    setId(value) {\r\n      _uuid.set(this, value);\r\n    }\r\n\r\n    getId() {\r\n      return _uuid.get(this);\r\n    }\r\n\r\n    /**\r\n     * Returns visibility state.\r\n     * @return {boolean} Visibility state\r\n     */\r\n    isVisible() {\r\n      return true;// executeScript(this.rpgs, this.cm.getWiresType(Plug.VISIBLE)[0]);\r\n    }\r\n\r\n    /**\r\n     * Returns activity state.\r\n     * @return {boolean} Active state\r\n     */\r\n    isActive() {\r\n      return true;// executeScript(this.rpgs, this.cm.getWiresType(Plug.ENABLED)[0]);\r\n    }\r\n\r\n    getData() {\r\n      return {\r\n        class: this.constructor.name,\r\n        uuid: this.getId(),\r\n        wires: this.cm.getData(),\r\n        params: this.pm.getParams()\r\n      };\r\n    }\r\n\r\n    canAddChild(type) {\r\n      // false because cannot have children\r\n      return false;\r\n    }\r\n\r\n    addChild(childId) {\r\n      // empty because cannot have children\r\n    }\r\n\r\n    removeChild(index) {\r\n      // empty because cannot have children\r\n    }\r\n\r\n    getChild(index) {\r\n      // null because cannot have children\r\n      return null;\r\n    }\r\n\r\n    getChildren() {\r\n      // empty array because cannot have children\r\n      return [];\r\n    }\r\n\r\n    canAddWireType(type) {\r\n      return this.cm.canAddWireType(type);\r\n    }\r\n\r\n    setWire(type, nodeId) {\r\n      this.cm.addWireType(type, nodeId);\r\n    }\r\n\r\n    getWires(type) {\r\n      return this.cm.getWiresType(type);\r\n    }\r\n\r\n    removeWire(type, nodeId) {\r\n      this.cm.removeWireType(type, nodeId);\r\n    }\r\n\r\n    dispose() {\r\n      this.cm.dispose();\r\n      this.pm.dispose();\r\n      this.cm = null;\r\n      this.pm = null;\r\n      this.rpgs = null;\r\n      _uuid.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = BaseNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/BaseNode.js","'use strict';\r\n\r\n/**\r\n * Fast UUID generator, RFC4122 version 4 compliant.\r\n * @author Jeff Ward (jcward.com).\r\n * @license MIT license\r\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n **/\r\nvar UUID = (function () {\r\n  var self = {};\r\n  var lut = [];\r\n  var i;\r\n\r\n  for (i = 0; i < 256; i++) {\r\n    lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n  }\r\n\r\n  self.generate = function () {\r\n    var d0 = Math.random() * 0xffffffff | 0;\r\n    var d1 = Math.random() * 0xffffffff | 0;\r\n    var d2 = Math.random() * 0xffffffff | 0;\r\n    var d3 = Math.random() * 0xffffffff | 0;\r\n\r\n    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] +\r\n      lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' +\r\n      lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n      lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] +\r\n      lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] +\r\n      lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n  };\r\n\r\n  return self;\r\n})();\r\n\r\nexports.getUUID = UUID.generate;\r\n\r\nlet indexOfObject = function (array, obj) {\r\n  var i;\r\n\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i] === obj) return i;\r\n  }\r\n  return -1;\r\n};\r\n\r\nexports.indexOfObject = indexOfObject;\r\n\r\nlet getIndexById = function (array, id) {\r\n  var i;\r\n\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i].getId() === id) return i;\r\n  }\r\n  return -1;\r\n};\r\n\r\nexports.getIndexById = getIndexById;\r\n\r\nexports.addObjectToArray = function (array, obj) {\r\n  if (indexOfObject(array, obj) === -1) {\r\n    array.push(obj);\r\n  }\r\n  return array;\r\n};\r\n\r\nexports.removeObjectFromArray = function (array, obj) {\r\n  let index = indexOfObject(array, obj);\r\n\r\n  if (index !== -1) {\r\n    let spliced = array.splice(index, 1);\r\n\r\n    if (spliced.dispose) spliced.dispose();\r\n  }\r\n  return array;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Utils.js","'use strict';\r\n\r\nconst VISIBLE = 'visible';\r\nconst ENABLED = 'enabled';\r\nconst GOTO = 'goto';\r\n\r\nexports.VISIBLE = VISIBLE;\r\nexports.ENABLED = ENABLED;\r\nexports.GOTO = GOTO;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Plug.js","'use strict';\r\nimport Connector from './Connector';\r\n\r\nlet ConnectorManager = (function () {\r\n\r\n  let _connectors = new WeakMap();\r\n\r\n  return class ConnectorManager {\r\n\r\n    constructor() {\r\n      _connectors.set(this, []);\r\n    }\r\n\r\n    setData(data) {\r\n      let wires = data.wires || {};\r\n      let parsed = [];\r\n      let connector, nodes;\r\n\r\n      for (let type in wires) {\r\n        if (wires.hasOwnProperty(type)) {\r\n          connector = this.getConnector(type);\r\n          if (connector !== null) {\r\n            nodes = wires[type];\r\n            nodes.map(n => connector.addWire(n));\r\n            parsed.push(connector);\r\n          }\r\n        }\r\n      }\r\n      return parsed;\r\n    }\r\n\r\n    addConnector(type, limit) {\r\n      let connectors = _connectors.get(this);\r\n      let alreadyExist = connectors.filter(c => c.getType() === type).length > 0;\r\n\r\n      if (!alreadyExist) {\r\n        connectors.push(new Connector(type, limit));\r\n        _connectors.set(this, connectors);\r\n      }\r\n    }\r\n\r\n    getConnector(type) {\r\n      let connectors = _connectors.get(this) || null;\r\n      let connector = null;\r\n\r\n      if (connectors !== null) {\r\n        connector = connectors.filter(c => c.getType() === type);\r\n      }\r\n      return connector !== null && connector.length > 0 ? connector[0] : null;\r\n    }\r\n\r\n    canAddWireType(type) {\r\n      let connectors = _connectors.get(this);\r\n\r\n      return connectors.filter(c => {\r\n        return c.getType() === type && c.canAddWire();\r\n      }).length > 0;\r\n    }\r\n\r\n    addWireType(type, nodeId) {\r\n      let connector = this.getConnector(type);\r\n\r\n      if (connector !== null) {\r\n        connector.addWire(nodeId);\r\n      }\r\n    }\r\n\r\n    getWiresType(type) {\r\n      let connector = this.getConnector(type);\r\n\r\n      return connector !== null ? connector.getWires() : [];\r\n    }\r\n\r\n    removeWireType(type, nodeId) {\r\n      let connector = this.getConnector(type);\r\n\r\n      if (connector !== null) {\r\n        connector.removeWire(nodeId);\r\n      }\r\n    }\r\n\r\n    getData() {\r\n      let data = {};\r\n      let connectors = _connectors.get(this) || [];\r\n      let type, nodes, i;\r\n\r\n      for (i = 0; i < connectors.length; i++) {\r\n        type = connectors[i].getType();\r\n        nodes = connectors[i].getWires();\r\n        data[type] = nodes;\r\n      }\r\n      return data;\r\n    }\r\n\r\n    dispose() {\r\n      _connectors.get(this).map((c) => { c.dispose(); });\r\n      _connectors.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = ConnectorManager;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ConnectorManager.js","'use strict';\r\n\r\nlet Connector = (function () {\r\n  let _type = new WeakMap();\r\n  let _limit = new WeakMap();\r\n  let _wires = new WeakMap();\r\n\r\n  return class Connector {\r\n\r\n    constructor(type, limit) {\r\n      _type.set(this, type);\r\n      _limit.set(this, isNaN(parseInt(limit, 10)) ? -1 : parseInt(limit, 10));\r\n      _wires.set(this, []);\r\n    }\r\n\r\n    getType() {\r\n      return _type.get(this);\r\n    }\r\n\r\n    getLimit() {\r\n      return _limit.get(this);\r\n    }\r\n\r\n    getWires() {\r\n      return _wires.get(this);\r\n    }\r\n\r\n    canAddWire() {\r\n      let limit = this.getLimit();\r\n      let wiresLen = this.getWires().length;\r\n\r\n      return limit === -1 || (limit > 0 && wiresLen < limit);\r\n    }\r\n\r\n    addWire(nodeId) {\r\n      let wires = this.getWires();\r\n\r\n      if (this.canAddWire()) {\r\n        wires.push(nodeId);\r\n        _wires.set(this, wires);\r\n      }\r\n    }\r\n\r\n    removeWire(nodeId) {\r\n      _wires.set(this, _wires.get(this).filter(wire => {\r\n        return wire !== nodeId;\r\n      }));\r\n    }\r\n\r\n    dispose() {\r\n      _type.delete(this);\r\n      _limit.delete(this);\r\n      _wires.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = Connector;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Connector.js","'use strict';\r\n\r\nlet ParamsManager = (function () {\r\n  let _params = new WeakMap();\r\n\r\n  function _paramExist(paramName, containerObj) {\r\n    let keys = Object.keys(containerObj);\r\n\r\n    return keys.filter(k => k === paramName).length > 0;\r\n  }\r\n\r\n  function _addParam(paramName, paramType, paramValue, containerObj, isMandatory) {\r\n    if (!_paramExist(paramName, containerObj)) {\r\n      containerObj[paramName] = {\r\n        type: paramType,\r\n        value: paramValue,\r\n        mand: isMandatory\r\n      };\r\n    } else {\r\n      // console.warn();\r\n    }\r\n    return containerObj;\r\n  }\r\n\r\n  return class ParamsManager {\r\n    constructor(data) {\r\n      _params.set(this, data || {});\r\n    }\r\n\r\n    addMandatoryParam(name, type, value) {\r\n      _params.set(this, _addParam(name, type, value, _params.get(this), true));\r\n    }\r\n\r\n    addParam(name, type, value) {\r\n      _params.set(this, _addParam(name, type, value, _params.get(this), false));\r\n    }\r\n\r\n    getParam(name) {\r\n      let params = _params.get(this);\r\n\r\n      return params[name] !== undefined ? params[name] : null;\r\n    }\r\n\r\n    getParamValue(name) {\r\n      let param = this.getParam(name);\r\n\r\n      return param !== null ? param.value : null;\r\n    }\r\n\r\n    setParamValue(name, value) {\r\n      let params = _params.get(this);\r\n\r\n      if (params[name] !== undefined) params[name].value = value;\r\n    }\r\n\r\n    removeParam(name) {\r\n      let param = this.getParam(name);\r\n      let params = _params.get(this);\r\n\r\n      if (param !== null && !param.mand) {\r\n        delete params[name];\r\n        _params.set(this, params);\r\n      }\r\n    }\r\n\r\n    getParams() {\r\n      return _params.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      _params.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = ParamsManager;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ParamsManager.js","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Utils from '../core/Utils';\r\n\r\nlet CompoundNode = (function () {\r\n\r\n  let _children = new WeakMap();\r\n\r\n  return class CompoundNode extends BaseNode {\r\n\r\n    constructor(data, rpgs) {\r\n      super(data, rpgs);\r\n      _children.set(this, data && data.children ? data.children : []);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.children = this.getChildren();\r\n      return data;\r\n    }\r\n\r\n    addChild(childId) {\r\n      let children = _children.get(this);\r\n\r\n      _children.set(this, Utils.addObjectToArray(children, childId));\r\n    }\r\n\r\n    removeChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      if (index >= 0 && index < children.length) {\r\n        children.splice(index, 1);\r\n        _children.set(this, children);\r\n      }\r\n    }\r\n\r\n    getChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      return children.length > index ? children[index] : null;\r\n    }\r\n\r\n    getChildren() {\r\n      return _children.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      if (this.rpgs) {\r\n        _children.get(this).map(childId => {\r\n          let nodeObj = this.rpgs.findNode(childId);\r\n\r\n          if (nodeObj !== null) nodeObj.dispose();\r\n        });\r\n      }\r\n      _children.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\n\r\nmodule.exports = CompoundNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/CompoundNode.js","'use strict';\r\n\r\nconst NODE_NOT_EXISTS = 0;\r\nconst CLASS_NOT_DEFINED = 1;\r\nconst CONNECTION_TO_ITSELF = 2;\r\nconst IMPROPER_CONNECTION = 3;\r\nconst OBJECT_NOT_FOUND = 4;\r\nconst MANDATORY_PARAM = 5;\r\nconst INCORRECT_TYPE = 6;\r\nconst INCORRECT_PARENT_NODE = 7;\r\nconst INCORRECT_LINK_TARGET = 8;\r\nconst INCOMPATIBLE_CHILD = 9;\r\n\r\nexports.NODE_NOT_EXISTS = NODE_NOT_EXISTS;\r\nexports.CLASS_NOT_DEFINED = CLASS_NOT_DEFINED;\r\nexports.CONNECTION_TO_ITSELF = CONNECTION_TO_ITSELF;\r\nexports.IMPROPER_CONNECTION = IMPROPER_CONNECTION;\r\nexports.OBJECT_NOT_FOUND = OBJECT_NOT_FOUND;\r\nexports.MANDATORY_PARAM = MANDATORY_PARAM;\r\nexports.INCORRECT_TYPE = INCORRECT_TYPE;\r\nexports.INCORRECT_PARENT_NODE = INCORRECT_PARENT_NODE;\r\nexports.INCORRECT_LINK_TARGET = INCORRECT_LINK_TARGET;\r\nexports.INCOMPATIBLE_CHILD = INCOMPATIBLE_CHILD;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ErrorCode.js","'use strict';\r\n\r\nimport ErrorCode from './ErrorCode';\r\n\r\n\r\nlet ErrorHandler = function (editor) {\r\n  return {\r\n    showMsg: function (errorCode, params) {\r\n      let msg = '';\r\n\r\n      switch (errorCode) {\r\n        case ErrorCode.NODE_NOT_EXISTS:\r\n          msg = `Node of type ${params.type} is not defined.`;\r\n          break;\r\n        case ErrorCode.CLASS_NOT_DEFINED:\r\n          msg = `Class ${params.class} is not defined.`;\r\n          break;\r\n        case ErrorCode.CONNECTION_TO_ITSELF:\r\n          msg = `Cannot connect node \"${params.node}\" to itself.`;\r\n          break;\r\n        case ErrorCode.IMPROPER_CONNECTION:\r\n          msg = `Cannot create connection of type \"${params.type}\"` +\r\n          ` from node id \"${params.node1}\" to node id \"${params.node2}\".`;\r\n          break;\r\n        case ErrorCode.OBJECT_NOT_FOUND:\r\n          msg = `Cannot find object with id \"${params.id}\"`;\r\n          break;\r\n        case ErrorCode.MANDATORY_PARAM:\r\n          msg = `Parameter \"${params.param}\" was expected but instead got undefined.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_TYPE:\r\n          msg = `Wrong type of argument. Expected \"${params.type}\"`;\r\n          break;\r\n        case ErrorCode.INCORRECT_PARENT_NODE:\r\n          msg = `Node of type \"${params.child}\" can be added only to \"${params.parent}\" node.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_LINK_TARGET:\r\n          msg = `Cannot create link connection to null node.`;\r\n          break;\r\n        case ErrorCode.INCOMPATIBLE_CHILD:\r\n          msg = `Cannot add child of type \"${params.child}\" into parent of type \"${params.parent}\".`;\r\n          break;\r\n        default:\r\n          msg = `Unknown error code passed: ${errorCode}`;\r\n      }\r\n      if (editor) {\r\n        editor.showMsg(msg);\r\n      } else {\r\n        throw new Error(msg);\r\n        // add warning mode?\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nmodule.exports = ErrorHandler;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ErrorHandler.js","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Plug from '../core/Plug';\r\n\r\nlet AnswerNode = (function () {\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _text = new WeakMap();\r\n\r\n  return class AnswerNode extends BaseNode {\r\n    constructor(data) {\r\n      super(data);\r\n      _text.set(this, data && data.text ? data.text : '');\r\n    }\r\n\r\n    _init() {\r\n      super._init();\r\n      this.cm.addConnector(Plug.GOTO, 1);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    getTalk() {\r\n      return this.getWires(Plug.GOTO)[0];\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\n\r\nmodule.exports = AnswerNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/AnswerNode.js","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\n\r\nlet DialogNode = (function () {\r\n\r\n  let _start = new WeakMap();\r\n\r\n  return class DialogNode extends CompoundNode {\r\n\r\n    constructor(data) {\r\n      super(data);\r\n      _start.set(this, data && data.startTalk ? data.startTalk : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.startTalk = this.getStartTalk();\r\n      return data;\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'TalkNode';\r\n    }\r\n\r\n    addChild(childId) {\r\n      super.addChild(childId);\r\n      let children = this.getChildren();\r\n\r\n      if (children.length === 1) this.setStartTalk(childId);\r\n    }\r\n\r\n    removeChild(index) {\r\n      let child = this.getChild(index);\r\n\r\n      if (child === this.getStartTalk()) this.setStartTalk('');\r\n      super.removeChild(index);\r\n    }\r\n\r\n    setStartTalk(talkId) {\r\n      // should only add talk nodes from internal children list\r\n      let children = this.getChildren();\r\n      let canAdd = children.filter(child => child === talkId)[0] !== undefined;\r\n\r\n      if (canAdd || talkId === '') _start.set(this, talkId);\r\n    }\r\n\r\n    getStartTalk() {\r\n      return _start.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      _start.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = DialogNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/DialogNode.js","'use strict';\r\n\r\nlet DialogWalker = (function () {\r\n  let _currTalk = new WeakMap();\r\n  let _rpgs = new WeakMap();\r\n  let _dialog = new WeakMap();\r\n\r\n  return class DialogWalker {\r\n    constructor(rpgs) {\r\n      if (!(rpgs && rpgs.findNode)) {\r\n        throw new Error('RPGSystem instance not passed to constructor.');\r\n      }\r\n      _rpgs.set(this, rpgs);\r\n      _dialog.set(this, null);\r\n      _currTalk.set(this, null);\r\n    }\r\n\r\n    setDialog(dialogId) {\r\n      let dialog = _rpgs.get(this).findNode(dialogId);\r\n\r\n      if (dialog === null || !dialog.getStartTalk) {\r\n        throw new Error(`DialogNode with the id \"${dialogId}\" does not exists.`);\r\n      }\r\n      _dialog.set(this, dialog);\r\n      this.reset();\r\n    }\r\n\r\n    setTalk(talkId) {\r\n      let talk = _rpgs.get(this).findNode(talkId);\r\n\r\n      if (talk === null) {\r\n        throw new Error(`TalkNode with the id \"${talkId}\" does not exists.`);\r\n      }\r\n      _currTalk.set(this, talk);\r\n    }\r\n\r\n    getConversation() {\r\n      let conversation = {};\r\n      let currTalk = _currTalk.get(this);\r\n      let children = currTalk ? currTalk.getChildren() : [];\r\n\r\n      conversation.text = currTalk ? currTalk.getText() : '';\r\n      conversation.options = children.map((answerId) => {\r\n        let answer = _rpgs.get(this).findNode(answerId);\r\n\r\n        return {\r\n          id: answer.getId(),\r\n          text: answer.getText(),\r\n          active: answer.isActive(),\r\n          enabled: answer.isVisible()\r\n        };\r\n      });\r\n      return conversation;\r\n    }\r\n\r\n    // should return boolean that indicates if there is next talk\r\n    selectOption(id) {\r\n      let children = _currTalk.get(this).getChildren();\r\n      let answerId = children.filter((currId, index, array) => {\r\n        return currId === id;\r\n      });\r\n\r\n      if (answerId[0] !== undefined) {\r\n        let answerNode = _rpgs.get(this).findNode(answerId[0]);\r\n        let talkId;\r\n\r\n        if (answerNode !== null) {\r\n          talkId = answerNode.getTalk();\r\n          if (talkId !== undefined) {\r\n            this.setTalk(talkId);\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    reset() {\r\n      let dialog = _dialog.get(this);\r\n\r\n      if (dialog !== null) {\r\n        this.setTalk(dialog.getStartTalk());\r\n      }\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = DialogWalker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/DialogWalker.js","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\n\r\nlet TalkNode = (function () {\r\n\r\n  let _text = new WeakMap();\r\n\r\n  return class TalkNode extends CompoundNode {\r\n    constructor(data) {\r\n      super(data);\r\n      _text.set(this, data && data.text ? data.text : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'AnswerNode';\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = TalkNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/TalkNode.js","/**\r\n * Role-Playing Game System\r\n * @author Krzysztof Stano (stanosky)\r\n * @license MIT license\r\n * @link https://github.com/stanosky/rpgs\r\n * @version 1.0.0rc\r\n **/\r\n\r\n'use strict';\r\nimport Utils from './core/Utils';\r\nimport BaseNode from './core/BaseNode';\r\nimport ErrorHandler from './core/ErrorHandler';\r\nimport ErrorCode from './core/ErrorCode';\r\nimport AnswerNode from './dialogs/AnswerNode';\r\nimport DialogNode from './dialogs/DialogNode';\r\nimport TalkNode from './dialogs/TalkNode';\r\n\r\nlet RPGSystem = function (data, editor) {\r\n\r\n  let _objectPool = [],\r\n    _editor = editor || null,\r\n    _errorHandler = new ErrorHandler(_editor),\r\n    _lastChild = null,\r\n    _parentHistory = [],\r\n    _tempWires = [],\r\n    _self = {};\r\n\r\n  function _findNode(nodeId) {\r\n    var i;\r\n\r\n    for (i = 0; i < _objectPool.length; i++) {\r\n      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function _setConnection(type, nodeId1, nodeId2) {\r\n    if (nodeId1 === nodeId2) {\r\n      _errorHandler.showMsg(ErrorCode.CONNECTION_TO_ITSELF, {node: nodeId1});\r\n    }\r\n\r\n    let node1 = _findNode(nodeId1);\r\n    let node2 = _findNode(nodeId2);\r\n\r\n    if (node2 === null) {\r\n      _tempWires.push({type: type, targetNode: nodeId1, referenceNode: nodeId2});\r\n      return;\r\n    }\r\n    if (node1.canAddWireType(type)) {\r\n      node1.setWire(type, node2.getId());\r\n    } else {\r\n      _errorHandler.showMsg(ErrorCode.IMPROPER_CONNECTION, {\r\n        type: type,\r\n        node1: nodeId1,\r\n        node2: nodeId2\r\n      });\r\n    }\r\n  }\r\n\r\n  function _nodeFactory(data, rpgs) {\r\n    let className = data.class;\r\n\r\n    switch (className) {\r\n      case 'BaseNode': return new BaseNode(data, rpgs);\r\n      case 'AnswerNode': return new AnswerNode(data, rpgs);\r\n      case 'DialogNode': return new DialogNode(data, rpgs);\r\n      case 'TalkNode': return new TalkNode(data, rpgs);\r\n      default:\r\n        _errorHandler.showMsg(ErrorCode.CLASS_NOT_DEFINED, {class: className});\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function _getWaitingWiresForNode(nodeId) {\r\n    let wires = [], i;\r\n\r\n    for (i = _tempWires.length - 1; i >= 0 ; i--) {\r\n      if (_tempWires[i].referenceNode === nodeId) {\r\n        wires.push(_tempWires.splice(i, 1)[0]);\r\n      }\r\n    }\r\n    return wires;\r\n  }\r\n\r\n  /**\r\n   * This method helps in the creation of nodes. Its focus on proper\r\n   * placement of nodes in tree.\r\n   * @param  {object} params  Parameters of created node.\r\n   * @param  {boolean} asChild Determines if node should be added as child\r\n   * of another node or as an independent node.\r\n   */\r\n  function _nodeCreator(params, asChild) {\r\n    function createChildNode(nodeParams) {\r\n      // We create a new node, and then set as the last child.\r\n      _lastChild = _nodeFactory(nodeParams, _self);\r\n      // Then we add our freshly created node to its parent.\r\n      _parentHistory[0].addChild(_lastChild.getId());\r\n      // Finally new node is added to main storage object.\r\n      _objectPool.push(_lastChild);\r\n    }\r\n    // Test if node should be added as child or parent.\r\n    if (asChild) {\r\n      // If last added child was not null then we must check additional conditions.\r\n      if (_lastChild !== null) {\r\n        // If constructor name of previous child node, is equal to name of class,\r\n        // whose we try to create, it means node should be added to current parent.\r\n        if (_lastChild.constructor.name === params.class) {\r\n          createChildNode(params);\r\n        // If names of constructors not match, then we must check if new node\r\n        // can be added as child to our previous child.\r\n        } else if (_lastChild.canAddChild(params.class)) {\r\n          _parentHistory.unshift(_lastChild);\r\n          createChildNode(params);\r\n        // Finally if previous conditions are false we try go back to previous\r\n        // parent node.\r\n        } else {\r\n          _lastChild = _parentHistory.shift() || null;\r\n          _nodeCreator(params, asChild);\r\n        }\r\n      // If last child is null, then we check if node can be added to current\r\n      // parent node.\r\n      } else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\r\n        createChildNode(params);\r\n      // If last child and last parent is equal to null, then new child node\r\n      // cant be added, so we throw error.\r\n      } else {\r\n        _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD, {\r\n          child: params.class,\r\n          parent: _parentHistory.length > 0 ?\r\n                  _parentHistory[0].constructor.name : 'null'\r\n        });\r\n      }\r\n    } else {\r\n      // If node is added as parent, then last child is set to null\r\n      // and parent history is cleared.\r\n      _lastChild = null;\r\n      _parentHistory.length = 0;\r\n      // After that, new node is created.\r\n      let node = _nodeFactory(params, _self);\r\n\r\n      _parentHistory = [node];\r\n      _objectPool.push(node);\r\n    }\r\n\r\n    _getWaitingWiresForNode(params.uuid).map((wire) => {\r\n      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\r\n    });\r\n  }\r\n\r\n  function _removeNode(id) {\r\n    let index = Utils.getIndexById(_objectPool, id);\r\n    let isNodeFound = index > -1;\r\n\r\n    if (isNodeFound) {\r\n      let node = _objectPool.splice(index, 1)[0];\r\n\r\n      node.dispose();\r\n    }\r\n    return isNodeFound;\r\n  }\r\n\r\n  function _addNode(className, params, asChild) {\r\n    params.class = className;\r\n    _nodeCreator(params, asChild);\r\n    return _self;\r\n  }\r\n\r\n  function _addDialog(id = _errorHandler.showMsg(ErrorCode.MANDATORY_PARAM,\r\n                                {param: 'id'})) {\r\n    let params = {\r\n      uuid: id,\r\n      class: 'DialogNode'\r\n    };\r\n\r\n    _nodeCreator(params, false);\r\n    return _self;\r\n  }\r\n\r\n  function _addTalk(id = _errorHandler.showMsg(ErrorCode.MANDATORY_PARAM,\r\n                                {param: 'id'}), text = '') {\r\n    let params = {\r\n      uuid: id,\r\n      text: text,\r\n      class: 'TalkNode'\r\n    };\r\n\r\n    _nodeCreator(params, true);\r\n    return _self;\r\n  }\r\n\r\n  function _addAnswer(text = '') {\r\n    let params = {\r\n      text: text,\r\n      class: 'AnswerNode'\r\n    };\r\n\r\n    _nodeCreator(params, true);\r\n    return _self;\r\n  }\r\n\r\n  function _setWire(type, referenceNodeId) {\r\n    let targetNode = _lastChild;\r\n\r\n    if (targetNode === null && _parentHistory.length > 0) {\r\n      targetNode = _parentHistory[0];\r\n    } else {\r\n      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n        child:className,\r\n        parent: _parentHistory.length > 0\r\n              ? _parentHistory[0].constructor.name\r\n              : 'null'\r\n      });*/\r\n    }\r\n    _setConnection(type, targetNode.getId(), referenceNodeId);\r\n    return _self;\r\n  }\r\n\r\n  function _getNodesByClass(className) {\r\n    return _objectPool.filter((node) => {\r\n      return node.constructor.name === className;\r\n    });\r\n  }\r\n\r\n  function _getDialogs() {\r\n    return _getNodesByClass('DialogNode');\r\n  }\r\n\r\n  function _serializeData() {\r\n    let data = _objectPool.map((obj) => {\r\n      return obj.getData ? obj.getData() : obj;\r\n    });\r\n\r\n    return JSON.stringify(data);\r\n  }\r\n\r\n  if (data) _objectPool = JSON.parse(data).map((d) => _nodeFactory(d, _self));\r\n\r\n  _self = {\n\r\n    findNode: _findNode,\r\n    addNode: _addNode,\r\n    removeNode: _removeNode,\r\n\r\n    setWire: _setWire,\r\n\r\n    addDialog: _addDialog,\r\n    addTalk: _addTalk,\r\n    addAnswer: _addAnswer,\r\n\r\n    getDialogs: _getDialogs,\r\n\r\n    serializeData: _serializeData\r\n  };\r\n\r\n  return _self;\r\n};\r\n\r\nmodule.exports = RPGSystem;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/RPGSystem.js"],"sourceRoot":""}