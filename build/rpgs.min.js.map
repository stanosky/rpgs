{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///rpgs.min.js","webpack:///webpack/bootstrap da2c6fa609203b5caff1","webpack:///./src/rpgs/RPGSystem.js","webpack:///./src/rpgs/core/Utils.js","webpack:///./src/rpgs/core/BaseNode.js","webpack:///./src/rpgs/core/Plug.js","webpack:///./src/rpgs/core/ConnectorManager.js","webpack:///./src/rpgs/core/Connector.js","webpack:///./src/rpgs/core/ParamsManager.js","webpack:///./src/rpgs/core/ErrorHandler.js","webpack:///./src/rpgs/core/ErrorCode.js","webpack:///./src/rpgs/dialogs/AnswerNode.js","webpack:///./src/rpgs/dialogs/DialogNode.js","webpack:///./src/rpgs/core/CompoundNode.js","webpack:///./src/rpgs/dialogs/TalkNode.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_get__","variableName","undefined","_RewiredData__","_get_original__","value","INTENTIONAL_UNDEFINED","_ErrorHandler2","_BaseNode2","_AnswerNode2","_DialogNode2","_TalkNode2","_ErrorCode2","_Utils2","RPGSystem","_set__","_typeof","_reset__","Object","keys","forEach","name","_with__","object","reset","rewiredVariableNames","previousValues","callback","result","then","catch","addNonEnumerableProperty","defineProperty","enumerable","configurable","Symbol","iterator","constructor","prototype","_Utils","_BaseNode","_ErrorHandler","_ErrorCode","_AnswerNode","_DialogNode","_TalkNode","data","editor","_nodeFactory","rpgs","className","class","_errorHandler","showMsg","CLASS_NOT_DEFINED","_checkAndMergeParams","arguments","length","MANDATORY_PARAM","param","params","INCORRECT_TYPE","type","uuid","_chainNodeCreator","asChild","_nodeCreator","_self","createChildNode","nodeParams","_lastChild","_parentHistory","addChild","getId","_objectPool","push","canAddChild","unshift","shift","INCOMPATIBLE_CHILD","child","parent","node","_getWaitingWiresForNode","map","wire","_setConnection","targetNode","referenceNode","nodeId","wires","i","_tempWires","splice","_getNodesByClass","filter","_editor","_findNode","_removeNode","index","getIndexById","isNodeFound","dispose","nodeId1","nodeId2","CONNECTION_TO_ITSELF","node1","node2","canAddWireType","setWire","IMPROPER_CONNECTION","_addNode","_addDialog","_addTalk","_addAnswer","_setWire","referenceNodeId","_getDialogs","_serializeData","getData","JSON","stringify","findNode","addNode","removeNode","addDialog","addTalk","addAnswer","getDialogs","serializeData","parse","d","create","_RewireAPI__","addPropertyToAPIObject","_typeOfOriginalExport","isExtensible","UUID","indexOfObject","self","lut","toString","generate","d0","Math","random","d1","d2","d3","getUUID","array","addObjectToArray","removeObjectFromArray","spliced","_classCallCheck","instance","Constructor","TypeError","_ParamsManager2","_ConnectorManager2","_Plug2","BaseNode","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","_Plug","_ConnectorManager","_ParamsManager","executeScript","scriptId","_script","execute","_uuid","WeakMap","set","pm","cm","_init","setData","addConnector","VISIBLE","ENABLED","addParam","getParamValue","setParamValue","removeParam","get","getWiresType","getParams","childId","addWireType","removeWireType","delete","GO_TALK","DIALOG","_Connector2","ConnectorManager","_Connector","_connectors","parsed","connector","nodes","hasOwnProperty","getConnector","n","addWire","limit","connectors","alreadyExist","getType","canAddWire","getWires","removeWire","Connector","_type","_limit","_wires","isNaN","parseInt","getLimit","wiresLen","ParamsManager","_paramExist","paramName","containerObj","k","_addParam","paramType","paramValue","isMandatory","mand","_params","getParam","ErrorHandler","errorCode","msg","NODE_NOT_EXISTS","OBJECT_NOT_FOUND","INCORRECT_PARENT_NODE","INCORRECT_LINK_TARGET","Error","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","AnswerNode","_get","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_text","_get__2","_this","text","getText","_CompoundNode2","DialogNode","_CompoundNode","_start","startTalk","getStartTalk","children","getChildren","setStartTalk","getChild","talkId","canAdd","CompoundNode","_children","_this2","nodeObj","TalkNode"],"mappings":"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","file":"rpgs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"rpgs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rpgs\"] = factory();\n\telse\n\t\troot[\"rpgs\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t//import ActorNode from './actors/ActorNode';\n\t//import ScriptNode from './logic/ScriptNode';\n\t\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _BaseNode = __webpack_require__(2);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _ErrorHandler = __webpack_require__(7);\n\t\n\tvar _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);\n\t\n\tvar _ErrorCode = __webpack_require__(8);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tvar _AnswerNode = __webpack_require__(9);\n\t\n\tvar _AnswerNode2 = _interopRequireDefault(_AnswerNode);\n\t\n\tvar _DialogNode = __webpack_require__(10);\n\t\n\tvar _DialogNode2 = _interopRequireDefault(_DialogNode);\n\t\n\tvar _TalkNode = __webpack_require__(12);\n\t\n\tvar _TalkNode2 = _interopRequireDefault(_TalkNode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//import QuestNode from './quests/QuestNode';\n\t//import TaskNode from './quests/TaskNode';\n\t//import VariableNode from './variables/VariableNode';\n\t\n\tvar RPGSystem = function RPGSystem(data, editor) {\n\t\n\t  var _objectPool = [],\n\t      _editor = editor || null,\n\t      _errorHandler = new (_get__('ErrorHandler'))(_editor),\n\t      _lastChild = null,\n\t      _parentHistory = [],\n\t      _tempWires = [];\n\t\n\t  function _nodeFactory(data, rpgs) {\n\t    var className = data.class;\n\t\n\t    switch (className) {\n\t      case 'BaseNode':\n\t        return new (_get__('BaseNode'))(data, rpgs);\n\t      //case 'ActorNode': return new ActorNode(data,rpgs);\n\t      //case 'ScriptNode': return new ScriptNode(data,rpgs);\n\t      case 'AnswerNode':\n\t        return new (_get__('AnswerNode'))(data, rpgs);\n\t      case 'DialogNode':\n\t        return new (_get__('DialogNode'))(data, rpgs);\n\t      case 'TalkNode':\n\t        return new (_get__('TalkNode'))(data, rpgs);\n\t      //case 'QuestNode': return new QuestNode(data,rpgs);\n\t      //case 'TaskNode': return new TaskNode(data,rpgs);\n\t      //case 'VariableNode': return new VariableNode(data,rpgs);\n\t      default:\n\t        _errorHandler.showMsg(_get__('ErrorCode').CLASS_NOT_DEFINED, { class: className });\n\t        return null;\n\t    }\n\t  }\n\t\n\t  var _findNode = function _findNode(nodeId) {\n\t    var i;\n\t\n\t    for (i = 0; i < _objectPool.length; i++) {\n\t      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\n\t    }\n\t    return null;\n\t  },\n\t      _removeNode = function _removeNode(id) {\n\t    var index = _get__('Utils').getIndexById(_objectPool, id);\n\t    var isNodeFound = index > -1;\n\t\n\t    if (isNodeFound) {\n\t      var node = _objectPool.splice(index, 1)[0];\n\t\n\t      node.dispose();\n\t    }\n\t    return isNodeFound;\n\t  },\n\t      _setConnection = function _setConnection(type, nodeId1, nodeId2) {\n\t    if (nodeId1 === nodeId2) {\n\t      _errorHandler.showMsg(_get__('ErrorCode').CONNECTION_TO_ITSELF, { node: nodeId1 });\n\t    }\n\t\n\t    var node1 = _findNode(nodeId1);\n\t    var node2 = _findNode(nodeId2);\n\t\n\t    if (node2 === null) {\n\t      _tempWires.push({ type: type, targetNode: nodeId1, referenceNode: nodeId2 });\n\t      return;\n\t    }\n\t    if (node1.canAddWireType(type)) {\n\t      node1.setWire(type, node2.getId());\n\t    } else {\n\t      _errorHandler.showMsg(_get__('ErrorCode').IMPROPER_CONNECTION, {\n\t        type: type,\n\t        node1: nodeId1,\n\t        node2: nodeId2\n\t      });\n\t    }\n\t  };\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  // METHOD CHAINING\n\t  ////////////////////////////////////////////////////////////////\n\t\n\t  /**\r\n\t   * Method used to check passed parameters and later merge them into\r\n\t   * single object.\r\n\t   * @param  {string} id      Mandatory id of node.\r\n\t   * @param  {object} params  Optional parameters.\r\n\t   * @return {object} Parameters merged into object.\r\n\t   */\n\t  function _checkAndMergeParams() {\n\t    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _errorHandler.showMsg(_get__('ErrorCode').MANDATORY_PARAM, { param: 'id' });\n\t    var params = arguments[1];\n\t\n\t    if (typeof id !== 'string') {\n\t      _errorHandler.showMsg(_get__('ErrorCode').INCORRECT_TYPE, { type: 'string' });\n\t    }\n\t    if (params !== undefined && (typeof params === 'undefined' ? 'undefined' : _typeof(params)) !== 'object') {\n\t      _errorHandler.showMsg(_get__('ErrorCode').INCORRECT_TYPE, { type: 'object' });\n\t    } else if (params === undefined) {\n\t      params = {};\n\t    }\n\t    params.uuid = id;\n\t    return params;\n\t  }\n\t\n\t  function _chainNodeCreator(id, params, asChild, className) {\n\t    // First, we check that id and params are valid.\n\t    params = _checkAndMergeParams(id, params);\n\t    // Class name for later usage.\n\t    params.class = className;\n\t    _nodeCreator(params, asChild);\n\t    return _self;\n\t  }\n\t\n\t  /**\r\n\t   * This method helps in the creation of nodes. Its focus on proper\r\n\t   * placement of nodes in tree.\r\n\t   * @param  {object} params  Parameters of created node.\r\n\t   * @param  {boolean} asChild Determines if node should be added as child\r\n\t   * of another node or as an independent node.\r\n\t   */\n\t  function _nodeCreator(params, asChild) {\n\t    // Test if node should be added as child or parent.\n\t    if (asChild) {\n\t      // If last added child was not null then we must check additional conditions.\n\t      if (_lastChild !== null) {\n\t        // If constructor name of previous child node, is equal to name of class,\n\t        // whose we try to create, it means node should be added to current parent.\n\t        if (_lastChild.constructor.name === params.class) {\n\t          createChildNode(params);\n\t        }\n\t        // If names of constructors not match, then we must check if new node\n\t        // can be added as child to our previous child.\n\t        else if (_lastChild.canAddChild(params.class)) {\n\t            _parentHistory.unshift(_lastChild);\n\t            createChildNode(params);\n\t          }\n\t          // Finally if previous conditions are false we try go back to previous\n\t          // parent node.\n\t          else {\n\t              _lastChild = _parentHistory.shift() || null;\n\t              _nodeCreator(params, asChild);\n\t            }\n\t      }\n\t      // If last child is null, then we check if node can be added to current\n\t      // parent node.\n\t      else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\n\t          createChildNode(params);\n\t        }\n\t        // If last child and last parent is equal to null, then new child node\n\t        // cant be added, so we throw error.\n\t        else {\n\t            _errorHandler.showMsg(_get__('ErrorCode').INCOMPATIBLE_CHILD, {\n\t              child: params.class,\n\t              parent: _parentHistory.length > 0 ? _parentHistory[0].constructor.name : 'null'\n\t            });\n\t          }\n\t    } else {\n\t      // If node is added as parent, then last child is set to null\n\t      // and parent history is cleared.\n\t      _lastChild = null;\n\t      _parentHistory.length = 0;\n\t      // After that, new node is created.\n\t      var node = _nodeFactory(params, _self);\n\t      _parentHistory = [node];\n\t      _objectPool.push(node);\n\t    }\n\t\n\t    _getWaitingWiresForNode(params.uuid).map(function (wire) {\n\t      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\n\t    });\n\t\n\t    function createChildNode(nodeParams) {\n\t      // We create a new node, and then set as the last child.\n\t      _lastChild = _nodeFactory(nodeParams, _self);\n\t      // Then we add our freshly created node to its parent.\n\t      _parentHistory[0].addChild(_lastChild.getId());\n\t      // Finally new node is added to main storage object.\n\t      _objectPool.push(_lastChild);\n\t    }\n\t  }\n\t\n\t  function _getWaitingWiresForNode(nodeId) {\n\t    var wires = [];\n\t    for (var i = _tempWires.length - 1; i >= 0; i--) {\n\t      if (_tempWires[i].referenceNode === nodeId) {\n\t        wires.push(_tempWires.splice(i, 1)[0]);\n\t      }\n\t    }\n\t    return wires;\n\t  }\n\t\n\t  function _getNodesByClass(className) {\n\t    return _objectPool.filter(function (node) {\n\t      return node.constructor.name === className;\n\t    });\n\t  }\n\t\n\t  /**\r\n\t   * Helper method that is used to remove nodes from object pool\r\n\t   * and reset context of 'method chaining' algorithm.\r\n\t   * @param  {string} id  Id of node to be removed.\r\n\t   */\n\t  var _chainNodeRemover = function _chainNodeRemover(id) {\n\t    _lastChild = null;\n\t    _parentHistory.length = 0;\n\t    _removeNode(id);\n\t    return this;\n\t  },\n\t      _addNode = function _addNode(className, params, asChild) {\n\t    params.class = className;\n\t    _nodeCreator(params, asChild);\n\t    return this;\n\t  },\n\t\n\t\n\t  //_addActor = function (id, params) {\n\t  //  return _chainNodeCreator(id, params, false, 'ActorNode');\n\t  //},\n\t\n\t  //_addQuest = function (id, params) {\n\t  //  return _chainNodeCreator(id, params, false, 'QuestNode');\n\t  //},\n\t\n\t  _addDialog = function _addDialog(id, params) {\n\t    return _chainNodeCreator(id, params, false, 'DialogNode');\n\t  },\n\t\n\t\n\t  //_addCondition = function (id, params) {\n\t  //  return _chainNodeCreator(id, params, false, 'ScriptNode');\n\t  //},\n\t\n\t  //_addVariable = function (id, params) {\n\t  //  return _chainNodeCreator(id, params, false, 'VariableNode');\n\t  //},\n\t\n\t  _addTalk = function _addTalk(id, params) {\n\t    return _chainNodeCreator(id, params, true, 'TalkNode');\n\t  },\n\t      _addAnswer = function _addAnswer(id, params) {\n\t    return _chainNodeCreator(id, params, true, 'AnswerNode');\n\t  },\n\t      _setWire = function _setWire(type, referenceNodeId) {\n\t    var targetNode = _lastChild;\n\t    if (targetNode === null && _parentHistory.length > 0) {\n\t      targetNode = _parentHistory[0];\n\t    } else {\n\t      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n\t        child:className,\r\n\t        parent: _parentHistory.length > 0\r\n\t              ? _parentHistory[0].constructor.name\r\n\t              : 'null'\r\n\t      });*/\n\t    }\n\t    _setConnection(type, targetNode.getId(), referenceNodeId);\n\t    return this;\n\t  },\n\t\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  //GETTERS\n\t  ////////////////////////////////////////////////////////////////\n\t  //_getActors = function () {\n\t  //  return _getNodesByClass('ActorNode');\n\t  //},\n\t\n\t  //_getConditions = function () {\n\t  //  return _getNodesByClass('ScriptNode');\n\t  //},\n\t\n\t  _getDialogs = function _getDialogs() {\n\t    return _getNodesByClass('DialogNode');\n\t  },\n\t\n\t\n\t  //_getQuests = function () {\n\t  //  return _getNodesByClass('QuestNode');\n\t  //},\n\t\n\t  //_getVariables = function () {\n\t  //  return _getNodesByClass('VariableNode');\n\t  //},\n\t\n\t  ////////////////////////////////////////////////////////////////\n\t  //MISCALINEUS\n\t  ////////////////////////////////////////////////////////////////\n\t\n\t  //_setVar = function (variableId, value) {\n\t  //  let _var = _findNode(variableId);\n\t  //  if (_var !== null) _var.setValue(value);\n\t  //},\n\t\n\t  //_getVar = function (variableId) {\n\t  //  let _var = _findNode(variableId);\n\t  //  return _var !== null ? _var.getValue() : undefined;\n\t  //},\n\t\n\t  //_executeScript = function (scriptId) {\n\t  //  let _script = _findNode(scriptId);\n\t  //  return _script !== null && _script.execute ? _script.execute({rpgs:_self}) : true;\n\t  //},\n\t\n\t  _serializeData = function _serializeData() {\n\t    var data = _objectPool.map(function (obj) {\n\t      return obj.getData ? obj.getData() : obj;\n\t    });\n\t    return JSON.stringify(data);\n\t  };\n\t\n\t  var _self = {\n\t    ////////////////////////////////////////////\n\t    // General node methods\n\t    ////////////////////////////////////////////\n\t    findNode: _findNode,\n\t    addNode: _addNode,\n\t    removeNode: _removeNode,\n\t\n\t    ////////////////////////////////////////////\n\t    // Link creation methods\n\t    ////////////////////////////////////////////\n\t    setWire: _setWire,\n\t\n\t    ////////////////////////////////////////////\n\t    // Chainable methods\n\t    ////////////////////////////////////////////\n\t    //addActor: _addActor,\n\t    //addQuest: _addQuest,\n\t    addDialog: _addDialog,\n\t    //addCondition: _addCondition,\n\t    //addVariable: _addVariable,\n\t    addTalk: _addTalk,\n\t    addAnswer: _addAnswer,\n\t\n\t    ////////////////////////////////////////////\n\t    // Getter methods\n\t    ////////////////////////////////////////////\n\t    //getActors: _getActors,\n\t    //getConditions: _getConditions,\n\t    getDialogs: _getDialogs,\n\t    //getQuests: _getQuests,\n\t    //getVariables: _getVariables,\n\t\n\t    ////////////////////////////////////////////\n\t    // Miscalineus methods\n\t    ////////////////////////////////////////////\n\t    //setVar: _setVar,\n\t    //getVar: _getVar,\n\t    //executeScript: _executeScript,\n\t    serializeData: _serializeData\n\t  };\n\t  if (data) _objectPool = JSON.parse(data).map(function (d) {\n\t    return _nodeFactory(d, _self);\n\t  });\n\t\n\t  return _self;\n\t};\n\tmodule.exports = _get__('RPGSystem');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ErrorHandler':\n\t      return _ErrorHandler2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'AnswerNode':\n\t      return _AnswerNode2.default;\n\n\t    case 'DialogNode':\n\t      return _DialogNode2.default;\n\n\t    case 'TalkNode':\n\t      return _TalkNode2.default;\n\n\t    case 'ErrorCode':\n\t      return _ErrorCode2.default;\n\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'RPGSystem':\n\t      return RPGSystem;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/**\r\n\t * Fast UUID generator, RFC4122 version 4 compliant.\r\n\t * @author Jeff Ward (jcward.com).\r\n\t * @license MIT license\r\n\t * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n\t **/\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar UUID = function () {\n\t  var self = {};\n\t  var lut = [];\n\t  var i;\n\t\n\t  for (i = 0; i < 256; i++) {\n\t    lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n\t  }\n\t\n\t  self.generate = function () {\n\t    var d0 = Math.random() * 0xffffffff | 0;\n\t    var d1 = Math.random() * 0xffffffff | 0;\n\t    var d2 = Math.random() * 0xffffffff | 0;\n\t    var d3 = Math.random() * 0xffffffff | 0;\n\t\n\t    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] + lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' + lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' + lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] + lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] + lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\n\t  };\n\t\n\t  return self;\n\t}();\n\t\n\texports.getUUID = _get__('UUID').generate;\n\t\n\tvar indexOfObject = function indexOfObject(array, obj) {\n\t  var i;\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i] === obj) return i;\n\t  }\n\t  return -1;\n\t};\n\t\n\texports.indexOfObject = _get__('indexOfObject');\n\t\n\tvar getIndexById = function getIndexById(array, id) {\n\t  var i;\n\t  for (i = 0; i < array.length; i++) {\n\t    if (array[i].getId() === id) return i;\n\t  }\n\t  return -1;\n\t};\n\texports.getIndexById = _get__('getIndexById');\n\t\n\texports.addObjectToArray = function (array, obj) {\n\t  if (_get__('indexOfObject')(array, obj) === -1) {\n\t    array.push(obj);\n\t  }\n\t  return array;\n\t};\n\t\n\t/* exports.removeObjectById = function(array,id) {\r\n\t  let index = getIndexById(array,id);\r\n\t  if(index !== -1) {\r\n\t    let spliced = array.splice(index,1);\r\n\t    if(spliced.dispose) spliced.dispose();\r\n\t  }\r\n\t  return array;\r\n\t}*/\n\t\n\texports.removeObjectFromArray = function (array, obj) {\n\t  var index = _get__('indexOfObject')(array, obj);\n\t  if (index !== -1) {\n\t    var spliced = array.splice(index, 1);\n\t    if (spliced.dispose) spliced.dispose();\n\t  }\n\t  return array;\n\t};\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'UUID':\n\t      return UUID;\n\n\t    case 'indexOfObject':\n\t      return indexOfObject;\n\n\t    case 'getIndexById':\n\t      return getIndexById;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tvar _ConnectorManager = __webpack_require__(4);\n\t\n\tvar _ConnectorManager2 = _interopRequireDefault(_ConnectorManager);\n\t\n\tvar _ParamsManager = __webpack_require__(6);\n\t\n\tvar _ParamsManager2 = _interopRequireDefault(_ParamsManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BaseNode = function () {\n\t\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _uuid = new WeakMap();\n\t\n\t  function executeScript(rpgs, scriptId) {\n\t    var _script = rpgs.findNode(scriptId);\n\t    return _script !== null && _script.execute ? _script.execute({ rpgs: rpgs }) : true;\n\t  }\n\t\n\t  return function () {\n\t    function BaseNode(data, rpgs) {\n\t      _classCallCheck(this, BaseNode);\n\t\n\t      data = data || {};\n\t      // If uuid not present, then by default we assign Universally Unique ID.\n\t      _uuid.set(this, data.uuid ? data.uuid : _get__('Utils').getUUID());\n\t      this.rpgs = rpgs;\n\t      this.pm = new (_get__('ParamsManager'))(data.params || {});\n\t      this.cm = new (_get__('ConnectorManager'))();\n\t      this._init();\n\t      this.cm.setData(data);\n\t    }\n\t\n\t    _createClass(BaseNode, [{\n\t      key: '_init',\n\t      value: function _init() {\n\t        this.cm.addConnector(_get__('Plug').VISIBLE, 1);\n\t        this.cm.addConnector(_get__('Plug').ENABLED, 1);\n\t      }\n\t    }, {\n\t      key: 'addParam',\n\t      value: function addParam(name, type, value) {\n\t        this.pm.addParam(name, type, value);\n\t      }\n\t    }, {\n\t      key: 'getParam',\n\t      value: function getParam(name) {\n\t        return this.pm.getParamValue(name);\n\t      }\n\t    }, {\n\t      key: 'setParam',\n\t      value: function setParam(name, value) {\n\t        this.pm.setParamValue(name, value);\n\t      }\n\t    }, {\n\t      key: 'removeParam',\n\t      value: function removeParam(name) {\n\t        this.pm.removeParam(name);\n\t      }\n\t    }, {\n\t      key: 'setId',\n\t      value: function setId(value) {\n\t        _uuid.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getId',\n\t      value: function getId() {\n\t        return _uuid.get(this);\n\t      }\n\t\n\t      /**\r\n\t       * Returns visibility state.\r\n\t       * @return {boolean} Visibility state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isVisible',\n\t      value: function isVisible() {\n\t        return executeScript(this.rpgs, this.cm.getWiresType(_get__('Plug').VISIBLE)[0]);\n\t      }\n\t\n\t      /**\r\n\t       * Returns activity state.\r\n\t       * @return {boolean} Active state\r\n\t       */\n\t\n\t    }, {\n\t      key: 'isActive',\n\t      value: function isActive() {\n\t        return executeScript(this.rpgs, this.cm.getWiresType(_get__('Plug').ENABLED)[0]);\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        return {\n\t          class: this.constructor.name,\n\t          uuid: this.getId(),\n\t          wires: this.cm.getData(),\n\t          params: this.pm.getParams()\n\t        };\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        // false because cannot have children\n\t        return false;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        // empty because cannot have children\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        // empty because cannot have children\n\t      }\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        // null because cannot have children\n\t        return null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        // empty array because cannot have children\n\t        return [];\n\t      }\n\t    }, {\n\t      key: 'canAddWireType',\n\t      value: function canAddWireType(type) {\n\t        return this.cm.canAddWireType(type);\n\t      }\n\t    }, {\n\t      key: 'setWire',\n\t      value: function setWire(type, nodeId) {\n\t        this.cm.addWireType(type, nodeId);\n\t      }\n\t    }, {\n\t      key: 'getWires',\n\t      value: function getWires(type) {\n\t        return this.cm.getWiresType(type);\n\t      }\n\t    }, {\n\t      key: 'removeWire',\n\t      value: function removeWire(type, nodeId) {\n\t        this.cm.removeWireType(type, nodeId);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        this.cm.dispose();\n\t        this.pm.dispose();\n\t        this.cm = null;\n\t        this.pm = null;\n\t        this.rpgs = null;\n\t        _uuid.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return BaseNode;\n\t  }();\n\t}();\n\tmodule.exports = _get__('BaseNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'ParamsManager':\n\t      return _ParamsManager2.default;\n\n\t    case 'ConnectorManager':\n\t      return _ConnectorManager2.default;\n\n\t    case 'Plug':\n\t      return _Plug2.default;\n\n\t    case 'BaseNode':\n\t      return BaseNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar VISIBLE = 'visible';\n\tvar ENABLED = 'enabled';\n\tvar GO_TALK = 'go_talk';\n\t//To remove, deprecated\n\tvar DIALOG = 'dialog';\n\t\n\texports.VISIBLE = _get__('VISIBLE');\n\texports.ENABLED = _get__('ENABLED');\n\texports.GO_TALK = _get__('GO_TALK');\n\t//To remove, deprecated\n\texports.DIALOG = _get__('DIALOG');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'VISIBLE':\n\t      return VISIBLE;\n\n\t    case 'ENABLED':\n\t      return ENABLED;\n\n\t    case 'GO_TALK':\n\t      return GO_TALK;\n\n\t    case 'DIALOG':\n\t      return DIALOG;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Connector = __webpack_require__(5);\n\t\n\tvar _Connector2 = _interopRequireDefault(_Connector);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ConnectorManager = function () {\n\t  var _connectors = new WeakMap();\n\t\n\t  return function () {\n\t    function ConnectorManager() {\n\t      _classCallCheck(this, ConnectorManager);\n\t\n\t      _connectors.set(this, []);\n\t    }\n\t\n\t    _createClass(ConnectorManager, [{\n\t      key: 'setData',\n\t      value: function setData(data) {\n\t        var wires = data.wires || {};\n\t        var parsed = [];\n\t        var connector = void 0,\n\t            limit = void 0,\n\t            nodes = void 0;\n\t        for (var type in wires) {\n\t          if (wires.hasOwnProperty(type)) {\n\t            connector = this.getConnector(type);\n\t            if (connector !== null) {\n\t              nodes = wires[type];\n\t              nodes.map(function (n) {\n\t                return connector.addWire(n);\n\t              });\n\t              parsed.push(connector);\n\t            }\n\t          }\n\t        }\n\t        return parsed;\n\t      }\n\t    }, {\n\t      key: 'addConnector',\n\t      value: function addConnector(type, limit) {\n\t        var connectors = _connectors.get(this);\n\t        var alreadyExist = connectors.filter(function (c) {\n\t          return c.getType() === type;\n\t        }).length > 0;\n\t        if (!alreadyExist) {\n\t          connectors.push(new (_get__('Connector'))(type, limit));\n\t          _connectors.set(this, connectors);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getConnector',\n\t      value: function getConnector(type) {\n\t        var connectors = _connectors.get(this) || null;\n\t        var connector = null;\n\t        if (connectors !== null) {\n\t          connector = connectors.filter(function (c) {\n\t            return c.getType() === type;\n\t          });\n\t        }\n\t        return connector !== null && connector.length > 0 ? connector[0] : null;\n\t      }\n\t    }, {\n\t      key: 'canAddWireType',\n\t      value: function canAddWireType(type) {\n\t        var connectors = _connectors.get(this);\n\t        return connectors.filter(function (c) {\n\t          return c.getType() === type && c.canAddWire();\n\t        }).length > 0;\n\t      }\n\t    }, {\n\t      key: 'addWireType',\n\t      value: function addWireType(type, nodeId) {\n\t        var connector = this.getConnector(type);\n\t        if (connector !== null) {\n\t          connector.addWire(nodeId);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getWiresType',\n\t      value: function getWiresType(type) {\n\t        var connector = this.getConnector(type);\n\t        return connector !== null ? connector.getWires() : [];\n\t      }\n\t    }, {\n\t      key: 'removeWireType',\n\t      value: function removeWireType(type, nodeId) {\n\t        var connector = this.getConnector(type);\n\t        if (connector !== null) {\n\t          connector.removeWire(nodeId);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = {};\n\t        var connectors = _connectors.get(this) || [];\n\t        var type = void 0,\n\t            nodes = void 0,\n\t            i = void 0;\n\t        for (i = 0; i < connectors.length; i++) {\n\t          type = connectors[i].getType();\n\t          nodes = connectors[i].getWires();\n\t          data[type] = nodes;\n\t        }\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _connectors.get(this).map(function (c) {\n\t          c.dispose();\n\t        });\n\t        _connectors.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return ConnectorManager;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('ConnectorManager');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Connector':\n\t      return _Connector2.default;\n\n\t    case 'ConnectorManager':\n\t      return ConnectorManager;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Connector = function () {\n\t  var _type = new WeakMap();\n\t  var _limit = new WeakMap();\n\t  var _wires = new WeakMap();\n\t  return function () {\n\t    function Connector(type, limit) {\n\t      _classCallCheck(this, Connector);\n\t\n\t      _type.set(this, type);\n\t      _limit.set(this, isNaN(parseInt(limit)) ? -1 : parseInt(limit));\n\t      _wires.set(this, []);\n\t    }\n\t\n\t    _createClass(Connector, [{\n\t      key: 'getType',\n\t      value: function getType() {\n\t        return _type.get(this);\n\t      }\n\t    }, {\n\t      key: 'getLimit',\n\t      value: function getLimit() {\n\t        return _limit.get(this);\n\t      }\n\t    }, {\n\t      key: 'getWires',\n\t      value: function getWires() {\n\t        return _wires.get(this);\n\t      }\n\t    }, {\n\t      key: 'canAddWire',\n\t      value: function canAddWire() {\n\t        var limit = this.getLimit();\n\t        var wiresLen = this.getWires().length;\n\t        return limit === -1 || limit > 0 && wiresLen < limit;\n\t      }\n\t    }, {\n\t      key: 'addWire',\n\t      value: function addWire(nodeId) {\n\t        var wires = this.getWires();\n\t        if (this.canAddWire()) {\n\t          wires.push(nodeId);\n\t          _wires.set(this, wires);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'removeWire',\n\t      value: function removeWire(nodeId) {\n\t        _wires.set(this, _wires.get(this).filter(function (wire) {\n\t          return wire !== nodeId;\n\t        }));\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _type.delete(this);\n\t        _limit.delete(this);\n\t        _wires.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return Connector;\n\t  }();\n\t}();\n\t\n\tmodule.exports = _get__('Connector');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Connector':\n\t      return Connector;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ParamsManager = function () {\n\t  var _params = new WeakMap();\n\t\n\t  function _paramExist(paramName, containerObj) {\n\t    var keys = Object.keys(containerObj);\n\t    return keys.filter(function (k) {\n\t      return k === paramName;\n\t    }).length > 0;\n\t  }\n\t\n\t  function _addParam(paramName, paramType, paramValue, containerObj, isMandatory) {\n\t    if (!_paramExist(paramName, containerObj)) {\n\t      containerObj[paramName] = { type: paramType, value: paramValue, mand: isMandatory };\n\t    } else {\n\t      //console.warn();\n\t    }\n\t    return containerObj;\n\t  }\n\t\n\t  return function () {\n\t    function ParamsManager(data) {\n\t      _classCallCheck(this, ParamsManager);\n\t\n\t      _params.set(this, data || {});\n\t    }\n\t\n\t    _createClass(ParamsManager, [{\n\t      key: 'addMandatoryParam',\n\t      value: function addMandatoryParam(name, type, value) {\n\t        _params.set(this, _addParam(name, type, value, _params.get(this), true));\n\t      }\n\t    }, {\n\t      key: 'addParam',\n\t      value: function addParam(name, type, value) {\n\t        _params.set(this, _addParam(name, type, value, _params.get(this), false));\n\t      }\n\t    }, {\n\t      key: 'getParam',\n\t      value: function getParam(name) {\n\t        var params = _params.get(this);\n\t        return params[name] !== undefined ? params[name] : null;\n\t      }\n\t    }, {\n\t      key: 'getParamValue',\n\t      value: function getParamValue(name) {\n\t        var param = this.getParam(name);\n\t        return param !== null ? param.value : null;\n\t      }\n\t    }, {\n\t      key: 'setParamValue',\n\t      value: function setParamValue(name, value) {\n\t        var params = _params.get(this);\n\t        if (params[name] !== undefined) params[name].value = value;\n\t      }\n\t    }, {\n\t      key: 'removeParam',\n\t      value: function removeParam(name) {\n\t        var param = this.getParam(name);\n\t        var params = _params.get(this);\n\t        if (param !== null && !param.mand) {\n\t          delete params[name];\n\t          _params.set(this, params);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getParams',\n\t      value: function getParams() {\n\t        return _params.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _params.delete(this);\n\t      }\n\t    }]);\n\t\n\t    return ParamsManager;\n\t  }();\n\t}();\n\tmodule.exports = _get__('ParamsManager');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ParamsManager':\n\t      return ParamsManager;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _ErrorCode = __webpack_require__(8);\n\t\n\tvar _ErrorCode2 = _interopRequireDefault(_ErrorCode);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ErrorHandler = function ErrorHandler(editor) {\n\t  return {\n\t    showMsg: function showMsg(errorCode, params) {\n\t      var msg = '';\n\t\n\t      switch (errorCode) {\n\t        case _get__('ErrorCode').NODE_NOT_EXISTS:\n\t          msg = 'Node of type ' + params.type + ' is not defined.';\n\t          break;\n\t        case _get__('ErrorCode').CLASS_NOT_DEFINED:\n\t          msg = 'Class ' + params.class + ' is not defined.';\n\t          break;\n\t        case _get__('ErrorCode').CONNECTION_TO_ITSELF:\n\t          msg = 'Cannot connect node \"' + params.node + '\" to itself.';\n\t          break;\n\t        case _get__('ErrorCode').IMPROPER_CONNECTION:\n\t          msg = 'Cannot create connection of type \"' + params.type + '\"' + (' from node id \"' + params.node1 + '\" to node id \"' + params.node2 + '\".');\n\t          break;\n\t        case _get__('ErrorCode').OBJECT_NOT_FOUND:\n\t          msg = 'Cannot find object with id \"' + params.id + '\"';\n\t          break;\n\t        case _get__('ErrorCode').MANDATORY_PARAM:\n\t          msg = 'Parameter \"' + params.param + '\" was expected but instead got undefined.';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_TYPE:\n\t          msg = 'Wrong type of argument. Expected \"' + params.type + '\"';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_PARENT_NODE:\n\t          msg = 'Node of type \"' + params.child + '\" can be added only to \"' + params.parent + '\" node.';\n\t          break;\n\t        case _get__('ErrorCode').INCORRECT_LINK_TARGET:\n\t          msg = 'Cannot create link connection to null node.';\n\t          break;\n\t        case _get__('ErrorCode').INCOMPATIBLE_CHILD:\n\t          msg = 'Cannot add child of type \"' + params.child + '\" into parent of type \"' + params.parent + '\".';\n\t          break;\n\t        default:\n\t          msg = 'Unknown error code passed: ' + errorCode;\n\t      }\n\t      if (editor) {\n\t        editor.showMsg(msg);\n\t      } else {\n\t        throw new Error(msg);\n\t        // add warning mode?\n\t      }\n\t    }\n\t  };\n\t};\n\tmodule.exports = _get__('ErrorHandler');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'ErrorCode':\n\t      return _ErrorCode2.default;\n\n\t    case 'ErrorHandler':\n\t      return ErrorHandler;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar NODE_NOT_EXISTS = 0;\n\tvar CLASS_NOT_DEFINED = 1;\n\tvar CONNECTION_TO_ITSELF = 2;\n\tvar IMPROPER_CONNECTION = 3;\n\tvar OBJECT_NOT_FOUND = 4;\n\tvar MANDATORY_PARAM = 5;\n\tvar INCORRECT_TYPE = 6;\n\tvar INCORRECT_PARENT_NODE = 7;\n\tvar INCORRECT_LINK_TARGET = 8;\n\tvar INCOMPATIBLE_CHILD = 9;\n\t\n\texports.NODE_NOT_EXISTS = _get__('NODE_NOT_EXISTS');\n\texports.CLASS_NOT_DEFINED = _get__('CLASS_NOT_DEFINED');\n\texports.CONNECTION_TO_ITSELF = _get__('CONNECTION_TO_ITSELF');\n\texports.IMPROPER_CONNECTION = _get__('IMPROPER_CONNECTION');\n\texports.OBJECT_NOT_FOUND = _get__('OBJECT_NOT_FOUND');\n\texports.MANDATORY_PARAM = _get__('MANDATORY_PARAM');\n\texports.INCORRECT_TYPE = _get__('INCORRECT_TYPE');\n\texports.INCORRECT_PARENT_NODE = _get__('INCORRECT_PARENT_NODE');\n\texports.INCORRECT_LINK_TARGET = _get__('INCORRECT_LINK_TARGET');\n\texports.INCOMPATIBLE_CHILD = _get__('INCOMPATIBLE_CHILD');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'NODE_NOT_EXISTS':\n\t      return NODE_NOT_EXISTS;\n\n\t    case 'CLASS_NOT_DEFINED':\n\t      return CLASS_NOT_DEFINED;\n\n\t    case 'CONNECTION_TO_ITSELF':\n\t      return CONNECTION_TO_ITSELF;\n\n\t    case 'IMPROPER_CONNECTION':\n\t      return IMPROPER_CONNECTION;\n\n\t    case 'OBJECT_NOT_FOUND':\n\t      return OBJECT_NOT_FOUND;\n\n\t    case 'MANDATORY_PARAM':\n\t      return MANDATORY_PARAM;\n\n\t    case 'INCORRECT_TYPE':\n\t      return INCORRECT_TYPE;\n\n\t    case 'INCORRECT_PARENT_NODE':\n\t      return INCORRECT_PARENT_NODE;\n\n\t    case 'INCORRECT_LINK_TARGET':\n\t      return INCORRECT_LINK_TARGET;\n\n\t    case 'INCOMPATIBLE_CHILD':\n\t      return INCOMPATIBLE_CHILD;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode = __webpack_require__(2);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar AnswerNode = function () {\n\t  // Weak maps are new feature to JavaScript. We can store private\n\t  // object properties in key/value pairs using our instance as the key,\n\t  // and our class can capture those key/value maps in a closure.\n\t  var _text = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(AnswerNode, _get__2);\n\t\n\t    function AnswerNode(data) {\n\t      _classCallCheck(this, AnswerNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (AnswerNode.__proto__ || Object.getPrototypeOf(AnswerNode)).call(this, data));\n\t\n\t      _text.set(_this, data && data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(AnswerNode, [{\n\t      key: '_init',\n\t      value: function _init() {\n\t        _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), '_init', this).call(this);\n\t        this.cm.addConnector(_get__('Plug').GO_TALK, 1);\n\t      }\n\t    }, {\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'getData', this).call(this);\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'getTalk',\n\t      value: function getTalk() {\n\t        return this.getWires(_get__('Plug').GO_TALK)[0];\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(AnswerNode.prototype.__proto__ || Object.getPrototypeOf(AnswerNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return AnswerNode;\n\t  }(_get__('BaseNode'));\n\t}();\n\tmodule.exports = _get__('AnswerNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Plug':\n\t      return _Plug2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'AnswerNode':\n\t      return AnswerNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode = __webpack_require__(11);\n\t\n\tvar _CompoundNode2 = _interopRequireDefault(_CompoundNode);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// CHANGE FROM NODE TO STATIC ELEMENT!\n\t\n\t\n\tvar DialogNode = function () {\n\t\n\t  var _start = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(DialogNode, _get__2);\n\t\n\t    function DialogNode(data) {\n\t      _classCallCheck(this, DialogNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (DialogNode.__proto__ || Object.getPrototypeOf(DialogNode)).call(this, data));\n\t\n\t      _start.set(_this, data && data.startTalk ? data.startTalk : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(DialogNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'getData', this).call(this);\n\t\n\t        data.startTalk = this.getStartTalk();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'TalkNode';\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'addChild', this).call(this, childId);\n\t        var children = this.getChildren();\n\t        if (children.length === 1) this.setStartTalk(childId);\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        var child = this.getChild(index);\n\t        if (child === this.getStartTalk()) this.setStartTalk('');\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'removeChild', this).call(this, index);\n\t      }\n\t    }, {\n\t      key: 'setStartTalk',\n\t      value: function setStartTalk(talkId) {\n\t        // should only add talk nodes from internal children list\n\t        var children = this.getChildren();\n\t        var canAdd = children.filter(function (child) {\n\t          return child === talkId;\n\t        })[0] !== undefined;\n\t        if (canAdd || talkId === '') _start.set(this, talkId);\n\t      }\n\t    }, {\n\t      key: 'getStartTalk',\n\t      value: function getStartTalk() {\n\t        return _start.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _start.delete(this);\n\t        _get(DialogNode.prototype.__proto__ || Object.getPrototypeOf(DialogNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return DialogNode;\n\t  }(_get__('CompoundNode'));\n\t}();\n\tmodule.exports = _get__('DialogNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'CompoundNode':\n\t      return _CompoundNode2.default;\n\n\t    case 'DialogNode':\n\t      return DialogNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _BaseNode = __webpack_require__(2);\n\t\n\tvar _BaseNode2 = _interopRequireDefault(_BaseNode);\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar CompoundNode = function () {\n\t\n\t  var _children = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(CompoundNode, _get__2);\n\t\n\t    function CompoundNode(data, rpgs) {\n\t      _classCallCheck(this, CompoundNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (CompoundNode.__proto__ || Object.getPrototypeOf(CompoundNode)).call(this, data, rpgs));\n\t\n\t      _children.set(_this, data && data.children ? data.children : []);\n\t      return _this;\n\t    }\n\t\n\t    _createClass(CompoundNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'getData', this).call(this);\n\t\n\t        data.children = this.getChildren();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'addChild',\n\t      value: function addChild(childId) {\n\t        var children = _children.get(this);\n\t\n\t        _children.set(this, _get__('Utils').addObjectToArray(children, childId));\n\t      }\n\t    }, {\n\t      key: 'removeChild',\n\t      value: function removeChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        if (index >= 0 && index < children.length) {\n\t          children.splice(index, 1);\n\t          _children.set(this, children);\n\t        }\n\t      }\n\t    }, {\n\t      key: 'getChild',\n\t      value: function getChild(index) {\n\t        var children = _children.get(this);\n\t\n\t        return children.length > index ? children[index] : null;\n\t      }\n\t    }, {\n\t      key: 'getChildren',\n\t      value: function getChildren() {\n\t        return _children.get(this);\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        var _this2 = this;\n\t\n\t        if (this.rpgs) {\n\t          _children.get(this).map(function (childId) {\n\t            var nodeObj = _this2.rpgs.findNode(childId);\n\t            if (nodeObj !== null) nodeObj.dispose();\n\t          });\n\t        }\n\t        _children.delete(this);\n\t        _get(CompoundNode.prototype.__proto__ || Object.getPrototypeOf(CompoundNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return CompoundNode;\n\t  }(_get__('BaseNode'));\n\t}();\n\tmodule.exports = _get__('CompoundNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'Utils':\n\t      return _Utils2.default;\n\n\t    case 'BaseNode':\n\t      return _BaseNode2.default;\n\n\t    case 'CompoundNode':\n\t      return CompoundNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tvar _CompoundNode = __webpack_require__(11);\n\t\n\tvar _CompoundNode2 = _interopRequireDefault(_CompoundNode);\n\t\n\tvar _Plug = __webpack_require__(3);\n\t\n\tvar _Plug2 = _interopRequireDefault(_Plug);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TalkNode = function () {\n\t\n\t  var _text = new WeakMap();\n\t\n\t  return function (_get__2) {\n\t    _inherits(TalkNode, _get__2);\n\t\n\t    function TalkNode(data) {\n\t      _classCallCheck(this, TalkNode);\n\t\n\t      var _this = _possibleConstructorReturn(this, (TalkNode.__proto__ || Object.getPrototypeOf(TalkNode)).call(this, data));\n\t\n\t      _text.set(_this, data && data.text ? data.text : '');\n\t      return _this;\n\t    }\n\t\n\t    _createClass(TalkNode, [{\n\t      key: 'getData',\n\t      value: function getData() {\n\t        var data = _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'getData', this).call(this);\n\t\n\t        data.text = this.getText();\n\t        return data;\n\t      }\n\t    }, {\n\t      key: 'setText',\n\t      value: function setText(value) {\n\t        _text.set(this, value);\n\t      }\n\t    }, {\n\t      key: 'getText',\n\t      value: function getText() {\n\t        return _text.get(this);\n\t      }\n\t    }, {\n\t      key: 'canAddChild',\n\t      value: function canAddChild(type) {\n\t        return type === 'AnswerNode';\n\t      }\n\t    }, {\n\t      key: 'dispose',\n\t      value: function dispose() {\n\t        _text.delete(this);\n\t        _get(TalkNode.prototype.__proto__ || Object.getPrototypeOf(TalkNode.prototype), 'dispose', this).call(this);\n\t      }\n\t    }]);\n\t\n\t    return TalkNode;\n\t  }(_get__('CompoundNode'));\n\t}();\n\tmodule.exports = _get__('TalkNode');\n\t\n\tvar _RewiredData__ = Object.create(null);\n\n\tvar INTENTIONAL_UNDEFINED = '__INTENTIONAL_UNDEFINED__';\n\tvar _RewireAPI__ = {};\n\n\t(function () {\n\t  function addPropertyToAPIObject(name, value) {\n\t    Object.defineProperty(_RewireAPI__, name, {\n\t      value: value,\n\t      enumerable: false,\n\t      configurable: true\n\t    });\n\t  }\n\n\t  addPropertyToAPIObject('__get__', _get__);\n\t  addPropertyToAPIObject('__GetDependency__', _get__);\n\t  addPropertyToAPIObject('__Rewire__', _set__);\n\t  addPropertyToAPIObject('__set__', _set__);\n\t  addPropertyToAPIObject('__reset__', _reset__);\n\t  addPropertyToAPIObject('__ResetDependency__', _reset__);\n\t  addPropertyToAPIObject('__with__', _with__);\n\t})();\n\n\tfunction _get__(variableName) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _get_original__(variableName);\n\t  } else {\n\t    var value = _RewiredData__[variableName];\n\n\t    if (value === INTENTIONAL_UNDEFINED) {\n\t      return undefined;\n\t    } else {\n\t      return value;\n\t    }\n\t  }\n\t}\n\n\tfunction _get_original__(variableName) {\n\t  switch (variableName) {\n\t    case 'CompoundNode':\n\t      return _CompoundNode2.default;\n\n\t    case 'TalkNode':\n\t      return TalkNode;\n\t  }\n\n\t  return undefined;\n\t}\n\n\tfunction _assign__(variableName, value) {\n\t  if (_RewiredData__ === undefined || _RewiredData__[variableName] === undefined) {\n\t    return _set_original__(variableName, value);\n\t  } else {\n\t    return _RewiredData__[variableName] = value;\n\t  }\n\t}\n\n\tfunction _set_original__(variableName, _value) {\n\t  switch (variableName) {}\n\n\t  return undefined;\n\t}\n\n\tfunction _update_operation__(operation, variableName, prefix) {\n\t  var oldValue = _get__(variableName);\n\n\t  var newValue = operation === '++' ? oldValue + 1 : oldValue - 1;\n\n\t  _assign__(variableName, newValue);\n\n\t  return prefix ? newValue : oldValue;\n\t}\n\n\tfunction _set__(variableName, value) {\n\t  if ((typeof variableName === 'undefined' ? 'undefined' : _typeof(variableName)) === 'object') {\n\t    Object.keys(variableName).forEach(function (name) {\n\t      _RewiredData__[name] = variableName[name];\n\t    });\n\t  } else {\n\t    if (value === undefined) {\n\t      _RewiredData__[variableName] = INTENTIONAL_UNDEFINED;\n\t    } else {\n\t      _RewiredData__[variableName] = value;\n\t    }\n\n\t    return function () {\n\t      _reset__(variableName);\n\t    };\n\t  }\n\t}\n\n\tfunction _reset__(variableName) {\n\t  delete _RewiredData__[variableName];\n\t}\n\n\tfunction _with__(object) {\n\t  var rewiredVariableNames = Object.keys(object);\n\t  var previousValues = {};\n\n\t  function reset() {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      _RewiredData__[variableName] = previousValues[variableName];\n\t    });\n\t  }\n\n\t  return function (callback) {\n\t    rewiredVariableNames.forEach(function (variableName) {\n\t      previousValues[variableName] = _RewiredData__[variableName];\n\t      _RewiredData__[variableName] = object[variableName];\n\t    });\n\t    var result = callback();\n\n\t    if (!!result && typeof result.then == 'function') {\n\t      result.then(reset).catch(reset);\n\t    } else {\n\t      reset();\n\t    }\n\n\t    return result;\n\t  };\n\t}\n\n\tvar _typeOfOriginalExport = _typeof(module.exports);\n\n\tfunction addNonEnumerableProperty(name, value) {\n\t  Object.defineProperty(module.exports, name, {\n\t    value: value,\n\t    enumerable: false,\n\t    configurable: true\n\t  });\n\t}\n\n\tif ((_typeOfOriginalExport === 'object' || _typeOfOriginalExport === 'function') && Object.isExtensible(module.exports)) {\n\t  addNonEnumerableProperty('__get__', _get__);\n\t  addNonEnumerableProperty('__GetDependency__', _get__);\n\t  addNonEnumerableProperty('__Rewire__', _set__);\n\t  addNonEnumerableProperty('__set__', _set__);\n\t  addNonEnumerableProperty('__reset__', _reset__);\n\t  addNonEnumerableProperty('__ResetDependency__', _reset__);\n\t  addNonEnumerableProperty('__with__', _with__);\n\t  addNonEnumerableProperty('__RewireAPI__', _RewireAPI__);\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// rpgs.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap da2c6fa609203b5caff1","'use strict';\r\nimport Utils from './core/Utils';\r\nimport BaseNode from './core/BaseNode';\r\nimport ErrorHandler from './core/ErrorHandler';\r\nimport ErrorCode from './core/ErrorCode';\r\n//import ActorNode from './actors/ActorNode';\r\n//import ScriptNode from './logic/ScriptNode';\r\nimport AnswerNode from './dialogs/AnswerNode';\r\nimport DialogNode from './dialogs/DialogNode';\r\nimport TalkNode from './dialogs/TalkNode';\r\n//import QuestNode from './quests/QuestNode';\r\n//import TaskNode from './quests/TaskNode';\r\n//import VariableNode from './variables/VariableNode';\r\n\r\nlet RPGSystem = function (data, editor) {\r\n\r\n  let _objectPool = [],\r\n    _editor = editor || null,\r\n    _errorHandler = new ErrorHandler(_editor),\r\n    _lastChild = null,\r\n    _parentHistory = [],\r\n    _tempWires = [];\r\n\r\n  function _nodeFactory(data,rpgs) {\r\n    let className = data.class;\r\n\r\n    switch (className) {\r\n      case 'BaseNode': return new BaseNode(data,rpgs);\r\n      //case 'ActorNode': return new ActorNode(data,rpgs);\r\n      //case 'ScriptNode': return new ScriptNode(data,rpgs);\r\n      case 'AnswerNode': return new AnswerNode(data,rpgs);\r\n      case 'DialogNode': return new DialogNode(data,rpgs);\r\n      case 'TalkNode': return new TalkNode(data,rpgs);\r\n      //case 'QuestNode': return new QuestNode(data,rpgs);\r\n      //case 'TaskNode': return new TaskNode(data,rpgs);\r\n      //case 'VariableNode': return new VariableNode(data,rpgs);\r\n      default:\r\n        _errorHandler.showMsg(ErrorCode.CLASS_NOT_DEFINED, {class: className});\r\n        return null;\r\n    }\r\n  }\r\n\r\n  let _findNode = function (nodeId) {\r\n    var i;\r\n\r\n    for (i = 0; i < _objectPool.length; i++) {\r\n      if (_objectPool[i].getId() === nodeId) return _objectPool[i];\r\n    }\r\n    return null;\r\n  },\r\n\r\n  _removeNode = function (id) {\r\n    let index = Utils.getIndexById(_objectPool, id);\r\n    let isNodeFound = index > -1;\r\n\r\n    if (isNodeFound) {\r\n      let node = _objectPool.splice(index, 1)[0];\r\n\r\n      node.dispose();\r\n    }\r\n    return isNodeFound;\r\n  },\r\n\r\n  _setConnection = function (type, nodeId1, nodeId2) {\r\n    if (nodeId1 === nodeId2) {\r\n      _errorHandler.showMsg(ErrorCode.CONNECTION_TO_ITSELF, {node: nodeId1});\r\n    }\r\n\r\n    let node1 = _findNode(nodeId1);\r\n    let node2 = _findNode(nodeId2);\r\n\r\n    if (node2 === null) {\r\n      _tempWires.push({type: type, targetNode: nodeId1, referenceNode: nodeId2});\r\n      return;\r\n    }\r\n    if (node1.canAddWireType(type)) {\r\n      node1.setWire(type, node2.getId());\r\n    } else {\r\n      _errorHandler.showMsg(ErrorCode.IMPROPER_CONNECTION, {\r\n        type: type,\r\n        node1: nodeId1,\r\n        node2: nodeId2\r\n      });\r\n    }\r\n  };\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  // METHOD CHAINING\r\n  ////////////////////////////////////////////////////////////////\r\n\r\n  /**\r\n   * Method used to check passed parameters and later merge them into\r\n   * single object.\r\n   * @param  {string} id      Mandatory id of node.\r\n   * @param  {object} params  Optional parameters.\r\n   * @return {object} Parameters merged into object.\r\n   */\r\n  function _checkAndMergeParams(\r\n                id = _errorHandler.showMsg(ErrorCode.MANDATORY_PARAM, {param: 'id'}),\r\n                params) {\r\n      if (typeof id !== 'string') {\r\n        _errorHandler.showMsg(ErrorCode.INCORRECT_TYPE, {type: 'string'});\r\n      }\r\n      if (params !== undefined && typeof params !== 'object') {\r\n        _errorHandler.showMsg(ErrorCode.INCORRECT_TYPE, {type: 'object'});\r\n      } else if (params === undefined){\r\n        params = {};\r\n      }\r\n      params.uuid = id;\r\n      return params;\r\n  }\r\n\r\n  function _chainNodeCreator(id, params, asChild, className) {\r\n    // First, we check that id and params are valid.\r\n    params = _checkAndMergeParams(id, params);\r\n    // Class name for later usage.\r\n    params.class = className;\r\n    _nodeCreator(params, asChild);\r\n    return _self;\r\n  }\r\n\r\n  /**\r\n   * This method helps in the creation of nodes. Its focus on proper\r\n   * placement of nodes in tree.\r\n   * @param  {object} params  Parameters of created node.\r\n   * @param  {boolean} asChild Determines if node should be added as child\r\n   * of another node or as an independent node.\r\n   */\r\n  function _nodeCreator(params, asChild) {\r\n    // Test if node should be added as child or parent.\r\n    if (asChild) {\r\n      // If last added child was not null then we must check additional conditions.\r\n      if (_lastChild !== null) {\r\n        // If constructor name of previous child node, is equal to name of class,\r\n        // whose we try to create, it means node should be added to current parent.\r\n        if (_lastChild.constructor.name === params.class) {\r\n          createChildNode(params);\r\n        }\r\n        // If names of constructors not match, then we must check if new node\r\n        // can be added as child to our previous child.\r\n        else if (_lastChild.canAddChild(params.class)) {\r\n          _parentHistory.unshift(_lastChild);\r\n          createChildNode(params);\r\n        }\r\n        // Finally if previous conditions are false we try go back to previous\r\n        // parent node.\r\n        else {\r\n          _lastChild = _parentHistory.shift() || null;\r\n          _nodeCreator(params, asChild);\r\n        }\r\n      }\r\n      // If last child is null, then we check if node can be added to current\r\n      // parent node.\r\n      else if (_parentHistory.length > 0 && _parentHistory[0].canAddChild(params.class)) {\r\n        createChildNode(params);\r\n      }\r\n      // If last child and last parent is equal to null, then new child node\r\n      // cant be added, so we throw error.\r\n      else {\r\n        _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n          child: params.class,\r\n          parent: _parentHistory.length > 0\r\n                ? _parentHistory[0].constructor.name\r\n                : 'null'\r\n        });\r\n      }\r\n    } else {\r\n      // If node is added as parent, then last child is set to null\r\n      // and parent history is cleared.\r\n      _lastChild = null;\r\n      _parentHistory.length = 0;\r\n      // After that, new node is created.\r\n      let node = _nodeFactory(params, _self);\r\n      _parentHistory = [node];\r\n      _objectPool.push(node);\r\n    }\r\n\r\n    _getWaitingWiresForNode(params.uuid).map((wire) => {\r\n      _setConnection(wire.type, wire.targetNode, wire.referenceNode);\r\n    });\r\n\r\n    function createChildNode(nodeParams) {\r\n      // We create a new node, and then set as the last child.\r\n      _lastChild = _nodeFactory(nodeParams, _self);\r\n      // Then we add our freshly created node to its parent.\r\n      _parentHistory[0].addChild(_lastChild.getId());\r\n      // Finally new node is added to main storage object.\r\n      _objectPool.push(_lastChild);\r\n    }\r\n  }\r\n\r\n  function _getWaitingWiresForNode(nodeId) {\r\n    let wires = [];\r\n    for (var i = _tempWires.length - 1; i >= 0 ; i--) {\r\n      if (_tempWires[i].referenceNode === nodeId) {\r\n        wires.push(_tempWires.splice(i, 1)[0]);\r\n      }\r\n    }\r\n    return wires;\r\n  }\r\n\r\n\r\n  function _getNodesByClass(className) {\r\n    return _objectPool.filter((node) => {\r\n      return node.constructor.name === className;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Helper method that is used to remove nodes from object pool\r\n   * and reset context of 'method chaining' algorithm.\r\n   * @param  {string} id  Id of node to be removed.\r\n   */\r\n  let _chainNodeRemover = function(id) {\r\n    _lastChild = null;\r\n    _parentHistory.length = 0;\r\n    _removeNode(id);\r\n    return this;\r\n  },\r\n\r\n  _addNode = function (className, params, asChild) {\r\n    params.class = className;\r\n    _nodeCreator(params, asChild);\r\n    return this;\r\n  },\r\n\r\n  //_addActor = function (id, params) {\r\n  //  return _chainNodeCreator(id, params, false, 'ActorNode');\r\n  //},\r\n\r\n  //_addQuest = function (id, params) {\r\n  //  return _chainNodeCreator(id, params, false, 'QuestNode');\r\n  //},\r\n\r\n  _addDialog = function (id, params) {\r\n    return _chainNodeCreator(id, params, false, 'DialogNode');\r\n  },\r\n\r\n  //_addCondition = function (id, params) {\r\n  //  return _chainNodeCreator(id, params, false, 'ScriptNode');\r\n  //},\r\n\r\n  //_addVariable = function (id, params) {\r\n  //  return _chainNodeCreator(id, params, false, 'VariableNode');\r\n  //},\r\n\r\n  _addTalk = function (id, params) {\r\n    return _chainNodeCreator(id, params, true, 'TalkNode');\r\n  },\r\n\r\n  _addAnswer = function (id, params) {\r\n    return _chainNodeCreator(id, params, true, 'AnswerNode');\r\n  },\r\n\r\n  _setWire = function (type, referenceNodeId) {\r\n    let targetNode = _lastChild;\r\n    if (targetNode === null && _parentHistory.length > 0) {\r\n      targetNode = _parentHistory[0];\r\n    }\r\n    else {\r\n      /* _errorHandler.showMsg(ErrorCode.INCOMPATIBLE_CHILD,{\r\n        child:className,\r\n        parent: _parentHistory.length > 0\r\n              ? _parentHistory[0].constructor.name\r\n              : 'null'\r\n      });*/\r\n    }\r\n    _setConnection(type, targetNode.getId(), referenceNodeId);\r\n    return this;\r\n  },\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  //GETTERS\r\n  ////////////////////////////////////////////////////////////////\r\n  //_getActors = function () {\r\n  //  return _getNodesByClass('ActorNode');\r\n  //},\r\n\r\n  //_getConditions = function () {\r\n  //  return _getNodesByClass('ScriptNode');\r\n  //},\r\n\r\n  _getDialogs = function () {\r\n    return _getNodesByClass('DialogNode');\r\n  },\r\n\r\n  //_getQuests = function () {\r\n  //  return _getNodesByClass('QuestNode');\r\n  //},\r\n\r\n  //_getVariables = function () {\r\n  //  return _getNodesByClass('VariableNode');\r\n  //},\r\n\r\n  ////////////////////////////////////////////////////////////////\r\n  //MISCALINEUS\r\n  ////////////////////////////////////////////////////////////////\r\n\r\n  //_setVar = function (variableId, value) {\r\n  //  let _var = _findNode(variableId);\r\n  //  if (_var !== null) _var.setValue(value);\r\n  //},\r\n\r\n  //_getVar = function (variableId) {\r\n  //  let _var = _findNode(variableId);\r\n  //  return _var !== null ? _var.getValue() : undefined;\r\n  //},\r\n\r\n  //_executeScript = function (scriptId) {\r\n  //  let _script = _findNode(scriptId);\r\n  //  return _script !== null && _script.execute ? _script.execute({rpgs:_self}) : true;\r\n  //},\r\n\r\n  _serializeData = function () {\r\n    let data = _objectPool.map((obj) => {\r\n      return obj.getData ? obj.getData() : obj;\r\n    });\r\n    return JSON.stringify(data);\r\n  };\r\n\r\n  let _self = {\r\n    ////////////////////////////////////////////\r\n    // General node methods\r\n    ////////////////////////////////////////////\r\n    findNode: _findNode,\r\n    addNode: _addNode,\r\n    removeNode: _removeNode,\r\n\r\n    ////////////////////////////////////////////\r\n    // Link creation methods\r\n    ////////////////////////////////////////////\r\n    setWire: _setWire,\r\n\r\n    ////////////////////////////////////////////\r\n    // Chainable methods\r\n    ////////////////////////////////////////////\r\n    //addActor: _addActor,\r\n    //addQuest: _addQuest,\r\n    addDialog: _addDialog,\r\n    //addCondition: _addCondition,\r\n    //addVariable: _addVariable,\r\n    addTalk: _addTalk,\r\n    addAnswer: _addAnswer,\r\n\r\n    ////////////////////////////////////////////\r\n    // Getter methods\r\n    ////////////////////////////////////////////\r\n    //getActors: _getActors,\r\n    //getConditions: _getConditions,\r\n    getDialogs: _getDialogs,\r\n    //getQuests: _getQuests,\r\n    //getVariables: _getVariables,\r\n\r\n    ////////////////////////////////////////////\r\n    // Miscalineus methods\r\n    ////////////////////////////////////////////\r\n    //setVar: _setVar,\r\n    //getVar: _getVar,\r\n    //executeScript: _executeScript,\r\n    serializeData: _serializeData\r\n  };\r\n  if (data) _objectPool = JSON.parse(data).map((d) => _nodeFactory(d, _self));\r\n\r\n  return _self;\r\n};\r\nmodule.exports = RPGSystem;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/RPGSystem.js","'use strict';\r\n\r\n/**\r\n * Fast UUID generator, RFC4122 version 4 compliant.\r\n * @author Jeff Ward (jcward.com).\r\n * @license MIT license\r\n * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\r\n **/\r\nvar UUID = (function () {\r\n  var self = {};\r\n  var lut = [];\r\n  var i;\r\n\r\n  for (i = 0; i < 256; i++) {\r\n    lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\r\n  }\r\n\r\n  self.generate = function () {\r\n    var d0 = Math.random() * 0xffffffff | 0;\r\n    var d1 = Math.random() * 0xffffffff | 0;\r\n    var d2 = Math.random() * 0xffffffff | 0;\r\n    var d3 = Math.random() * 0xffffffff | 0;\r\n\r\n    return lut[d0 & 0xff] + lut[d0 >> 8 & 0xff] + lut[d0 >> 16 & 0xff] +\r\n      lut[d0 >> 24 & 0xff] + '-' + lut[d1 & 0xff] + lut[d1 >> 8 & 0xff] + '-' +\r\n      lut[d1 >> 16 & 0x0f | 0x40] + lut[d1 >> 24 & 0xff] + '-' +\r\n      lut[d2 & 0x3f | 0x80] + lut[d2 >> 8 & 0xff] + '-' + lut[d2 >> 16 & 0xff] +\r\n      lut[d2 >> 24 & 0xff] + lut[d3 & 0xff] + lut[d3 >> 8 & 0xff] +\r\n      lut[d3 >> 16 & 0xff] + lut[d3 >> 24 & 0xff];\r\n  };\r\n\r\n  return self;\r\n})();\r\n\r\nexports.getUUID = UUID.generate;\r\n\r\nlet indexOfObject = function (array, obj) {\r\n  var i;\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i] === obj) return i;\r\n  }\r\n  return -1;\r\n};\r\n\r\nexports.indexOfObject = indexOfObject;\r\n\r\nlet getIndexById = function (array, id) {\r\n  var i;\r\n  for (i = 0; i < array.length; i++) {\r\n    if (array[i].getId() === id) return i;\r\n  }\r\n  return -1;\r\n};\r\nexports.getIndexById = getIndexById;\r\n\r\nexports.addObjectToArray = function (array, obj) {\r\n  if (indexOfObject(array, obj) === -1) {\r\n    array.push(obj);\r\n  }\r\n  return array;\r\n};\r\n\r\n/* exports.removeObjectById = function(array,id) {\r\n  let index = getIndexById(array,id);\r\n  if(index !== -1) {\r\n    let spliced = array.splice(index,1);\r\n    if(spliced.dispose) spliced.dispose();\r\n  }\r\n  return array;\r\n}*/\r\n\r\nexports.removeObjectFromArray = function (array, obj) {\r\n  let index = indexOfObject(array, obj);\r\n  if (index !== -1) {\r\n    let spliced = array.splice(index, 1);\r\n    if (spliced.dispose) spliced.dispose();\r\n  }\r\n  return array;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Utils.js","'use strict';\r\nimport Utils from './Utils';\r\nimport Plug from './Plug';\r\nimport ConnectorManager from './ConnectorManager';\r\nimport ParamsManager from './ParamsManager';\r\n\r\nlet BaseNode = (function () {\r\n\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _uuid = new WeakMap();\r\n\r\n  function executeScript (rpgs,scriptId) {\r\n    let _script = rpgs.findNode(scriptId);\r\n    return _script !== null && _script.execute ? _script.execute({rpgs:rpgs}) : true;\r\n  }\r\n\r\n  return class BaseNode {\r\n    constructor(data,rpgs) {\r\n      data = data||{};\r\n      // If uuid not present, then by default we assign Universally Unique ID.\r\n      _uuid.set(this, data.uuid ? data.uuid : Utils.getUUID());\r\n      this.rpgs = rpgs;\r\n      this.pm = new ParamsManager(data.params||{});\r\n      this.cm = new ConnectorManager();\r\n      this._init();\r\n      this.cm.setData(data);\r\n    }\r\n\r\n    _init() {\r\n      this.cm.addConnector(Plug.VISIBLE,1);\r\n      this.cm.addConnector(Plug.ENABLED,1);\r\n    }\r\n\r\n    addParam(name,type,value) {\r\n      this.pm.addParam(name,type,value)\r\n    }\r\n\r\n    getParam(name) {\r\n      return this.pm.getParamValue(name);\r\n    }\r\n\r\n    setParam(name,value) {\r\n      this.pm.setParamValue(name,value);\r\n    }\r\n\r\n    removeParam(name) {\r\n      this.pm.removeParam(name);\r\n    }\r\n\r\n    setId(value) {\r\n      _uuid.set(this, value);\r\n    }\r\n\r\n    getId() {\r\n      return _uuid.get(this);\r\n    }\r\n\r\n    /**\r\n     * Returns visibility state.\r\n     * @return {boolean} Visibility state\r\n     */\r\n    isVisible() {\r\n      return executeScript(this.rpgs, this.cm.getWiresType(Plug.VISIBLE)[0]);\r\n    }\r\n\r\n    /**\r\n     * Returns activity state.\r\n     * @return {boolean} Active state\r\n     */\r\n    isActive() {\r\n      return executeScript(this.rpgs, this.cm.getWiresType(Plug.ENABLED)[0]);\r\n    }\r\n\r\n    getData() {\r\n      return {\r\n        class: this.constructor.name,\r\n        uuid: this.getId(),\r\n        wires: this.cm.getData(),\r\n        params: this.pm.getParams()\r\n      };\r\n    }\r\n\r\n    canAddChild(type) {\r\n      // false because cannot have children\r\n      return false;\r\n    }\r\n\r\n    addChild(childId) {\r\n      // empty because cannot have children\r\n    }\r\n\r\n    removeChild(index) {\r\n      // empty because cannot have children\r\n    }\r\n\r\n    getChild(index) {\r\n      // null because cannot have children\r\n      return null;\r\n    }\r\n\r\n    getChildren() {\r\n      // empty array because cannot have children\r\n      return [];\r\n    }\r\n\r\n    canAddWireType(type) {\r\n      return this.cm.canAddWireType(type);\r\n    }\r\n\r\n    setWire(type, nodeId) {\r\n      this.cm.addWireType(type,nodeId);\r\n    }\r\n\r\n    getWires(type) {\r\n      return this.cm.getWiresType(type);\r\n    }\r\n\r\n    removeWire(type, nodeId) {\r\n      this.cm.removeWireType(type,nodeId);\r\n    }\r\n\r\n    dispose() {\r\n      this.cm.dispose();\r\n      this.pm.dispose();\r\n      this.cm = null;\r\n      this.pm = null;\r\n      this.rpgs = null;\r\n      _uuid.delete(this);\r\n    }\r\n  };\r\n})();\r\nmodule.exports = BaseNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/BaseNode.js","'use strict';\r\n\r\nconst VISIBLE = 'visible';\r\nconst ENABLED = 'enabled';\r\nconst GO_TALK = 'go_talk';\r\n//To remove, deprecated\r\nconst DIALOG = 'dialog';\r\n\r\nexports.VISIBLE = VISIBLE;\r\nexports.ENABLED = ENABLED;\r\nexports.GO_TALK = GO_TALK;\r\n//To remove, deprecated\r\nexports.DIALOG = DIALOG;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Plug.js","'use strict';\r\nimport Connector from './Connector';\r\n\r\nlet ConnectorManager = (function () {\r\n  let _connectors = new WeakMap();\r\n\r\n  return class ConnectorManager {\r\n\r\n    constructor() {\r\n      _connectors.set(this,[]);\r\n    }\r\n\r\n    setData(data) {\r\n      let wires = data.wires||{}\r\n      let parsed = [];\r\n      let connector, limit, nodes;\r\n      for (let type in wires) {\r\n        if (wires.hasOwnProperty(type)) {\r\n          connector = this.getConnector(type);\r\n          if(connector !== null) {\r\n            nodes = wires[type];\r\n            nodes.map(n => connector.addWire(n));\r\n            parsed.push(connector);\r\n          }\r\n        }\r\n      }\r\n      return parsed;\r\n    }\r\n\r\n    addConnector(type,limit) {\r\n      let connectors = _connectors.get(this);\r\n      let alreadyExist = connectors.filter(c => c.getType() === type).length > 0;\r\n      if(!alreadyExist) {\r\n        connectors.push(new Connector(type,limit));\r\n        _connectors.set(this,connectors);\r\n      }\r\n    }\r\n\r\n    getConnector(type) {\r\n      let connectors = _connectors.get(this)||null;\r\n      let connector = null;\r\n      if(connectors !== null) {\r\n        connector = connectors.filter(c => c.getType() === type);\r\n      }\r\n      return connector !== null && connector.length > 0 ? connector[0] : null;\r\n    }\r\n\r\n    canAddWireType(type) {\r\n      let connectors = _connectors.get(this);\r\n      return connectors.filter(c => {\r\n        return c.getType() === type && c.canAddWire()\r\n      }).length > 0;\r\n    }\r\n\r\n    addWireType(type,nodeId) {\r\n      let connector = this.getConnector(type);\r\n      if(connector !== null) {\r\n        connector.addWire(nodeId);\r\n      }\r\n    }\r\n\r\n    getWiresType(type) {\r\n      let connector = this.getConnector(type);\r\n      return connector !== null ? connector.getWires() : [];\r\n    }\r\n\r\n    removeWireType(type,nodeId) {\r\n      let connector = this.getConnector(type);\r\n      if(connector !== null) {\r\n        connector.removeWire(nodeId);\r\n      }\r\n    }\r\n\r\n    getData() {\r\n      let data = {};\r\n      let connectors = _connectors.get(this)||[];\r\n      let type, nodes, i;\r\n      for (i = 0; i < connectors.length; i++) {\r\n        type = connectors[i].getType();\r\n        nodes = connectors[i].getWires();\r\n        data[type] = nodes;\r\n      }\r\n      return data;\r\n    }\r\n\r\n    dispose() {\r\n      _connectors.get(this).map((c) => { c.dispose(); });\r\n      _connectors.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = ConnectorManager;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ConnectorManager.js","'use strict';\r\n\r\nlet Connector = (function (){\r\n  let _type = new WeakMap();\r\n  let _limit = new WeakMap();\r\n  let _wires = new WeakMap();\r\n  return class Connector {\r\n\r\n    constructor(type,limit) {\r\n      _type.set(this,type);\r\n      _limit.set(this, isNaN(parseInt(limit)) ? -1 : parseInt(limit));\r\n      _wires.set(this,[]);\r\n    }\r\n\r\n    getType() {\r\n      return _type.get(this);\r\n    }\r\n\r\n    getLimit() {\r\n      return _limit.get(this);\r\n    }\r\n\r\n    getWires() {\r\n      return _wires.get(this);\r\n    }\r\n\r\n    canAddWire() {\r\n      let limit = this.getLimit();\r\n      let wiresLen = this.getWires().length;\r\n      return limit === -1 || (limit > 0 && wiresLen < limit);\r\n    }\r\n\r\n    addWire(nodeId) {\r\n      let wires = this.getWires();\r\n      if(this.canAddWire()) {\r\n        wires.push(nodeId);\r\n        _wires.set(this,wires);\r\n      }\r\n    }\r\n\r\n    removeWire(nodeId) {\r\n      _wires.set(this,_wires.get(this).filter(wire => {\r\n        return wire !== nodeId;\r\n      }));\r\n    }\r\n\r\n    dispose() {\r\n      _type.delete(this);\r\n      _limit.delete(this);\r\n      _wires.delete(this);\r\n    }\r\n  };\r\n})();\r\n\r\nmodule.exports = Connector\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/Connector.js","'use strict';\r\n\r\nlet ParamsManager = (function () {\r\n  let _params = new WeakMap();\r\n\r\n  function _paramExist(paramName,containerObj) {\r\n    let keys = Object.keys(containerObj);\r\n    return keys.filter(k => k === paramName).length > 0;\r\n  }\r\n\r\n  function _addParam(paramName,paramType,paramValue,containerObj,isMandatory) {\r\n    if(!_paramExist(paramName,containerObj)) {\r\n      containerObj[paramName] = {type:paramType,value:paramValue,mand:isMandatory};\r\n    } else {\r\n      //console.warn();\r\n    }\r\n    return containerObj\r\n  }\r\n\r\n  return class ParamsManager {\r\n    constructor(data) {\r\n      _params.set(this,data||{});\r\n    }\r\n\r\n    addMandatoryParam(name,type,value) {\r\n      _params.set(this,_addParam(name,type,value,_params.get(this),true));\r\n    }\r\n\r\n    addParam(name,type,value) {\r\n      _params.set(this,_addParam(name,type,value,_params.get(this),false));\r\n    }\r\n\r\n    getParam(name) {\r\n      let params = _params.get(this);\r\n      return params[name] !== undefined ? params[name] : null;\r\n    }\r\n\r\n    getParamValue(name) {\r\n      let param = this.getParam(name)\r\n      return param !== null ? param.value : null;\r\n    }\r\n\r\n    setParamValue(name,value) {\r\n      let params = _params.get(this);\r\n      if(params[name] !== undefined) params[name].value = value;\r\n    }\r\n\r\n    removeParam(name) {\r\n      let param = this.getParam(name);\r\n      let params = _params.get(this);\r\n      if(param !== null && !param.mand) {\r\n        delete params[name];\r\n        _params.set(this,params);\r\n      }\r\n    }\r\n\r\n    getParams() {\r\n      return _params.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      _params.delete(this);\r\n    }\r\n  };\r\n})();\r\nmodule.exports = ParamsManager;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ParamsManager.js","'use strict';\r\n\r\nimport ErrorCode from './ErrorCode';\r\n\r\n\r\nlet ErrorHandler = function (editor) {\r\n  return {\r\n    showMsg: function(errorCode, params) {\r\n      let msg = '';\r\n\r\n      switch (errorCode) {\r\n        case ErrorCode.NODE_NOT_EXISTS:\r\n          msg = `Node of type ${params.type} is not defined.`;\r\n          break;\r\n        case ErrorCode.CLASS_NOT_DEFINED:\r\n          msg = `Class ${params.class} is not defined.`;\r\n          break;\r\n        case ErrorCode.CONNECTION_TO_ITSELF:\r\n          msg = `Cannot connect node \"${params.node}\" to itself.`;\r\n          break;\r\n        case ErrorCode.IMPROPER_CONNECTION:\r\n          msg = `Cannot create connection of type \"${params.type}\"` +\r\n          ` from node id \"${params.node1}\" to node id \"${params.node2}\".`;\r\n          break;\r\n        case ErrorCode.OBJECT_NOT_FOUND:\r\n          msg = `Cannot find object with id \"${params.id}\"`;\r\n          break;\r\n        case ErrorCode.MANDATORY_PARAM:\r\n          msg = `Parameter \"${params.param}\" was expected but instead got undefined.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_TYPE:\r\n          msg = `Wrong type of argument. Expected \"${params.type}\"`;\r\n          break;\r\n        case ErrorCode.INCORRECT_PARENT_NODE:\r\n          msg = `Node of type \"${params.child}\" can be added only to \"${params.parent}\" node.`;\r\n          break;\r\n        case ErrorCode.INCORRECT_LINK_TARGET:\r\n          msg = `Cannot create link connection to null node.`;\r\n          break;\r\n        case ErrorCode.INCOMPATIBLE_CHILD:\r\n          msg = `Cannot add child of type \"${params.child}\" into parent of type \"${params.parent}\".`;\r\n          break;\r\n        default:\r\n          msg = `Unknown error code passed: ${errorCode}`;\r\n      }\r\n      if (editor) {\r\n        editor.showMsg(msg);\r\n      } else {\r\n        throw new Error(msg);\r\n        // add warning mode?\r\n      }\r\n    }\r\n  };\r\n};\r\nmodule.exports = ErrorHandler;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ErrorHandler.js","'use strict';\r\n\r\nconst NODE_NOT_EXISTS = 0;\r\nconst CLASS_NOT_DEFINED = 1;\r\nconst CONNECTION_TO_ITSELF = 2;\r\nconst IMPROPER_CONNECTION = 3;\r\nconst OBJECT_NOT_FOUND = 4;\r\nconst MANDATORY_PARAM = 5;\r\nconst INCORRECT_TYPE = 6;\r\nconst INCORRECT_PARENT_NODE = 7;\r\nconst INCORRECT_LINK_TARGET = 8;\r\nconst INCOMPATIBLE_CHILD = 9;\r\n\r\nexports.NODE_NOT_EXISTS = NODE_NOT_EXISTS;\r\nexports.CLASS_NOT_DEFINED = CLASS_NOT_DEFINED;\r\nexports.CONNECTION_TO_ITSELF = CONNECTION_TO_ITSELF;\r\nexports.IMPROPER_CONNECTION = IMPROPER_CONNECTION;\r\nexports.OBJECT_NOT_FOUND = OBJECT_NOT_FOUND;\r\nexports.MANDATORY_PARAM = MANDATORY_PARAM;\r\nexports.INCORRECT_TYPE = INCORRECT_TYPE;\r\nexports.INCORRECT_PARENT_NODE = INCORRECT_PARENT_NODE;\r\nexports.INCORRECT_LINK_TARGET = INCORRECT_LINK_TARGET;\r\nexports.INCOMPATIBLE_CHILD = INCOMPATIBLE_CHILD;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/ErrorCode.js","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Plug from '../core/Plug';\r\n\r\nlet AnswerNode = (function () {\r\n  // Weak maps are new feature to JavaScript. We can store private\r\n  // object properties in key/value pairs using our instance as the key,\r\n  // and our class can capture those key/value maps in a closure.\r\n  let _text = new WeakMap();\r\n\r\n  return class AnswerNode extends BaseNode {\r\n    constructor(data) {\r\n      super(data);\r\n      _text.set(this, data && data.text ? data.text : '');\r\n    }\r\n\r\n    _init() {\r\n      super._init();\r\n      this.cm.addConnector(Plug.GO_TALK,1);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    getTalk() {\r\n      return this.getWires(Plug.GO_TALK)[0];\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\nmodule.exports = AnswerNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/AnswerNode.js","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\nimport Plug from '../core/Plug';\r\n\r\n\r\n\r\n// CHANGE FROM NODE TO STATIC ELEMENT!\r\n\r\n\r\n\r\nlet DialogNode = (function () {\r\n\r\n  let _start = new WeakMap();\r\n\r\n  return class DialogNode extends CompoundNode {\r\n\r\n    constructor(data) {\r\n      super(data);\r\n      _start.set(this, data && data.startTalk ? data.startTalk : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.startTalk = this.getStartTalk();\r\n      return data;\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'TalkNode';\r\n    }\r\n\r\n    addChild(childId) {\r\n      super.addChild(childId);\r\n      let children = this.getChildren();\r\n      if(children.length === 1) this.setStartTalk(childId);\r\n    }\r\n\r\n    removeChild(index) {\r\n      let child = this.getChild(index);\r\n      if(child === this.getStartTalk()) this.setStartTalk('');\r\n      super.removeChild(index);\r\n    }\r\n\r\n    setStartTalk(talkId) {\r\n      // should only add talk nodes from internal children list\r\n      let children = this.getChildren();\r\n      let canAdd = children.filter(child => child === talkId)[0] !== undefined;\r\n      if(canAdd || talkId === '') _start.set(this, talkId);\r\n    }\r\n\r\n    getStartTalk() {\r\n      return _start.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      _start.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\nmodule.exports = DialogNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/DialogNode.js","'use strict';\r\nimport BaseNode from '../core/BaseNode';\r\nimport Utils from '../core/Utils';\r\n\r\nlet CompoundNode = (function () {\r\n\r\n  let _children = new WeakMap();\r\n\r\n  return class CompoundNode extends BaseNode {\r\n\r\n    constructor(data,rpgs) {\r\n      super(data,rpgs);\r\n      _children.set(this, data && data.children ? data.children : []);\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.children = this.getChildren();\r\n      return data;\r\n    }\r\n\r\n    addChild(childId) {\r\n      let children = _children.get(this);\r\n\r\n      _children.set(this, Utils.addObjectToArray(children, childId));\r\n    }\r\n\r\n    removeChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      if(index >= 0 && index < children.length) {\r\n        children.splice(index, 1);\r\n        _children.set(this, children);\r\n      }\r\n    }\r\n\r\n    getChild(index) {\r\n      let children = _children.get(this);\r\n\r\n      return children.length > index ? children[index] : null;\r\n    }\r\n\r\n    getChildren() {\r\n      return _children.get(this);\r\n    }\r\n\r\n    dispose() {\r\n      if(this.rpgs) {\r\n        _children.get(this).map(childId => {\r\n          let nodeObj = this.rpgs.findNode(childId);\r\n          if(nodeObj !== null) nodeObj.dispose();\r\n        });\r\n      }\r\n      _children.delete(this);\r\n      super.dispose();\r\n    }\r\n\r\n  };\r\n})();\r\nmodule.exports = CompoundNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/core/CompoundNode.js","'use strict';\r\nimport CompoundNode from '../core/CompoundNode';\r\nimport Plug from '../core/Plug';\r\n\r\nlet TalkNode = (function () {\r\n\r\n  let _text = new WeakMap();\r\n\r\n  return class TalkNode extends CompoundNode {\r\n    constructor(data) {\r\n      super(data);\r\n      _text.set(this, data && data.text ? data.text : '');\r\n    }\r\n\r\n    getData() {\r\n      let data = super.getData();\r\n\r\n      data.text = this.getText();\r\n      return data;\r\n    }\r\n\r\n    setText(value) {\r\n      _text.set(this, value);\r\n    }\r\n\r\n    getText() {\r\n      return _text.get(this);\r\n    }\r\n\r\n    canAddChild(type) {\r\n      return type === 'AnswerNode';\r\n    }\r\n\r\n    dispose() {\r\n      _text.delete(this);\r\n      super.dispose();\r\n    }\r\n  };\r\n})();\r\nmodule.exports = TalkNode;\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/eslint-loader!./src/rpgs/dialogs/TalkNode.js"],"sourceRoot":""}